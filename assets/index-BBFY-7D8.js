(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const l of document.querySelectorAll('link[rel="modulepreload"]'))r(l);new MutationObserver(l=>{for(const u of l)if(u.type==="childList")for(const h of u.addedNodes)h.tagName==="LINK"&&h.rel==="modulepreload"&&r(h)}).observe(document,{childList:!0,subtree:!0});function i(l){const u={};return l.integrity&&(u.integrity=l.integrity),l.referrerPolicy&&(u.referrerPolicy=l.referrerPolicy),l.crossOrigin==="use-credentials"?u.credentials="include":l.crossOrigin==="anonymous"?u.credentials="omit":u.credentials="same-origin",u}function r(l){if(l.ep)return;l.ep=!0;const u=i(l);fetch(l.href,u)}})();var Hh={exports:{}},to={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var by;function qE(){if(by)return to;by=1;var a=Symbol.for("react.transitional.element"),e=Symbol.for("react.fragment");function i(r,l,u){var h=null;if(u!==void 0&&(h=""+u),l.key!==void 0&&(h=""+l.key),"key"in l){u={};for(var m in l)m!=="key"&&(u[m]=l[m])}else u=l;return l=u.ref,{$$typeof:a,type:r,key:h,ref:l!==void 0?l:null,props:u}}return to.Fragment=e,to.jsx=i,to.jsxs=i,to}var Sy;function HE(){return Sy||(Sy=1,Hh.exports=qE()),Hh.exports}var wt=HE(),jh={exports:{}},Vt={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Ry;function jE(){if(Ry)return Vt;Ry=1;var a=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),i=Symbol.for("react.fragment"),r=Symbol.for("react.strict_mode"),l=Symbol.for("react.profiler"),u=Symbol.for("react.consumer"),h=Symbol.for("react.context"),m=Symbol.for("react.forward_ref"),g=Symbol.for("react.suspense"),_=Symbol.for("react.memo"),p=Symbol.for("react.lazy"),E=Symbol.iterator;function v(M){return M===null||typeof M!="object"?null:(M=E&&M[E]||M["@@iterator"],typeof M=="function"?M:null)}var R={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},U=Object.assign,B={};function k(M,J,tt){this.props=M,this.context=J,this.refs=B,this.updater=tt||R}k.prototype.isReactComponent={},k.prototype.setState=function(M,J){if(typeof M!="object"&&typeof M!="function"&&M!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,M,J,"setState")},k.prototype.forceUpdate=function(M){this.updater.enqueueForceUpdate(this,M,"forceUpdate")};function P(){}P.prototype=k.prototype;function $(M,J,tt){this.props=M,this.context=J,this.refs=B,this.updater=tt||R}var F=$.prototype=new P;F.constructor=$,U(F,k.prototype),F.isPureReactComponent=!0;var G=Array.isArray,st={H:null,A:null,T:null,S:null,V:null},q=Object.prototype.hasOwnProperty;function L(M,J,tt,it,lt,et){return tt=et.ref,{$$typeof:a,type:M,key:J,ref:tt!==void 0?tt:null,props:et}}function T(M,J){return L(M.type,J,void 0,void 0,void 0,M.props)}function A(M){return typeof M=="object"&&M!==null&&M.$$typeof===a}function D(M){var J={"=":"=0",":":"=2"};return"$"+M.replace(/[=:]/g,function(tt){return J[tt]})}var O=/\/+/g;function N(M,J){return typeof M=="object"&&M!==null&&M.key!=null?D(""+M.key):J.toString(36)}function w(){}function j(M){switch(M.status){case"fulfilled":return M.value;case"rejected":throw M.reason;default:switch(typeof M.status=="string"?M.then(w,w):(M.status="pending",M.then(function(J){M.status==="pending"&&(M.status="fulfilled",M.value=J)},function(J){M.status==="pending"&&(M.status="rejected",M.reason=J)})),M.status){case"fulfilled":return M.value;case"rejected":throw M.reason}}throw M}function K(M,J,tt,it,lt){var et=typeof M;(et==="undefined"||et==="boolean")&&(M=null);var mt=!1;if(M===null)mt=!0;else switch(et){case"bigint":case"string":case"number":mt=!0;break;case"object":switch(M.$$typeof){case a:case e:mt=!0;break;case p:return mt=M._init,K(mt(M._payload),J,tt,it,lt)}}if(mt)return lt=lt(M),mt=it===""?"."+N(M,0):it,G(lt)?(tt="",mt!=null&&(tt=mt.replace(O,"$&/")+"/"),K(lt,J,tt,"",function(Ot){return Ot})):lt!=null&&(A(lt)&&(lt=T(lt,tt+(lt.key==null||M&&M.key===lt.key?"":(""+lt.key).replace(O,"$&/")+"/")+mt)),J.push(lt)),1;mt=0;var It=it===""?".":it+":";if(G(M))for(var Et=0;Et<M.length;Et++)it=M[Et],et=It+N(it,Et),mt+=K(it,J,tt,et,lt);else if(Et=v(M),typeof Et=="function")for(M=Et.call(M),Et=0;!(it=M.next()).done;)it=it.value,et=It+N(it,Et++),mt+=K(it,J,tt,et,lt);else if(et==="object"){if(typeof M.then=="function")return K(j(M),J,tt,it,lt);throw J=String(M),Error("Objects are not valid as a React child (found: "+(J==="[object Object]"?"object with keys {"+Object.keys(M).join(", ")+"}":J)+"). If you meant to render a collection of children, use an array instead.")}return mt}function C(M,J,tt){if(M==null)return M;var it=[],lt=0;return K(M,it,"","",function(et){return J.call(tt,et,lt++)}),it}function I(M){if(M._status===-1){var J=M._result;J=J(),J.then(function(tt){(M._status===0||M._status===-1)&&(M._status=1,M._result=tt)},function(tt){(M._status===0||M._status===-1)&&(M._status=2,M._result=tt)}),M._status===-1&&(M._status=0,M._result=J)}if(M._status===1)return M._result.default;throw M._result}var nt=typeof reportError=="function"?reportError:function(M){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var J=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof M=="object"&&M!==null&&typeof M.message=="string"?String(M.message):String(M),error:M});if(!window.dispatchEvent(J))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",M);return}console.error(M)};function Y(){}return Vt.Children={map:C,forEach:function(M,J,tt){C(M,function(){J.apply(this,arguments)},tt)},count:function(M){var J=0;return C(M,function(){J++}),J},toArray:function(M){return C(M,function(J){return J})||[]},only:function(M){if(!A(M))throw Error("React.Children.only expected to receive a single React element child.");return M}},Vt.Component=k,Vt.Fragment=i,Vt.Profiler=l,Vt.PureComponent=$,Vt.StrictMode=r,Vt.Suspense=g,Vt.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=st,Vt.__COMPILER_RUNTIME={__proto__:null,c:function(M){return st.H.useMemoCache(M)}},Vt.cache=function(M){return function(){return M.apply(null,arguments)}},Vt.cloneElement=function(M,J,tt){if(M==null)throw Error("The argument must be a React element, but you passed "+M+".");var it=U({},M.props),lt=M.key,et=void 0;if(J!=null)for(mt in J.ref!==void 0&&(et=void 0),J.key!==void 0&&(lt=""+J.key),J)!q.call(J,mt)||mt==="key"||mt==="__self"||mt==="__source"||mt==="ref"&&J.ref===void 0||(it[mt]=J[mt]);var mt=arguments.length-2;if(mt===1)it.children=tt;else if(1<mt){for(var It=Array(mt),Et=0;Et<mt;Et++)It[Et]=arguments[Et+2];it.children=It}return L(M.type,lt,void 0,void 0,et,it)},Vt.createContext=function(M){return M={$$typeof:h,_currentValue:M,_currentValue2:M,_threadCount:0,Provider:null,Consumer:null},M.Provider=M,M.Consumer={$$typeof:u,_context:M},M},Vt.createElement=function(M,J,tt){var it,lt={},et=null;if(J!=null)for(it in J.key!==void 0&&(et=""+J.key),J)q.call(J,it)&&it!=="key"&&it!=="__self"&&it!=="__source"&&(lt[it]=J[it]);var mt=arguments.length-2;if(mt===1)lt.children=tt;else if(1<mt){for(var It=Array(mt),Et=0;Et<mt;Et++)It[Et]=arguments[Et+2];lt.children=It}if(M&&M.defaultProps)for(it in mt=M.defaultProps,mt)lt[it]===void 0&&(lt[it]=mt[it]);return L(M,et,void 0,void 0,null,lt)},Vt.createRef=function(){return{current:null}},Vt.forwardRef=function(M){return{$$typeof:m,render:M}},Vt.isValidElement=A,Vt.lazy=function(M){return{$$typeof:p,_payload:{_status:-1,_result:M},_init:I}},Vt.memo=function(M,J){return{$$typeof:_,type:M,compare:J===void 0?null:J}},Vt.startTransition=function(M){var J=st.T,tt={};st.T=tt;try{var it=M(),lt=st.S;lt!==null&&lt(tt,it),typeof it=="object"&&it!==null&&typeof it.then=="function"&&it.then(Y,nt)}catch(et){nt(et)}finally{st.T=J}},Vt.unstable_useCacheRefresh=function(){return st.H.useCacheRefresh()},Vt.use=function(M){return st.H.use(M)},Vt.useActionState=function(M,J,tt){return st.H.useActionState(M,J,tt)},Vt.useCallback=function(M,J){return st.H.useCallback(M,J)},Vt.useContext=function(M){return st.H.useContext(M)},Vt.useDebugValue=function(){},Vt.useDeferredValue=function(M,J){return st.H.useDeferredValue(M,J)},Vt.useEffect=function(M,J,tt){var it=st.H;if(typeof tt=="function")throw Error("useEffect CRUD overload is not enabled in this build of React.");return it.useEffect(M,J)},Vt.useId=function(){return st.H.useId()},Vt.useImperativeHandle=function(M,J,tt){return st.H.useImperativeHandle(M,J,tt)},Vt.useInsertionEffect=function(M,J){return st.H.useInsertionEffect(M,J)},Vt.useLayoutEffect=function(M,J){return st.H.useLayoutEffect(M,J)},Vt.useMemo=function(M,J){return st.H.useMemo(M,J)},Vt.useOptimistic=function(M,J){return st.H.useOptimistic(M,J)},Vt.useReducer=function(M,J,tt){return st.H.useReducer(M,J,tt)},Vt.useRef=function(M){return st.H.useRef(M)},Vt.useState=function(M){return st.H.useState(M)},Vt.useSyncExternalStore=function(M,J,tt){return st.H.useSyncExternalStore(M,J,tt)},Vt.useTransition=function(){return st.H.useTransition()},Vt.version="19.1.0",Vt}var wy;function Dd(){return wy||(wy=1,jh.exports=jE()),jh.exports}var pi=Dd(),Fh={exports:{}},eo={},Gh={exports:{}},Qh={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Cy;function FE(){return Cy||(Cy=1,function(a){function e(C,I){var nt=C.length;C.push(I);t:for(;0<nt;){var Y=nt-1>>>1,M=C[Y];if(0<l(M,I))C[Y]=I,C[nt]=M,nt=Y;else break t}}function i(C){return C.length===0?null:C[0]}function r(C){if(C.length===0)return null;var I=C[0],nt=C.pop();if(nt!==I){C[0]=nt;t:for(var Y=0,M=C.length,J=M>>>1;Y<J;){var tt=2*(Y+1)-1,it=C[tt],lt=tt+1,et=C[lt];if(0>l(it,nt))lt<M&&0>l(et,it)?(C[Y]=et,C[lt]=nt,Y=lt):(C[Y]=it,C[tt]=nt,Y=tt);else if(lt<M&&0>l(et,nt))C[Y]=et,C[lt]=nt,Y=lt;else break t}}return I}function l(C,I){var nt=C.sortIndex-I.sortIndex;return nt!==0?nt:C.id-I.id}if(a.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var u=performance;a.unstable_now=function(){return u.now()}}else{var h=Date,m=h.now();a.unstable_now=function(){return h.now()-m}}var g=[],_=[],p=1,E=null,v=3,R=!1,U=!1,B=!1,k=!1,P=typeof setTimeout=="function"?setTimeout:null,$=typeof clearTimeout=="function"?clearTimeout:null,F=typeof setImmediate<"u"?setImmediate:null;function G(C){for(var I=i(_);I!==null;){if(I.callback===null)r(_);else if(I.startTime<=C)r(_),I.sortIndex=I.expirationTime,e(g,I);else break;I=i(_)}}function st(C){if(B=!1,G(C),!U)if(i(g)!==null)U=!0,q||(q=!0,N());else{var I=i(_);I!==null&&K(st,I.startTime-C)}}var q=!1,L=-1,T=5,A=-1;function D(){return k?!0:!(a.unstable_now()-A<T)}function O(){if(k=!1,q){var C=a.unstable_now();A=C;var I=!0;try{t:{U=!1,B&&(B=!1,$(L),L=-1),R=!0;var nt=v;try{e:{for(G(C),E=i(g);E!==null&&!(E.expirationTime>C&&D());){var Y=E.callback;if(typeof Y=="function"){E.callback=null,v=E.priorityLevel;var M=Y(E.expirationTime<=C);if(C=a.unstable_now(),typeof M=="function"){E.callback=M,G(C),I=!0;break e}E===i(g)&&r(g),G(C)}else r(g);E=i(g)}if(E!==null)I=!0;else{var J=i(_);J!==null&&K(st,J.startTime-C),I=!1}}break t}finally{E=null,v=nt,R=!1}I=void 0}}finally{I?N():q=!1}}}var N;if(typeof F=="function")N=function(){F(O)};else if(typeof MessageChannel<"u"){var w=new MessageChannel,j=w.port2;w.port1.onmessage=O,N=function(){j.postMessage(null)}}else N=function(){P(O,0)};function K(C,I){L=P(function(){C(a.unstable_now())},I)}a.unstable_IdlePriority=5,a.unstable_ImmediatePriority=1,a.unstable_LowPriority=4,a.unstable_NormalPriority=3,a.unstable_Profiling=null,a.unstable_UserBlockingPriority=2,a.unstable_cancelCallback=function(C){C.callback=null},a.unstable_forceFrameRate=function(C){0>C||125<C?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):T=0<C?Math.floor(1e3/C):5},a.unstable_getCurrentPriorityLevel=function(){return v},a.unstable_next=function(C){switch(v){case 1:case 2:case 3:var I=3;break;default:I=v}var nt=v;v=I;try{return C()}finally{v=nt}},a.unstable_requestPaint=function(){k=!0},a.unstable_runWithPriority=function(C,I){switch(C){case 1:case 2:case 3:case 4:case 5:break;default:C=3}var nt=v;v=C;try{return I()}finally{v=nt}},a.unstable_scheduleCallback=function(C,I,nt){var Y=a.unstable_now();switch(typeof nt=="object"&&nt!==null?(nt=nt.delay,nt=typeof nt=="number"&&0<nt?Y+nt:Y):nt=Y,C){case 1:var M=-1;break;case 2:M=250;break;case 5:M=1073741823;break;case 4:M=1e4;break;default:M=5e3}return M=nt+M,C={id:p++,callback:I,priorityLevel:C,startTime:nt,expirationTime:M,sortIndex:-1},nt>Y?(C.sortIndex=nt,e(_,C),i(g)===null&&C===i(_)&&(B?($(L),L=-1):B=!0,K(st,nt-Y))):(C.sortIndex=M,e(g,C),U||R||(U=!0,q||(q=!0,N()))),C},a.unstable_shouldYield=D,a.unstable_wrapCallback=function(C){var I=v;return function(){var nt=v;v=I;try{return C.apply(this,arguments)}finally{v=nt}}}}(Qh)),Qh}var Dy;function GE(){return Dy||(Dy=1,Gh.exports=FE()),Gh.exports}var Yh={exports:{}},_n={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Iy;function QE(){if(Iy)return _n;Iy=1;var a=Dd();function e(g){var _="https://react.dev/errors/"+g;if(1<arguments.length){_+="?args[]="+encodeURIComponent(arguments[1]);for(var p=2;p<arguments.length;p++)_+="&args[]="+encodeURIComponent(arguments[p])}return"Minified React error #"+g+"; visit "+_+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function i(){}var r={d:{f:i,r:function(){throw Error(e(522))},D:i,C:i,L:i,m:i,X:i,S:i,M:i},p:0,findDOMNode:null},l=Symbol.for("react.portal");function u(g,_,p){var E=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:l,key:E==null?null:""+E,children:g,containerInfo:_,implementation:p}}var h=a.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function m(g,_){if(g==="font")return"";if(typeof _=="string")return _==="use-credentials"?_:""}return _n.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=r,_n.createPortal=function(g,_){var p=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!_||_.nodeType!==1&&_.nodeType!==9&&_.nodeType!==11)throw Error(e(299));return u(g,_,null,p)},_n.flushSync=function(g){var _=h.T,p=r.p;try{if(h.T=null,r.p=2,g)return g()}finally{h.T=_,r.p=p,r.d.f()}},_n.preconnect=function(g,_){typeof g=="string"&&(_?(_=_.crossOrigin,_=typeof _=="string"?_==="use-credentials"?_:"":void 0):_=null,r.d.C(g,_))},_n.prefetchDNS=function(g){typeof g=="string"&&r.d.D(g)},_n.preinit=function(g,_){if(typeof g=="string"&&_&&typeof _.as=="string"){var p=_.as,E=m(p,_.crossOrigin),v=typeof _.integrity=="string"?_.integrity:void 0,R=typeof _.fetchPriority=="string"?_.fetchPriority:void 0;p==="style"?r.d.S(g,typeof _.precedence=="string"?_.precedence:void 0,{crossOrigin:E,integrity:v,fetchPriority:R}):p==="script"&&r.d.X(g,{crossOrigin:E,integrity:v,fetchPriority:R,nonce:typeof _.nonce=="string"?_.nonce:void 0})}},_n.preinitModule=function(g,_){if(typeof g=="string")if(typeof _=="object"&&_!==null){if(_.as==null||_.as==="script"){var p=m(_.as,_.crossOrigin);r.d.M(g,{crossOrigin:p,integrity:typeof _.integrity=="string"?_.integrity:void 0,nonce:typeof _.nonce=="string"?_.nonce:void 0})}}else _==null&&r.d.M(g)},_n.preload=function(g,_){if(typeof g=="string"&&typeof _=="object"&&_!==null&&typeof _.as=="string"){var p=_.as,E=m(p,_.crossOrigin);r.d.L(g,p,{crossOrigin:E,integrity:typeof _.integrity=="string"?_.integrity:void 0,nonce:typeof _.nonce=="string"?_.nonce:void 0,type:typeof _.type=="string"?_.type:void 0,fetchPriority:typeof _.fetchPriority=="string"?_.fetchPriority:void 0,referrerPolicy:typeof _.referrerPolicy=="string"?_.referrerPolicy:void 0,imageSrcSet:typeof _.imageSrcSet=="string"?_.imageSrcSet:void 0,imageSizes:typeof _.imageSizes=="string"?_.imageSizes:void 0,media:typeof _.media=="string"?_.media:void 0})}},_n.preloadModule=function(g,_){if(typeof g=="string")if(_){var p=m(_.as,_.crossOrigin);r.d.m(g,{as:typeof _.as=="string"&&_.as!=="script"?_.as:void 0,crossOrigin:p,integrity:typeof _.integrity=="string"?_.integrity:void 0})}else r.d.m(g)},_n.requestFormReset=function(g){r.d.r(g)},_n.unstable_batchedUpdates=function(g,_){return g(_)},_n.useFormState=function(g,_,p){return h.H.useFormState(g,_,p)},_n.useFormStatus=function(){return h.H.useHostTransitionStatus()},_n.version="19.1.0",_n}var Oy;function YE(){if(Oy)return Yh.exports;Oy=1;function a(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(a)}catch(e){console.error(e)}}return a(),Yh.exports=QE(),Yh.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Vy;function XE(){if(Vy)return eo;Vy=1;var a=GE(),e=Dd(),i=YE();function r(t){var n="https://react.dev/errors/"+t;if(1<arguments.length){n+="?args[]="+encodeURIComponent(arguments[1]);for(var s=2;s<arguments.length;s++)n+="&args[]="+encodeURIComponent(arguments[s])}return"Minified React error #"+t+"; visit "+n+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function l(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function u(t){var n=t,s=t;if(t.alternate)for(;n.return;)n=n.return;else{t=n;do n=t,(n.flags&4098)!==0&&(s=n.return),t=n.return;while(t)}return n.tag===3?s:null}function h(t){if(t.tag===13){var n=t.memoizedState;if(n===null&&(t=t.alternate,t!==null&&(n=t.memoizedState)),n!==null)return n.dehydrated}return null}function m(t){if(u(t)!==t)throw Error(r(188))}function g(t){var n=t.alternate;if(!n){if(n=u(t),n===null)throw Error(r(188));return n!==t?null:t}for(var s=t,o=n;;){var f=s.return;if(f===null)break;var d=f.alternate;if(d===null){if(o=f.return,o!==null){s=o;continue}break}if(f.child===d.child){for(d=f.child;d;){if(d===s)return m(f),t;if(d===o)return m(f),n;d=d.sibling}throw Error(r(188))}if(s.return!==o.return)s=f,o=d;else{for(var S=!1,V=f.child;V;){if(V===s){S=!0,s=f,o=d;break}if(V===o){S=!0,o=f,s=d;break}V=V.sibling}if(!S){for(V=d.child;V;){if(V===s){S=!0,s=d,o=f;break}if(V===o){S=!0,o=d,s=f;break}V=V.sibling}if(!S)throw Error(r(189))}}if(s.alternate!==o)throw Error(r(190))}if(s.tag!==3)throw Error(r(188));return s.stateNode.current===s?t:n}function _(t){var n=t.tag;if(n===5||n===26||n===27||n===6)return t;for(t=t.child;t!==null;){if(n=_(t),n!==null)return n;t=t.sibling}return null}var p=Object.assign,E=Symbol.for("react.element"),v=Symbol.for("react.transitional.element"),R=Symbol.for("react.portal"),U=Symbol.for("react.fragment"),B=Symbol.for("react.strict_mode"),k=Symbol.for("react.profiler"),P=Symbol.for("react.provider"),$=Symbol.for("react.consumer"),F=Symbol.for("react.context"),G=Symbol.for("react.forward_ref"),st=Symbol.for("react.suspense"),q=Symbol.for("react.suspense_list"),L=Symbol.for("react.memo"),T=Symbol.for("react.lazy"),A=Symbol.for("react.activity"),D=Symbol.for("react.memo_cache_sentinel"),O=Symbol.iterator;function N(t){return t===null||typeof t!="object"?null:(t=O&&t[O]||t["@@iterator"],typeof t=="function"?t:null)}var w=Symbol.for("react.client.reference");function j(t){if(t==null)return null;if(typeof t=="function")return t.$$typeof===w?null:t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case U:return"Fragment";case k:return"Profiler";case B:return"StrictMode";case st:return"Suspense";case q:return"SuspenseList";case A:return"Activity"}if(typeof t=="object")switch(t.$$typeof){case R:return"Portal";case F:return(t.displayName||"Context")+".Provider";case $:return(t._context.displayName||"Context")+".Consumer";case G:var n=t.render;return t=t.displayName,t||(t=n.displayName||n.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case L:return n=t.displayName||null,n!==null?n:j(t.type)||"Memo";case T:n=t._payload,t=t._init;try{return j(t(n))}catch{}}return null}var K=Array.isArray,C=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,I=i.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,nt={pending:!1,data:null,method:null,action:null},Y=[],M=-1;function J(t){return{current:t}}function tt(t){0>M||(t.current=Y[M],Y[M]=null,M--)}function it(t,n){M++,Y[M]=t.current,t.current=n}var lt=J(null),et=J(null),mt=J(null),It=J(null);function Et(t,n){switch(it(mt,n),it(et,t),it(lt,null),n.nodeType){case 9:case 11:t=(t=n.documentElement)&&(t=t.namespaceURI)?$p(t):0;break;default:if(t=n.tagName,n=n.namespaceURI)n=$p(n),t=Jp(n,t);else switch(t){case"svg":t=1;break;case"math":t=2;break;default:t=0}}tt(lt),it(lt,t)}function Ot(){tt(lt),tt(et),tt(mt)}function zt(t){t.memoizedState!==null&&it(It,t);var n=lt.current,s=Jp(n,t.type);n!==s&&(it(et,t),it(lt,s))}function Yt(t){et.current===t&&(tt(lt),tt(et)),It.current===t&&(tt(It),Kl._currentValue=nt)}var ue=Object.prototype.hasOwnProperty,bn=a.unstable_scheduleCallback,Ye=a.unstable_cancelCallback,ie=a.unstable_shouldYield,we=a.unstable_requestPaint,xt=a.unstable_now,te=a.unstable_getCurrentPriorityLevel,ye=a.unstable_ImmediatePriority,Te=a.unstable_UserBlockingPriority,re=a.unstable_NormalPriority,sn=a.unstable_LowPriority,ce=a.unstable_IdlePriority,Xt=a.log,Xe=a.unstable_setDisableYieldValue,Kt=null,Bt=null;function $t(t){if(typeof Xt=="function"&&Xe(t),Bt&&typeof Bt.setStrictMode=="function")try{Bt.setStrictMode(Kt,t)}catch{}}var me=Math.clz32?Math.clz32:Ne,Ve=Math.log,Sn=Math.LN2;function Ne(t){return t>>>=0,t===0?32:31-(Ve(t)/Sn|0)|0}var an=256,Ke=4194304;function ze(t){var n=t&42;if(n!==0)return n;switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194048;case 4194304:case 8388608:case 16777216:case 33554432:return t&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return t}}function _i(t,n,s){var o=t.pendingLanes;if(o===0)return 0;var f=0,d=t.suspendedLanes,S=t.pingedLanes;t=t.warmLanes;var V=o&134217727;return V!==0?(o=V&~d,o!==0?f=ze(o):(S&=V,S!==0?f=ze(S):s||(s=V&~t,s!==0&&(f=ze(s))))):(V=o&~d,V!==0?f=ze(V):S!==0?f=ze(S):s||(s=o&~t,s!==0&&(f=ze(s)))),f===0?0:n!==0&&n!==f&&(n&d)===0&&(d=f&-f,s=n&-n,d>=s||d===32&&(s&4194048)!==0)?n:f}function ji(t,n){return(t.pendingLanes&~(t.suspendedLanes&~t.pingedLanes)&n)===0}function Fi(t,n){switch(t){case 1:case 2:case 4:case 8:case 64:return n+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return n+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function vr(){var t=an;return an<<=1,(an&4194048)===0&&(an=256),t}function ai(){var t=Ke;return Ke<<=1,(Ke&62914560)===0&&(Ke=4194304),t}function li(t){for(var n=[],s=0;31>s;s++)n.push(t);return n}function Ze(t,n){t.pendingLanes|=n,n!==268435456&&(t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0)}function On(t,n,s,o,f,d){var S=t.pendingLanes;t.pendingLanes=s,t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0,t.expiredLanes&=s,t.entangledLanes&=s,t.errorRecoveryDisabledLanes&=s,t.shellSuspendCounter=0;var V=t.entanglements,z=t.expirationTimes,W=t.hiddenUpdates;for(s=S&~s;0<s;){var ut=31-me(s),ft=1<<ut;V[ut]=0,z[ut]=-1;var rt=W[ut];if(rt!==null)for(W[ut]=null,ut=0;ut<rt.length;ut++){var at=rt[ut];at!==null&&(at.lane&=-536870913)}s&=~ft}o!==0&&ln(t,o,0),d!==0&&f===0&&t.tag!==0&&(t.suspendedLanes|=d&~(S&~n))}function ln(t,n,s){t.pendingLanes|=n,t.suspendedLanes&=~n;var o=31-me(n);t.entangledLanes|=n,t.entanglements[o]=t.entanglements[o]|1073741824|s&4194090}function oi(t,n){var s=t.entangledLanes|=n;for(t=t.entanglements;s;){var o=31-me(s),f=1<<o;f&n|t[o]&n&&(t[o]|=n),s&=~f}}function ui(t){switch(t){case 2:t=1;break;case 8:t=4;break;case 32:t=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:t=128;break;case 268435456:t=134217728;break;default:t=0}return t}function Vn(t){return t&=-t,2<t?8<t?(t&134217727)!==0?32:268435456:8:2}function pn(){var t=I.p;return t!==0?t:(t=window.event,t===void 0?32:yy(t.type))}function Io(t,n){var s=I.p;try{return I.p=t,n()}finally{I.p=s}}var ge=Math.random().toString(36).slice(2),Be="__reactFiber$"+ge,Me="__reactProps$"+ge,Qn="__reactContainer$"+ge,tl="__reactEvents$"+ge,Fc="__reactListeners$"+ge,Er="__reactHandles$"+ge,Oo="__reactResources$"+ge,rs="__reactMarker$"+ge;function Tr(t){delete t[Be],delete t[Me],delete t[tl],delete t[Fc],delete t[Er]}function Gi(t){var n=t[Be];if(n)return n;for(var s=t.parentNode;s;){if(n=s[Qn]||s[Be]){if(s=n.alternate,n.child!==null||s!==null&&s.child!==null)for(t=ny(t);t!==null;){if(s=t[Be])return s;t=ny(t)}return n}t=s,s=t.parentNode}return null}function vi(t){if(t=t[Be]||t[Qn]){var n=t.tag;if(n===5||n===6||n===13||n===26||n===27||n===3)return t}return null}function Ei(t){var n=t.tag;if(n===5||n===26||n===27||n===6)return t.stateNode;throw Error(r(33))}function Rn(t){var n=t[Oo];return n||(n=t[Oo]={hoistableStyles:new Map,hoistableScripts:new Map}),n}function Ce(t){t[rs]=!0}var el=new Set,Ys={};function ci(t,n){Qi(t,n),Qi(t+"Capture",n)}function Qi(t,n){for(Ys[t]=n,t=0;t<n.length;t++)el.add(n[t])}var Vo=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),No={},ss={};function Mo(t){return ue.call(ss,t)?!0:ue.call(No,t)?!1:Vo.test(t)?ss[t]=!0:(No[t]=!0,!1)}function Ar(t,n,s){if(Mo(n))if(s===null)t.removeAttribute(n);else{switch(typeof s){case"undefined":case"function":case"symbol":t.removeAttribute(n);return;case"boolean":var o=n.toLowerCase().slice(0,5);if(o!=="data-"&&o!=="aria-"){t.removeAttribute(n);return}}t.setAttribute(n,""+s)}}function Ti(t,n,s){if(s===null)t.removeAttribute(n);else{switch(typeof s){case"undefined":case"function":case"symbol":case"boolean":t.removeAttribute(n);return}t.setAttribute(n,""+s)}}function on(t,n,s,o){if(o===null)t.removeAttribute(s);else{switch(typeof o){case"undefined":case"function":case"symbol":case"boolean":t.removeAttribute(s);return}t.setAttributeNS(n,s,""+o)}}var as,xo;function Yi(t){if(as===void 0)try{throw Error()}catch(s){var n=s.stack.trim().match(/\n( *(at )?)/);as=n&&n[1]||"",xo=-1<s.stack.indexOf(`
    at`)?" (<anonymous>)":-1<s.stack.indexOf("@")?"@unknown:0:0":""}return`
`+as+t+xo}var Xs=!1;function Ks(t,n){if(!t||Xs)return"";Xs=!0;var s=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var o={DetermineComponentFrameRoot:function(){try{if(n){var ft=function(){throw Error()};if(Object.defineProperty(ft.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(ft,[])}catch(at){var rt=at}Reflect.construct(t,[],ft)}else{try{ft.call()}catch(at){rt=at}t.call(ft.prototype)}}else{try{throw Error()}catch(at){rt=at}(ft=t())&&typeof ft.catch=="function"&&ft.catch(function(){})}}catch(at){if(at&&rt&&typeof at.stack=="string")return[at.stack,rt.stack]}return[null,null]}};o.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var f=Object.getOwnPropertyDescriptor(o.DetermineComponentFrameRoot,"name");f&&f.configurable&&Object.defineProperty(o.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var d=o.DetermineComponentFrameRoot(),S=d[0],V=d[1];if(S&&V){var z=S.split(`
`),W=V.split(`
`);for(f=o=0;o<z.length&&!z[o].includes("DetermineComponentFrameRoot");)o++;for(;f<W.length&&!W[f].includes("DetermineComponentFrameRoot");)f++;if(o===z.length||f===W.length)for(o=z.length-1,f=W.length-1;1<=o&&0<=f&&z[o]!==W[f];)f--;for(;1<=o&&0<=f;o--,f--)if(z[o]!==W[f]){if(o!==1||f!==1)do if(o--,f--,0>f||z[o]!==W[f]){var ut=`
`+z[o].replace(" at new "," at ");return t.displayName&&ut.includes("<anonymous>")&&(ut=ut.replace("<anonymous>",t.displayName)),ut}while(1<=o&&0<=f);break}}}finally{Xs=!1,Error.prepareStackTrace=s}return(s=t?t.displayName||t.name:"")?Yi(s):""}function nl(t){switch(t.tag){case 26:case 27:case 5:return Yi(t.type);case 16:return Yi("Lazy");case 13:return Yi("Suspense");case 19:return Yi("SuspenseList");case 0:case 15:return Ks(t.type,!1);case 11:return Ks(t.type.render,!1);case 1:return Ks(t.type,!0);case 31:return Yi("Activity");default:return""}}function Zs(t){try{var n="";do n+=nl(t),t=t.return;while(t);return n}catch(s){return`
Error generating stack: `+s.message+`
`+s.stack}}function wn(t){switch(typeof t){case"bigint":case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function il(t){var n=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(n==="checkbox"||n==="radio")}function Gc(t){var n=il(t)?"checked":"value",s=Object.getOwnPropertyDescriptor(t.constructor.prototype,n),o=""+t[n];if(!t.hasOwnProperty(n)&&typeof s<"u"&&typeof s.get=="function"&&typeof s.set=="function"){var f=s.get,d=s.set;return Object.defineProperty(t,n,{configurable:!0,get:function(){return f.call(this)},set:function(S){o=""+S,d.call(this,S)}}),Object.defineProperty(t,n,{enumerable:s.enumerable}),{getValue:function(){return o},setValue:function(S){o=""+S},stopTracking:function(){t._valueTracker=null,delete t[n]}}}}function $s(t){t._valueTracker||(t._valueTracker=Gc(t))}function rl(t){if(!t)return!1;var n=t._valueTracker;if(!n)return!0;var s=n.getValue(),o="";return t&&(o=il(t)?t.checked?"true":"false":t.value),t=o,t!==s?(n.setValue(t),!0):!1}function ls(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}var Qc=/[\n"\\]/g;function xe(t){return t.replace(Qc,function(n){return"\\"+n.charCodeAt(0).toString(16)+" "})}function Pn(t,n,s,o,f,d,S,V){t.name="",S!=null&&typeof S!="function"&&typeof S!="symbol"&&typeof S!="boolean"?t.type=S:t.removeAttribute("type"),n!=null?S==="number"?(n===0&&t.value===""||t.value!=n)&&(t.value=""+wn(n)):t.value!==""+wn(n)&&(t.value=""+wn(n)):S!=="submit"&&S!=="reset"||t.removeAttribute("value"),n!=null?br(t,S,wn(n)):s!=null?br(t,S,wn(s)):o!=null&&t.removeAttribute("value"),f==null&&d!=null&&(t.defaultChecked=!!d),f!=null&&(t.checked=f&&typeof f!="function"&&typeof f!="symbol"),V!=null&&typeof V!="function"&&typeof V!="symbol"&&typeof V!="boolean"?t.name=""+wn(V):t.removeAttribute("name")}function os(t,n,s,o,f,d,S,V){if(d!=null&&typeof d!="function"&&typeof d!="symbol"&&typeof d!="boolean"&&(t.type=d),n!=null||s!=null){if(!(d!=="submit"&&d!=="reset"||n!=null))return;s=s!=null?""+wn(s):"",n=n!=null?""+wn(n):s,V||n===t.value||(t.value=n),t.defaultValue=n}o=o??f,o=typeof o!="function"&&typeof o!="symbol"&&!!o,t.checked=V?t.checked:!!o,t.defaultChecked=!!o,S!=null&&typeof S!="function"&&typeof S!="symbol"&&typeof S!="boolean"&&(t.name=S)}function br(t,n,s){n==="number"&&ls(t.ownerDocument)===t||t.defaultValue===""+s||(t.defaultValue=""+s)}function Xi(t,n,s,o){if(t=t.options,n){n={};for(var f=0;f<s.length;f++)n["$"+s[f]]=!0;for(s=0;s<t.length;s++)f=n.hasOwnProperty("$"+t[s].value),t[s].selected!==f&&(t[s].selected=f),f&&o&&(t[s].defaultSelected=!0)}else{for(s=""+wn(s),n=null,f=0;f<t.length;f++){if(t[f].value===s){t[f].selected=!0,o&&(t[f].defaultSelected=!0);return}n!==null||t[f].disabled||(n=t[f])}n!==null&&(n.selected=!0)}}function se(t,n,s){if(n!=null&&(n=""+wn(n),n!==t.value&&(t.value=n),s==null)){t.defaultValue!==n&&(t.defaultValue=n);return}t.defaultValue=s!=null?""+wn(s):""}function us(t,n,s,o){if(n==null){if(o!=null){if(s!=null)throw Error(r(92));if(K(o)){if(1<o.length)throw Error(r(93));o=o[0]}s=o}s==null&&(s=""),n=s}s=wn(n),t.defaultValue=s,o=t.textContent,o===s&&o!==""&&o!==null&&(t.value=o)}function Yn(t,n){if(n){var s=t.firstChild;if(s&&s===t.lastChild&&s.nodeType===3){s.nodeValue=n;return}}t.textContent=n}var cs=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function Uo(t,n,s){var o=n.indexOf("--")===0;s==null||typeof s=="boolean"||s===""?o?t.setProperty(n,""):n==="float"?t.cssFloat="":t[n]="":o?t.setProperty(n,s):typeof s!="number"||s===0||cs.has(n)?n==="float"?t.cssFloat=s:t[n]=(""+s).trim():t[n]=s+"px"}function sl(t,n,s){if(n!=null&&typeof n!="object")throw Error(r(62));if(t=t.style,s!=null){for(var o in s)!s.hasOwnProperty(o)||n!=null&&n.hasOwnProperty(o)||(o.indexOf("--")===0?t.setProperty(o,""):o==="float"?t.cssFloat="":t[o]="");for(var f in n)o=n[f],n.hasOwnProperty(f)&&s[f]!==o&&Uo(t,f,o)}else for(var d in n)n.hasOwnProperty(d)&&Uo(t,d,n[d])}function al(t){if(t.indexOf("-")===-1)return!1;switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Yc=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),Xc=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function Js(t){return Xc.test(""+t)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":t}var Ki=null;function Xn(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var Zi=null,$i=null;function ll(t){var n=vi(t);if(n&&(t=n.stateNode)){var s=t[Me]||null;t:switch(t=n.stateNode,n.type){case"input":if(Pn(t,s.value,s.defaultValue,s.defaultValue,s.checked,s.defaultChecked,s.type,s.name),n=s.name,s.type==="radio"&&n!=null){for(s=t;s.parentNode;)s=s.parentNode;for(s=s.querySelectorAll('input[name="'+xe(""+n)+'"][type="radio"]'),n=0;n<s.length;n++){var o=s[n];if(o!==t&&o.form===t.form){var f=o[Me]||null;if(!f)throw Error(r(90));Pn(o,f.value,f.defaultValue,f.defaultValue,f.checked,f.defaultChecked,f.type,f.name)}}for(n=0;n<s.length;n++)o=s[n],o.form===t.form&&rl(o)}break t;case"textarea":se(t,s.value,s.defaultValue);break t;case"select":n=s.value,n!=null&&Xi(t,!!s.multiple,n,!1)}}}var Ai=!1;function Lo(t,n,s){if(Ai)return t(n,s);Ai=!0;try{var o=t(n);return o}finally{if(Ai=!1,(Zi!==null||$i!==null)&&(Iu(),Zi&&(n=Zi,t=$i,$i=Zi=null,ll(n),t)))for(n=0;n<t.length;n++)ll(t[n])}}function fs(t,n){var s=t.stateNode;if(s===null)return null;var o=s[Me]||null;if(o===null)return null;s=o[n];t:switch(n){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(o=!o.disabled)||(t=t.type,o=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!o;break t;default:t=!1}if(t)return null;if(s&&typeof s!="function")throw Error(r(231,n,typeof s));return s}var fi=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Kn=!1;if(fi)try{var hs={};Object.defineProperty(hs,"passive",{get:function(){Kn=!0}}),window.addEventListener("test",hs,hs),window.removeEventListener("test",hs,hs)}catch{Kn=!1}var bi=null,Sr=null,Ji=null;function ol(){if(Ji)return Ji;var t,n=Sr,s=n.length,o,f="value"in bi?bi.value:bi.textContent,d=f.length;for(t=0;t<s&&n[t]===f[t];t++);var S=s-t;for(o=1;o<=S&&n[s-o]===f[d-o];o++);return Ji=f.slice(t,1<o?1-o:void 0)}function Si(t){var n=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&n===13&&(t=13)):t=n,t===10&&(t=13),32<=t||t===13?t:0}function Ri(){return!0}function ul(){return!1}function $e(t){function n(s,o,f,d,S){this._reactName=s,this._targetInst=f,this.type=o,this.nativeEvent=d,this.target=S,this.currentTarget=null;for(var V in t)t.hasOwnProperty(V)&&(s=t[V],this[V]=s?s(d):d[V]);return this.isDefaultPrevented=(d.defaultPrevented!=null?d.defaultPrevented:d.returnValue===!1)?Ri:ul,this.isPropagationStopped=ul,this}return p(n.prototype,{preventDefault:function(){this.defaultPrevented=!0;var s=this.nativeEvent;s&&(s.preventDefault?s.preventDefault():typeof s.returnValue!="unknown"&&(s.returnValue=!1),this.isDefaultPrevented=Ri)},stopPropagation:function(){var s=this.nativeEvent;s&&(s.stopPropagation?s.stopPropagation():typeof s.cancelBubble!="unknown"&&(s.cancelBubble=!0),this.isPropagationStopped=Ri)},persist:function(){},isPersistent:Ri}),n}var Jt={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Ws=$e(Jt),ds=p({},Jt,{view:0,detail:0}),Po=$e(ds),ta,ea,wi,ms=p({},ds,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:ys,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==wi&&(wi&&t.type==="mousemove"?(ta=t.screenX-wi.screenX,ea=t.screenY-wi.screenY):ea=ta=0,wi=t),ta)},movementY:function(t){return"movementY"in t?t.movementY:ea}}),Zn=$e(ms),ko=p({},ms,{dataTransfer:0}),Kc=$e(ko),gs=p({},ds,{relatedTarget:0}),na=$e(gs),cl=p({},Jt,{animationName:0,elapsedTime:0,pseudoElement:0}),ia=$e(cl),zo=p({},Jt,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),ra=$e(zo),Zc=p({},Jt,{data:0}),fl=$e(Zc),ps={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Bo={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},qo={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function hl(t){var n=this.nativeEvent;return n.getModifierState?n.getModifierState(t):(t=qo[t])?!!n[t]:!1}function ys(){return hl}var Ho=p({},ds,{key:function(t){if(t.key){var n=ps[t.key]||t.key;if(n!=="Unidentified")return n}return t.type==="keypress"?(t=Si(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?Bo[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:ys,charCode:function(t){return t.type==="keypress"?Si(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?Si(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),sa=$e(Ho),jo=p({},ms,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),dl=$e(jo),Wi=p({},ds,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:ys}),Fo=$e(Wi),Go=p({},Jt,{propertyName:0,elapsedTime:0,pseudoElement:0}),Qo=$e(Go),Yo=p({},ms,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),aa=$e(Yo),Cn=p({},Jt,{newState:0,oldState:0}),Xo=$e(Cn),Ko=[9,13,27,32],Ci=fi&&"CompositionEvent"in window,c=null;fi&&"documentMode"in document&&(c=document.documentMode);var y=fi&&"TextEvent"in window&&!c,b=fi&&(!Ci||c&&8<c&&11>=c),x=" ",X=!1;function ot(t,n){switch(t){case"keyup":return Ko.indexOf(n.keyCode)!==-1;case"keydown":return n.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function gt(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var qt=!1;function qe(t,n){switch(t){case"compositionend":return gt(n);case"keypress":return n.which!==32?null:(X=!0,x);case"textInput":return t=n.data,t===x&&X?null:t;default:return null}}function Ht(t,n){if(qt)return t==="compositionend"||!Ci&&ot(t,n)?(t=ol(),Ji=Sr=bi=null,qt=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(n.ctrlKey||n.altKey||n.metaKey)||n.ctrlKey&&n.altKey){if(n.char&&1<n.char.length)return n.char;if(n.which)return String.fromCharCode(n.which)}return null;case"compositionend":return b&&n.locale!=="ko"?null:n.data;default:return null}}var Je={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function He(t){var n=t&&t.nodeName&&t.nodeName.toLowerCase();return n==="input"?!!Je[t.type]:n==="textarea"}function tr(t,n,s,o){Zi?$i?$i.push(o):$i=[o]:Zi=o,n=Uu(n,"onChange"),0<n.length&&(s=new Ws("onChange","change",null,s,o),t.push({event:s,listeners:n}))}var un=null,Di=null;function ml(t){Qp(t,0)}function Zo(t){var n=Ei(t);if(rl(n))return t}function dm(t,n){if(t==="change")return n}var mm=!1;if(fi){var $c;if(fi){var Jc="oninput"in document;if(!Jc){var gm=document.createElement("div");gm.setAttribute("oninput","return;"),Jc=typeof gm.oninput=="function"}$c=Jc}else $c=!1;mm=$c&&(!document.documentMode||9<document.documentMode)}function pm(){un&&(un.detachEvent("onpropertychange",ym),Di=un=null)}function ym(t){if(t.propertyName==="value"&&Zo(Di)){var n=[];tr(n,Di,t,Xn(t)),Lo(ml,n)}}function yv(t,n,s){t==="focusin"?(pm(),un=n,Di=s,un.attachEvent("onpropertychange",ym)):t==="focusout"&&pm()}function _v(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return Zo(Di)}function vv(t,n){if(t==="click")return Zo(n)}function Ev(t,n){if(t==="input"||t==="change")return Zo(n)}function Tv(t,n){return t===n&&(t!==0||1/t===1/n)||t!==t&&n!==n}var kn=typeof Object.is=="function"?Object.is:Tv;function gl(t,n){if(kn(t,n))return!0;if(typeof t!="object"||t===null||typeof n!="object"||n===null)return!1;var s=Object.keys(t),o=Object.keys(n);if(s.length!==o.length)return!1;for(o=0;o<s.length;o++){var f=s[o];if(!ue.call(n,f)||!kn(t[f],n[f]))return!1}return!0}function _m(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function vm(t,n){var s=_m(t);t=0;for(var o;s;){if(s.nodeType===3){if(o=t+s.textContent.length,t<=n&&o>=n)return{node:s,offset:n-t};t=o}t:{for(;s;){if(s.nextSibling){s=s.nextSibling;break t}s=s.parentNode}s=void 0}s=_m(s)}}function Em(t,n){return t&&n?t===n?!0:t&&t.nodeType===3?!1:n&&n.nodeType===3?Em(t,n.parentNode):"contains"in t?t.contains(n):t.compareDocumentPosition?!!(t.compareDocumentPosition(n)&16):!1:!1}function Tm(t){t=t!=null&&t.ownerDocument!=null&&t.ownerDocument.defaultView!=null?t.ownerDocument.defaultView:window;for(var n=ls(t.document);n instanceof t.HTMLIFrameElement;){try{var s=typeof n.contentWindow.location.href=="string"}catch{s=!1}if(s)t=n.contentWindow;else break;n=ls(t.document)}return n}function Wc(t){var n=t&&t.nodeName&&t.nodeName.toLowerCase();return n&&(n==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||n==="textarea"||t.contentEditable==="true")}var Av=fi&&"documentMode"in document&&11>=document.documentMode,la=null,tf=null,pl=null,ef=!1;function Am(t,n,s){var o=s.window===s?s.document:s.nodeType===9?s:s.ownerDocument;ef||la==null||la!==ls(o)||(o=la,"selectionStart"in o&&Wc(o)?o={start:o.selectionStart,end:o.selectionEnd}:(o=(o.ownerDocument&&o.ownerDocument.defaultView||window).getSelection(),o={anchorNode:o.anchorNode,anchorOffset:o.anchorOffset,focusNode:o.focusNode,focusOffset:o.focusOffset}),pl&&gl(pl,o)||(pl=o,o=Uu(tf,"onSelect"),0<o.length&&(n=new Ws("onSelect","select",null,n,s),t.push({event:n,listeners:o}),n.target=la)))}function _s(t,n){var s={};return s[t.toLowerCase()]=n.toLowerCase(),s["Webkit"+t]="webkit"+n,s["Moz"+t]="moz"+n,s}var oa={animationend:_s("Animation","AnimationEnd"),animationiteration:_s("Animation","AnimationIteration"),animationstart:_s("Animation","AnimationStart"),transitionrun:_s("Transition","TransitionRun"),transitionstart:_s("Transition","TransitionStart"),transitioncancel:_s("Transition","TransitionCancel"),transitionend:_s("Transition","TransitionEnd")},nf={},bm={};fi&&(bm=document.createElement("div").style,"AnimationEvent"in window||(delete oa.animationend.animation,delete oa.animationiteration.animation,delete oa.animationstart.animation),"TransitionEvent"in window||delete oa.transitionend.transition);function vs(t){if(nf[t])return nf[t];if(!oa[t])return t;var n=oa[t],s;for(s in n)if(n.hasOwnProperty(s)&&s in bm)return nf[t]=n[s];return t}var Sm=vs("animationend"),Rm=vs("animationiteration"),wm=vs("animationstart"),bv=vs("transitionrun"),Sv=vs("transitionstart"),Rv=vs("transitioncancel"),Cm=vs("transitionend"),Dm=new Map,rf="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");rf.push("scrollEnd");function hi(t,n){Dm.set(t,n),ci(n,[t])}var Im=new WeakMap;function $n(t,n){if(typeof t=="object"&&t!==null){var s=Im.get(t);return s!==void 0?s:(n={value:t,source:n,stack:Zs(n)},Im.set(t,n),n)}return{value:t,source:n,stack:Zs(n)}}var Jn=[],ua=0,sf=0;function $o(){for(var t=ua,n=sf=ua=0;n<t;){var s=Jn[n];Jn[n++]=null;var o=Jn[n];Jn[n++]=null;var f=Jn[n];Jn[n++]=null;var d=Jn[n];if(Jn[n++]=null,o!==null&&f!==null){var S=o.pending;S===null?f.next=f:(f.next=S.next,S.next=f),o.pending=f}d!==0&&Om(s,f,d)}}function Jo(t,n,s,o){Jn[ua++]=t,Jn[ua++]=n,Jn[ua++]=s,Jn[ua++]=o,sf|=o,t.lanes|=o,t=t.alternate,t!==null&&(t.lanes|=o)}function af(t,n,s,o){return Jo(t,n,s,o),Wo(t)}function ca(t,n){return Jo(t,null,null,n),Wo(t)}function Om(t,n,s){t.lanes|=s;var o=t.alternate;o!==null&&(o.lanes|=s);for(var f=!1,d=t.return;d!==null;)d.childLanes|=s,o=d.alternate,o!==null&&(o.childLanes|=s),d.tag===22&&(t=d.stateNode,t===null||t._visibility&1||(f=!0)),t=d,d=d.return;return t.tag===3?(d=t.stateNode,f&&n!==null&&(f=31-me(s),t=d.hiddenUpdates,o=t[f],o===null?t[f]=[n]:o.push(n),n.lane=s|536870912),d):null}function Wo(t){if(50<ql)throw ql=0,hh=null,Error(r(185));for(var n=t.return;n!==null;)t=n,n=t.return;return t.tag===3?t.stateNode:null}var fa={};function wv(t,n,s,o){this.tag=t,this.key=s,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=n,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=o,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function zn(t,n,s,o){return new wv(t,n,s,o)}function lf(t){return t=t.prototype,!(!t||!t.isReactComponent)}function er(t,n){var s=t.alternate;return s===null?(s=zn(t.tag,n,t.key,t.mode),s.elementType=t.elementType,s.type=t.type,s.stateNode=t.stateNode,s.alternate=t,t.alternate=s):(s.pendingProps=n,s.type=t.type,s.flags=0,s.subtreeFlags=0,s.deletions=null),s.flags=t.flags&65011712,s.childLanes=t.childLanes,s.lanes=t.lanes,s.child=t.child,s.memoizedProps=t.memoizedProps,s.memoizedState=t.memoizedState,s.updateQueue=t.updateQueue,n=t.dependencies,s.dependencies=n===null?null:{lanes:n.lanes,firstContext:n.firstContext},s.sibling=t.sibling,s.index=t.index,s.ref=t.ref,s.refCleanup=t.refCleanup,s}function Vm(t,n){t.flags&=65011714;var s=t.alternate;return s===null?(t.childLanes=0,t.lanes=n,t.child=null,t.subtreeFlags=0,t.memoizedProps=null,t.memoizedState=null,t.updateQueue=null,t.dependencies=null,t.stateNode=null):(t.childLanes=s.childLanes,t.lanes=s.lanes,t.child=s.child,t.subtreeFlags=0,t.deletions=null,t.memoizedProps=s.memoizedProps,t.memoizedState=s.memoizedState,t.updateQueue=s.updateQueue,t.type=s.type,n=s.dependencies,t.dependencies=n===null?null:{lanes:n.lanes,firstContext:n.firstContext}),t}function tu(t,n,s,o,f,d){var S=0;if(o=t,typeof t=="function")lf(t)&&(S=1);else if(typeof t=="string")S=DE(t,s,lt.current)?26:t==="html"||t==="head"||t==="body"?27:5;else t:switch(t){case A:return t=zn(31,s,n,f),t.elementType=A,t.lanes=d,t;case U:return Es(s.children,f,d,n);case B:S=8,f|=24;break;case k:return t=zn(12,s,n,f|2),t.elementType=k,t.lanes=d,t;case st:return t=zn(13,s,n,f),t.elementType=st,t.lanes=d,t;case q:return t=zn(19,s,n,f),t.elementType=q,t.lanes=d,t;default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case P:case F:S=10;break t;case $:S=9;break t;case G:S=11;break t;case L:S=14;break t;case T:S=16,o=null;break t}S=29,s=Error(r(130,t===null?"null":typeof t,"")),o=null}return n=zn(S,s,n,f),n.elementType=t,n.type=o,n.lanes=d,n}function Es(t,n,s,o){return t=zn(7,t,o,n),t.lanes=s,t}function of(t,n,s){return t=zn(6,t,null,n),t.lanes=s,t}function uf(t,n,s){return n=zn(4,t.children!==null?t.children:[],t.key,n),n.lanes=s,n.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},n}var ha=[],da=0,eu=null,nu=0,Wn=[],ti=0,Ts=null,nr=1,ir="";function As(t,n){ha[da++]=nu,ha[da++]=eu,eu=t,nu=n}function Nm(t,n,s){Wn[ti++]=nr,Wn[ti++]=ir,Wn[ti++]=Ts,Ts=t;var o=nr;t=ir;var f=32-me(o)-1;o&=~(1<<f),s+=1;var d=32-me(n)+f;if(30<d){var S=f-f%5;d=(o&(1<<S)-1).toString(32),o>>=S,f-=S,nr=1<<32-me(n)+f|s<<f|o,ir=d+t}else nr=1<<d|s<<f|o,ir=t}function cf(t){t.return!==null&&(As(t,1),Nm(t,1,0))}function ff(t){for(;t===eu;)eu=ha[--da],ha[da]=null,nu=ha[--da],ha[da]=null;for(;t===Ts;)Ts=Wn[--ti],Wn[ti]=null,ir=Wn[--ti],Wn[ti]=null,nr=Wn[--ti],Wn[ti]=null}var Dn=null,Ae=null,Zt=!1,bs=null,Ii=!1,hf=Error(r(519));function Ss(t){var n=Error(r(418,""));throw vl($n(n,t)),hf}function Mm(t){var n=t.stateNode,s=t.type,o=t.memoizedProps;switch(n[Be]=t,n[Me]=o,s){case"dialog":Lt("cancel",n),Lt("close",n);break;case"iframe":case"object":case"embed":Lt("load",n);break;case"video":case"audio":for(s=0;s<jl.length;s++)Lt(jl[s],n);break;case"source":Lt("error",n);break;case"img":case"image":case"link":Lt("error",n),Lt("load",n);break;case"details":Lt("toggle",n);break;case"input":Lt("invalid",n),os(n,o.value,o.defaultValue,o.checked,o.defaultChecked,o.type,o.name,!0),$s(n);break;case"select":Lt("invalid",n);break;case"textarea":Lt("invalid",n),us(n,o.value,o.defaultValue,o.children),$s(n)}s=o.children,typeof s!="string"&&typeof s!="number"&&typeof s!="bigint"||n.textContent===""+s||o.suppressHydrationWarning===!0||Zp(n.textContent,s)?(o.popover!=null&&(Lt("beforetoggle",n),Lt("toggle",n)),o.onScroll!=null&&Lt("scroll",n),o.onScrollEnd!=null&&Lt("scrollend",n),o.onClick!=null&&(n.onclick=Lu),n=!0):n=!1,n||Ss(t)}function xm(t){for(Dn=t.return;Dn;)switch(Dn.tag){case 5:case 13:Ii=!1;return;case 27:case 3:Ii=!0;return;default:Dn=Dn.return}}function yl(t){if(t!==Dn)return!1;if(!Zt)return xm(t),Zt=!0,!1;var n=t.tag,s;if((s=n!==3&&n!==27)&&((s=n===5)&&(s=t.type,s=!(s!=="form"&&s!=="button")||Dh(t.type,t.memoizedProps)),s=!s),s&&Ae&&Ss(t),xm(t),n===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(r(317));t:{for(t=t.nextSibling,n=0;t;){if(t.nodeType===8)if(s=t.data,s==="/$"){if(n===0){Ae=mi(t.nextSibling);break t}n--}else s!=="$"&&s!=="$!"&&s!=="$?"||n++;t=t.nextSibling}Ae=null}}else n===27?(n=Ae,Br(t.type)?(t=Nh,Nh=null,Ae=t):Ae=n):Ae=Dn?mi(t.stateNode.nextSibling):null;return!0}function _l(){Ae=Dn=null,Zt=!1}function Um(){var t=bs;return t!==null&&(xn===null?xn=t:xn.push.apply(xn,t),bs=null),t}function vl(t){bs===null?bs=[t]:bs.push(t)}var df=J(null),Rs=null,rr=null;function Rr(t,n,s){it(df,n._currentValue),n._currentValue=s}function sr(t){t._currentValue=df.current,tt(df)}function mf(t,n,s){for(;t!==null;){var o=t.alternate;if((t.childLanes&n)!==n?(t.childLanes|=n,o!==null&&(o.childLanes|=n)):o!==null&&(o.childLanes&n)!==n&&(o.childLanes|=n),t===s)break;t=t.return}}function gf(t,n,s,o){var f=t.child;for(f!==null&&(f.return=t);f!==null;){var d=f.dependencies;if(d!==null){var S=f.child;d=d.firstContext;t:for(;d!==null;){var V=d;d=f;for(var z=0;z<n.length;z++)if(V.context===n[z]){d.lanes|=s,V=d.alternate,V!==null&&(V.lanes|=s),mf(d.return,s,t),o||(S=null);break t}d=V.next}}else if(f.tag===18){if(S=f.return,S===null)throw Error(r(341));S.lanes|=s,d=S.alternate,d!==null&&(d.lanes|=s),mf(S,s,t),S=null}else S=f.child;if(S!==null)S.return=f;else for(S=f;S!==null;){if(S===t){S=null;break}if(f=S.sibling,f!==null){f.return=S.return,S=f;break}S=S.return}f=S}}function El(t,n,s,o){t=null;for(var f=n,d=!1;f!==null;){if(!d){if((f.flags&524288)!==0)d=!0;else if((f.flags&262144)!==0)break}if(f.tag===10){var S=f.alternate;if(S===null)throw Error(r(387));if(S=S.memoizedProps,S!==null){var V=f.type;kn(f.pendingProps.value,S.value)||(t!==null?t.push(V):t=[V])}}else if(f===It.current){if(S=f.alternate,S===null)throw Error(r(387));S.memoizedState.memoizedState!==f.memoizedState.memoizedState&&(t!==null?t.push(Kl):t=[Kl])}f=f.return}t!==null&&gf(n,t,s,o),n.flags|=262144}function iu(t){for(t=t.firstContext;t!==null;){if(!kn(t.context._currentValue,t.memoizedValue))return!0;t=t.next}return!1}function ws(t){Rs=t,rr=null,t=t.dependencies,t!==null&&(t.firstContext=null)}function yn(t){return Lm(Rs,t)}function ru(t,n){return Rs===null&&ws(t),Lm(t,n)}function Lm(t,n){var s=n._currentValue;if(n={context:n,memoizedValue:s,next:null},rr===null){if(t===null)throw Error(r(308));rr=n,t.dependencies={lanes:0,firstContext:n},t.flags|=524288}else rr=rr.next=n;return s}var Cv=typeof AbortController<"u"?AbortController:function(){var t=[],n=this.signal={aborted:!1,addEventListener:function(s,o){t.push(o)}};this.abort=function(){n.aborted=!0,t.forEach(function(s){return s()})}},Dv=a.unstable_scheduleCallback,Iv=a.unstable_NormalPriority,je={$$typeof:F,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function pf(){return{controller:new Cv,data:new Map,refCount:0}}function Tl(t){t.refCount--,t.refCount===0&&Dv(Iv,function(){t.controller.abort()})}var Al=null,yf=0,ma=0,ga=null;function Ov(t,n){if(Al===null){var s=Al=[];yf=0,ma=vh(),ga={status:"pending",value:void 0,then:function(o){s.push(o)}}}return yf++,n.then(Pm,Pm),n}function Pm(){if(--yf===0&&Al!==null){ga!==null&&(ga.status="fulfilled");var t=Al;Al=null,ma=0,ga=null;for(var n=0;n<t.length;n++)(0,t[n])()}}function Vv(t,n){var s=[],o={status:"pending",value:null,reason:null,then:function(f){s.push(f)}};return t.then(function(){o.status="fulfilled",o.value=n;for(var f=0;f<s.length;f++)(0,s[f])(n)},function(f){for(o.status="rejected",o.reason=f,f=0;f<s.length;f++)(0,s[f])(void 0)}),o}var km=C.S;C.S=function(t,n){typeof n=="object"&&n!==null&&typeof n.then=="function"&&Ov(t,n),km!==null&&km(t,n)};var Cs=J(null);function _f(){var t=Cs.current;return t!==null?t:he.pooledCache}function su(t,n){n===null?it(Cs,Cs.current):it(Cs,n.pool)}function zm(){var t=_f();return t===null?null:{parent:je._currentValue,pool:t}}var bl=Error(r(460)),Bm=Error(r(474)),au=Error(r(542)),vf={then:function(){}};function qm(t){return t=t.status,t==="fulfilled"||t==="rejected"}function lu(){}function Hm(t,n,s){switch(s=t[s],s===void 0?t.push(n):s!==n&&(n.then(lu,lu),n=s),n.status){case"fulfilled":return n.value;case"rejected":throw t=n.reason,Fm(t),t;default:if(typeof n.status=="string")n.then(lu,lu);else{if(t=he,t!==null&&100<t.shellSuspendCounter)throw Error(r(482));t=n,t.status="pending",t.then(function(o){if(n.status==="pending"){var f=n;f.status="fulfilled",f.value=o}},function(o){if(n.status==="pending"){var f=n;f.status="rejected",f.reason=o}})}switch(n.status){case"fulfilled":return n.value;case"rejected":throw t=n.reason,Fm(t),t}throw Sl=n,bl}}var Sl=null;function jm(){if(Sl===null)throw Error(r(459));var t=Sl;return Sl=null,t}function Fm(t){if(t===bl||t===au)throw Error(r(483))}var wr=!1;function Ef(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function Tf(t,n){t=t.updateQueue,n.updateQueue===t&&(n.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,callbacks:null})}function Cr(t){return{lane:t,tag:0,payload:null,callback:null,next:null}}function Dr(t,n,s){var o=t.updateQueue;if(o===null)return null;if(o=o.shared,(ee&2)!==0){var f=o.pending;return f===null?n.next=n:(n.next=f.next,f.next=n),o.pending=n,n=Wo(t),Om(t,null,s),n}return Jo(t,o,n,s),Wo(t)}function Rl(t,n,s){if(n=n.updateQueue,n!==null&&(n=n.shared,(s&4194048)!==0)){var o=n.lanes;o&=t.pendingLanes,s|=o,n.lanes=s,oi(t,s)}}function Af(t,n){var s=t.updateQueue,o=t.alternate;if(o!==null&&(o=o.updateQueue,s===o)){var f=null,d=null;if(s=s.firstBaseUpdate,s!==null){do{var S={lane:s.lane,tag:s.tag,payload:s.payload,callback:null,next:null};d===null?f=d=S:d=d.next=S,s=s.next}while(s!==null);d===null?f=d=n:d=d.next=n}else f=d=n;s={baseState:o.baseState,firstBaseUpdate:f,lastBaseUpdate:d,shared:o.shared,callbacks:o.callbacks},t.updateQueue=s;return}t=s.lastBaseUpdate,t===null?s.firstBaseUpdate=n:t.next=n,s.lastBaseUpdate=n}var bf=!1;function wl(){if(bf){var t=ga;if(t!==null)throw t}}function Cl(t,n,s,o){bf=!1;var f=t.updateQueue;wr=!1;var d=f.firstBaseUpdate,S=f.lastBaseUpdate,V=f.shared.pending;if(V!==null){f.shared.pending=null;var z=V,W=z.next;z.next=null,S===null?d=W:S.next=W,S=z;var ut=t.alternate;ut!==null&&(ut=ut.updateQueue,V=ut.lastBaseUpdate,V!==S&&(V===null?ut.firstBaseUpdate=W:V.next=W,ut.lastBaseUpdate=z))}if(d!==null){var ft=f.baseState;S=0,ut=W=z=null,V=d;do{var rt=V.lane&-536870913,at=rt!==V.lane;if(at?(jt&rt)===rt:(o&rt)===rt){rt!==0&&rt===ma&&(bf=!0),ut!==null&&(ut=ut.next={lane:0,tag:V.tag,payload:V.payload,callback:null,next:null});t:{var Rt=t,At=V;rt=n;var oe=s;switch(At.tag){case 1:if(Rt=At.payload,typeof Rt=="function"){ft=Rt.call(oe,ft,rt);break t}ft=Rt;break t;case 3:Rt.flags=Rt.flags&-65537|128;case 0:if(Rt=At.payload,rt=typeof Rt=="function"?Rt.call(oe,ft,rt):Rt,rt==null)break t;ft=p({},ft,rt);break t;case 2:wr=!0}}rt=V.callback,rt!==null&&(t.flags|=64,at&&(t.flags|=8192),at=f.callbacks,at===null?f.callbacks=[rt]:at.push(rt))}else at={lane:rt,tag:V.tag,payload:V.payload,callback:V.callback,next:null},ut===null?(W=ut=at,z=ft):ut=ut.next=at,S|=rt;if(V=V.next,V===null){if(V=f.shared.pending,V===null)break;at=V,V=at.next,at.next=null,f.lastBaseUpdate=at,f.shared.pending=null}}while(!0);ut===null&&(z=ft),f.baseState=z,f.firstBaseUpdate=W,f.lastBaseUpdate=ut,d===null&&(f.shared.lanes=0),Lr|=S,t.lanes=S,t.memoizedState=ft}}function Gm(t,n){if(typeof t!="function")throw Error(r(191,t));t.call(n)}function Qm(t,n){var s=t.callbacks;if(s!==null)for(t.callbacks=null,t=0;t<s.length;t++)Gm(s[t],n)}var pa=J(null),ou=J(0);function Ym(t,n){t=hr,it(ou,t),it(pa,n),hr=t|n.baseLanes}function Sf(){it(ou,hr),it(pa,pa.current)}function Rf(){hr=ou.current,tt(pa),tt(ou)}var Ir=0,Nt=null,ae=null,Ue=null,uu=!1,ya=!1,Ds=!1,cu=0,Dl=0,_a=null,Nv=0;function De(){throw Error(r(321))}function wf(t,n){if(n===null)return!1;for(var s=0;s<n.length&&s<t.length;s++)if(!kn(t[s],n[s]))return!1;return!0}function Cf(t,n,s,o,f,d){return Ir=d,Nt=n,n.memoizedState=null,n.updateQueue=null,n.lanes=0,C.H=t===null||t.memoizedState===null?Og:Vg,Ds=!1,d=s(o,f),Ds=!1,ya&&(d=Km(n,s,o,f)),Xm(t),d}function Xm(t){C.H=pu;var n=ae!==null&&ae.next!==null;if(Ir=0,Ue=ae=Nt=null,uu=!1,Dl=0,_a=null,n)throw Error(r(300));t===null||We||(t=t.dependencies,t!==null&&iu(t)&&(We=!0))}function Km(t,n,s,o){Nt=t;var f=0;do{if(ya&&(_a=null),Dl=0,ya=!1,25<=f)throw Error(r(301));if(f+=1,Ue=ae=null,t.updateQueue!=null){var d=t.updateQueue;d.lastEffect=null,d.events=null,d.stores=null,d.memoCache!=null&&(d.memoCache.index=0)}C.H=zv,d=n(s,o)}while(ya);return d}function Mv(){var t=C.H,n=t.useState()[0];return n=typeof n.then=="function"?Il(n):n,t=t.useState()[0],(ae!==null?ae.memoizedState:null)!==t&&(Nt.flags|=1024),n}function Df(){var t=cu!==0;return cu=0,t}function If(t,n,s){n.updateQueue=t.updateQueue,n.flags&=-2053,t.lanes&=~s}function Of(t){if(uu){for(t=t.memoizedState;t!==null;){var n=t.queue;n!==null&&(n.pending=null),t=t.next}uu=!1}Ir=0,Ue=ae=Nt=null,ya=!1,Dl=cu=0,_a=null}function Nn(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Ue===null?Nt.memoizedState=Ue=t:Ue=Ue.next=t,Ue}function Le(){if(ae===null){var t=Nt.alternate;t=t!==null?t.memoizedState:null}else t=ae.next;var n=Ue===null?Nt.memoizedState:Ue.next;if(n!==null)Ue=n,ae=t;else{if(t===null)throw Nt.alternate===null?Error(r(467)):Error(r(310));ae=t,t={memoizedState:ae.memoizedState,baseState:ae.baseState,baseQueue:ae.baseQueue,queue:ae.queue,next:null},Ue===null?Nt.memoizedState=Ue=t:Ue=Ue.next=t}return Ue}function Vf(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function Il(t){var n=Dl;return Dl+=1,_a===null&&(_a=[]),t=Hm(_a,t,n),n=Nt,(Ue===null?n.memoizedState:Ue.next)===null&&(n=n.alternate,C.H=n===null||n.memoizedState===null?Og:Vg),t}function fu(t){if(t!==null&&typeof t=="object"){if(typeof t.then=="function")return Il(t);if(t.$$typeof===F)return yn(t)}throw Error(r(438,String(t)))}function Nf(t){var n=null,s=Nt.updateQueue;if(s!==null&&(n=s.memoCache),n==null){var o=Nt.alternate;o!==null&&(o=o.updateQueue,o!==null&&(o=o.memoCache,o!=null&&(n={data:o.data.map(function(f){return f.slice()}),index:0})))}if(n==null&&(n={data:[],index:0}),s===null&&(s=Vf(),Nt.updateQueue=s),s.memoCache=n,s=n.data[n.index],s===void 0)for(s=n.data[n.index]=Array(t),o=0;o<t;o++)s[o]=D;return n.index++,s}function ar(t,n){return typeof n=="function"?n(t):n}function hu(t){var n=Le();return Mf(n,ae,t)}function Mf(t,n,s){var o=t.queue;if(o===null)throw Error(r(311));o.lastRenderedReducer=s;var f=t.baseQueue,d=o.pending;if(d!==null){if(f!==null){var S=f.next;f.next=d.next,d.next=S}n.baseQueue=f=d,o.pending=null}if(d=t.baseState,f===null)t.memoizedState=d;else{n=f.next;var V=S=null,z=null,W=n,ut=!1;do{var ft=W.lane&-536870913;if(ft!==W.lane?(jt&ft)===ft:(Ir&ft)===ft){var rt=W.revertLane;if(rt===0)z!==null&&(z=z.next={lane:0,revertLane:0,action:W.action,hasEagerState:W.hasEagerState,eagerState:W.eagerState,next:null}),ft===ma&&(ut=!0);else if((Ir&rt)===rt){W=W.next,rt===ma&&(ut=!0);continue}else ft={lane:0,revertLane:W.revertLane,action:W.action,hasEagerState:W.hasEagerState,eagerState:W.eagerState,next:null},z===null?(V=z=ft,S=d):z=z.next=ft,Nt.lanes|=rt,Lr|=rt;ft=W.action,Ds&&s(d,ft),d=W.hasEagerState?W.eagerState:s(d,ft)}else rt={lane:ft,revertLane:W.revertLane,action:W.action,hasEagerState:W.hasEagerState,eagerState:W.eagerState,next:null},z===null?(V=z=rt,S=d):z=z.next=rt,Nt.lanes|=ft,Lr|=ft;W=W.next}while(W!==null&&W!==n);if(z===null?S=d:z.next=V,!kn(d,t.memoizedState)&&(We=!0,ut&&(s=ga,s!==null)))throw s;t.memoizedState=d,t.baseState=S,t.baseQueue=z,o.lastRenderedState=d}return f===null&&(o.lanes=0),[t.memoizedState,o.dispatch]}function xf(t){var n=Le(),s=n.queue;if(s===null)throw Error(r(311));s.lastRenderedReducer=t;var o=s.dispatch,f=s.pending,d=n.memoizedState;if(f!==null){s.pending=null;var S=f=f.next;do d=t(d,S.action),S=S.next;while(S!==f);kn(d,n.memoizedState)||(We=!0),n.memoizedState=d,n.baseQueue===null&&(n.baseState=d),s.lastRenderedState=d}return[d,o]}function Zm(t,n,s){var o=Nt,f=Le(),d=Zt;if(d){if(s===void 0)throw Error(r(407));s=s()}else s=n();var S=!kn((ae||f).memoizedState,s);S&&(f.memoizedState=s,We=!0),f=f.queue;var V=Wm.bind(null,o,f,t);if(Ol(2048,8,V,[t]),f.getSnapshot!==n||S||Ue!==null&&Ue.memoizedState.tag&1){if(o.flags|=2048,va(9,du(),Jm.bind(null,o,f,s,n),null),he===null)throw Error(r(349));d||(Ir&124)!==0||$m(o,n,s)}return s}function $m(t,n,s){t.flags|=16384,t={getSnapshot:n,value:s},n=Nt.updateQueue,n===null?(n=Vf(),Nt.updateQueue=n,n.stores=[t]):(s=n.stores,s===null?n.stores=[t]:s.push(t))}function Jm(t,n,s,o){n.value=s,n.getSnapshot=o,tg(n)&&eg(t)}function Wm(t,n,s){return s(function(){tg(n)&&eg(t)})}function tg(t){var n=t.getSnapshot;t=t.value;try{var s=n();return!kn(t,s)}catch{return!0}}function eg(t){var n=ca(t,2);n!==null&&Fn(n,t,2)}function Uf(t){var n=Nn();if(typeof t=="function"){var s=t;if(t=s(),Ds){$t(!0);try{s()}finally{$t(!1)}}}return n.memoizedState=n.baseState=t,n.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:ar,lastRenderedState:t},n}function ng(t,n,s,o){return t.baseState=s,Mf(t,ae,typeof o=="function"?o:ar)}function xv(t,n,s,o,f){if(gu(t))throw Error(r(485));if(t=n.action,t!==null){var d={payload:f,action:t,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(S){d.listeners.push(S)}};C.T!==null?s(!0):d.isTransition=!1,o(d),s=n.pending,s===null?(d.next=n.pending=d,ig(n,d)):(d.next=s.next,n.pending=s.next=d)}}function ig(t,n){var s=n.action,o=n.payload,f=t.state;if(n.isTransition){var d=C.T,S={};C.T=S;try{var V=s(f,o),z=C.S;z!==null&&z(S,V),rg(t,n,V)}catch(W){Lf(t,n,W)}finally{C.T=d}}else try{d=s(f,o),rg(t,n,d)}catch(W){Lf(t,n,W)}}function rg(t,n,s){s!==null&&typeof s=="object"&&typeof s.then=="function"?s.then(function(o){sg(t,n,o)},function(o){return Lf(t,n,o)}):sg(t,n,s)}function sg(t,n,s){n.status="fulfilled",n.value=s,ag(n),t.state=s,n=t.pending,n!==null&&(s=n.next,s===n?t.pending=null:(s=s.next,n.next=s,ig(t,s)))}function Lf(t,n,s){var o=t.pending;if(t.pending=null,o!==null){o=o.next;do n.status="rejected",n.reason=s,ag(n),n=n.next;while(n!==o)}t.action=null}function ag(t){t=t.listeners;for(var n=0;n<t.length;n++)(0,t[n])()}function lg(t,n){return n}function og(t,n){if(Zt){var s=he.formState;if(s!==null){t:{var o=Nt;if(Zt){if(Ae){e:{for(var f=Ae,d=Ii;f.nodeType!==8;){if(!d){f=null;break e}if(f=mi(f.nextSibling),f===null){f=null;break e}}d=f.data,f=d==="F!"||d==="F"?f:null}if(f){Ae=mi(f.nextSibling),o=f.data==="F!";break t}}Ss(o)}o=!1}o&&(n=s[0])}}return s=Nn(),s.memoizedState=s.baseState=n,o={pending:null,lanes:0,dispatch:null,lastRenderedReducer:lg,lastRenderedState:n},s.queue=o,s=Cg.bind(null,Nt,o),o.dispatch=s,o=Uf(!1),d=qf.bind(null,Nt,!1,o.queue),o=Nn(),f={state:n,dispatch:null,action:t,pending:null},o.queue=f,s=xv.bind(null,Nt,f,d,s),f.dispatch=s,o.memoizedState=t,[n,s,!1]}function ug(t){var n=Le();return cg(n,ae,t)}function cg(t,n,s){if(n=Mf(t,n,lg)[0],t=hu(ar)[0],typeof n=="object"&&n!==null&&typeof n.then=="function")try{var o=Il(n)}catch(S){throw S===bl?au:S}else o=n;n=Le();var f=n.queue,d=f.dispatch;return s!==n.memoizedState&&(Nt.flags|=2048,va(9,du(),Uv.bind(null,f,s),null)),[o,d,t]}function Uv(t,n){t.action=n}function fg(t){var n=Le(),s=ae;if(s!==null)return cg(n,s,t);Le(),n=n.memoizedState,s=Le();var o=s.queue.dispatch;return s.memoizedState=t,[n,o,!1]}function va(t,n,s,o){return t={tag:t,create:s,deps:o,inst:n,next:null},n=Nt.updateQueue,n===null&&(n=Vf(),Nt.updateQueue=n),s=n.lastEffect,s===null?n.lastEffect=t.next=t:(o=s.next,s.next=t,t.next=o,n.lastEffect=t),t}function du(){return{destroy:void 0,resource:void 0}}function hg(){return Le().memoizedState}function mu(t,n,s,o){var f=Nn();o=o===void 0?null:o,Nt.flags|=t,f.memoizedState=va(1|n,du(),s,o)}function Ol(t,n,s,o){var f=Le();o=o===void 0?null:o;var d=f.memoizedState.inst;ae!==null&&o!==null&&wf(o,ae.memoizedState.deps)?f.memoizedState=va(n,d,s,o):(Nt.flags|=t,f.memoizedState=va(1|n,d,s,o))}function dg(t,n){mu(8390656,8,t,n)}function mg(t,n){Ol(2048,8,t,n)}function gg(t,n){return Ol(4,2,t,n)}function pg(t,n){return Ol(4,4,t,n)}function yg(t,n){if(typeof n=="function"){t=t();var s=n(t);return function(){typeof s=="function"?s():n(null)}}if(n!=null)return t=t(),n.current=t,function(){n.current=null}}function _g(t,n,s){s=s!=null?s.concat([t]):null,Ol(4,4,yg.bind(null,n,t),s)}function Pf(){}function vg(t,n){var s=Le();n=n===void 0?null:n;var o=s.memoizedState;return n!==null&&wf(n,o[1])?o[0]:(s.memoizedState=[t,n],t)}function Eg(t,n){var s=Le();n=n===void 0?null:n;var o=s.memoizedState;if(n!==null&&wf(n,o[1]))return o[0];if(o=t(),Ds){$t(!0);try{t()}finally{$t(!1)}}return s.memoizedState=[o,n],o}function kf(t,n,s){return s===void 0||(Ir&1073741824)!==0?t.memoizedState=n:(t.memoizedState=s,t=bp(),Nt.lanes|=t,Lr|=t,s)}function Tg(t,n,s,o){return kn(s,n)?s:pa.current!==null?(t=kf(t,s,o),kn(t,n)||(We=!0),t):(Ir&42)===0?(We=!0,t.memoizedState=s):(t=bp(),Nt.lanes|=t,Lr|=t,n)}function Ag(t,n,s,o,f){var d=I.p;I.p=d!==0&&8>d?d:8;var S=C.T,V={};C.T=V,qf(t,!1,n,s);try{var z=f(),W=C.S;if(W!==null&&W(V,z),z!==null&&typeof z=="object"&&typeof z.then=="function"){var ut=Vv(z,o);Vl(t,n,ut,jn(t))}else Vl(t,n,o,jn(t))}catch(ft){Vl(t,n,{then:function(){},status:"rejected",reason:ft},jn())}finally{I.p=d,C.T=S}}function Lv(){}function zf(t,n,s,o){if(t.tag!==5)throw Error(r(476));var f=bg(t).queue;Ag(t,f,n,nt,s===null?Lv:function(){return Sg(t),s(o)})}function bg(t){var n=t.memoizedState;if(n!==null)return n;n={memoizedState:nt,baseState:nt,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:ar,lastRenderedState:nt},next:null};var s={};return n.next={memoizedState:s,baseState:s,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:ar,lastRenderedState:s},next:null},t.memoizedState=n,t=t.alternate,t!==null&&(t.memoizedState=n),n}function Sg(t){var n=bg(t).next.queue;Vl(t,n,{},jn())}function Bf(){return yn(Kl)}function Rg(){return Le().memoizedState}function wg(){return Le().memoizedState}function Pv(t){for(var n=t.return;n!==null;){switch(n.tag){case 24:case 3:var s=jn();t=Cr(s);var o=Dr(n,t,s);o!==null&&(Fn(o,n,s),Rl(o,n,s)),n={cache:pf()},t.payload=n;return}n=n.return}}function kv(t,n,s){var o=jn();s={lane:o,revertLane:0,action:s,hasEagerState:!1,eagerState:null,next:null},gu(t)?Dg(n,s):(s=af(t,n,s,o),s!==null&&(Fn(s,t,o),Ig(s,n,o)))}function Cg(t,n,s){var o=jn();Vl(t,n,s,o)}function Vl(t,n,s,o){var f={lane:o,revertLane:0,action:s,hasEagerState:!1,eagerState:null,next:null};if(gu(t))Dg(n,f);else{var d=t.alternate;if(t.lanes===0&&(d===null||d.lanes===0)&&(d=n.lastRenderedReducer,d!==null))try{var S=n.lastRenderedState,V=d(S,s);if(f.hasEagerState=!0,f.eagerState=V,kn(V,S))return Jo(t,n,f,0),he===null&&$o(),!1}catch{}finally{}if(s=af(t,n,f,o),s!==null)return Fn(s,t,o),Ig(s,n,o),!0}return!1}function qf(t,n,s,o){if(o={lane:2,revertLane:vh(),action:o,hasEagerState:!1,eagerState:null,next:null},gu(t)){if(n)throw Error(r(479))}else n=af(t,s,o,2),n!==null&&Fn(n,t,2)}function gu(t){var n=t.alternate;return t===Nt||n!==null&&n===Nt}function Dg(t,n){ya=uu=!0;var s=t.pending;s===null?n.next=n:(n.next=s.next,s.next=n),t.pending=n}function Ig(t,n,s){if((s&4194048)!==0){var o=n.lanes;o&=t.pendingLanes,s|=o,n.lanes=s,oi(t,s)}}var pu={readContext:yn,use:fu,useCallback:De,useContext:De,useEffect:De,useImperativeHandle:De,useLayoutEffect:De,useInsertionEffect:De,useMemo:De,useReducer:De,useRef:De,useState:De,useDebugValue:De,useDeferredValue:De,useTransition:De,useSyncExternalStore:De,useId:De,useHostTransitionStatus:De,useFormState:De,useActionState:De,useOptimistic:De,useMemoCache:De,useCacheRefresh:De},Og={readContext:yn,use:fu,useCallback:function(t,n){return Nn().memoizedState=[t,n===void 0?null:n],t},useContext:yn,useEffect:dg,useImperativeHandle:function(t,n,s){s=s!=null?s.concat([t]):null,mu(4194308,4,yg.bind(null,n,t),s)},useLayoutEffect:function(t,n){return mu(4194308,4,t,n)},useInsertionEffect:function(t,n){mu(4,2,t,n)},useMemo:function(t,n){var s=Nn();n=n===void 0?null:n;var o=t();if(Ds){$t(!0);try{t()}finally{$t(!1)}}return s.memoizedState=[o,n],o},useReducer:function(t,n,s){var o=Nn();if(s!==void 0){var f=s(n);if(Ds){$t(!0);try{s(n)}finally{$t(!1)}}}else f=n;return o.memoizedState=o.baseState=f,t={pending:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:f},o.queue=t,t=t.dispatch=kv.bind(null,Nt,t),[o.memoizedState,t]},useRef:function(t){var n=Nn();return t={current:t},n.memoizedState=t},useState:function(t){t=Uf(t);var n=t.queue,s=Cg.bind(null,Nt,n);return n.dispatch=s,[t.memoizedState,s]},useDebugValue:Pf,useDeferredValue:function(t,n){var s=Nn();return kf(s,t,n)},useTransition:function(){var t=Uf(!1);return t=Ag.bind(null,Nt,t.queue,!0,!1),Nn().memoizedState=t,[!1,t]},useSyncExternalStore:function(t,n,s){var o=Nt,f=Nn();if(Zt){if(s===void 0)throw Error(r(407));s=s()}else{if(s=n(),he===null)throw Error(r(349));(jt&124)!==0||$m(o,n,s)}f.memoizedState=s;var d={value:s,getSnapshot:n};return f.queue=d,dg(Wm.bind(null,o,d,t),[t]),o.flags|=2048,va(9,du(),Jm.bind(null,o,d,s,n),null),s},useId:function(){var t=Nn(),n=he.identifierPrefix;if(Zt){var s=ir,o=nr;s=(o&~(1<<32-me(o)-1)).toString(32)+s,n="«"+n+"R"+s,s=cu++,0<s&&(n+="H"+s.toString(32)),n+="»"}else s=Nv++,n="«"+n+"r"+s.toString(32)+"»";return t.memoizedState=n},useHostTransitionStatus:Bf,useFormState:og,useActionState:og,useOptimistic:function(t){var n=Nn();n.memoizedState=n.baseState=t;var s={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return n.queue=s,n=qf.bind(null,Nt,!0,s),s.dispatch=n,[t,n]},useMemoCache:Nf,useCacheRefresh:function(){return Nn().memoizedState=Pv.bind(null,Nt)}},Vg={readContext:yn,use:fu,useCallback:vg,useContext:yn,useEffect:mg,useImperativeHandle:_g,useInsertionEffect:gg,useLayoutEffect:pg,useMemo:Eg,useReducer:hu,useRef:hg,useState:function(){return hu(ar)},useDebugValue:Pf,useDeferredValue:function(t,n){var s=Le();return Tg(s,ae.memoizedState,t,n)},useTransition:function(){var t=hu(ar)[0],n=Le().memoizedState;return[typeof t=="boolean"?t:Il(t),n]},useSyncExternalStore:Zm,useId:Rg,useHostTransitionStatus:Bf,useFormState:ug,useActionState:ug,useOptimistic:function(t,n){var s=Le();return ng(s,ae,t,n)},useMemoCache:Nf,useCacheRefresh:wg},zv={readContext:yn,use:fu,useCallback:vg,useContext:yn,useEffect:mg,useImperativeHandle:_g,useInsertionEffect:gg,useLayoutEffect:pg,useMemo:Eg,useReducer:xf,useRef:hg,useState:function(){return xf(ar)},useDebugValue:Pf,useDeferredValue:function(t,n){var s=Le();return ae===null?kf(s,t,n):Tg(s,ae.memoizedState,t,n)},useTransition:function(){var t=xf(ar)[0],n=Le().memoizedState;return[typeof t=="boolean"?t:Il(t),n]},useSyncExternalStore:Zm,useId:Rg,useHostTransitionStatus:Bf,useFormState:fg,useActionState:fg,useOptimistic:function(t,n){var s=Le();return ae!==null?ng(s,ae,t,n):(s.baseState=t,[t,s.queue.dispatch])},useMemoCache:Nf,useCacheRefresh:wg},Ea=null,Nl=0;function yu(t){var n=Nl;return Nl+=1,Ea===null&&(Ea=[]),Hm(Ea,t,n)}function Ml(t,n){n=n.props.ref,t.ref=n!==void 0?n:null}function _u(t,n){throw n.$$typeof===E?Error(r(525)):(t=Object.prototype.toString.call(n),Error(r(31,t==="[object Object]"?"object with keys {"+Object.keys(n).join(", ")+"}":t)))}function Ng(t){var n=t._init;return n(t._payload)}function Mg(t){function n(Q,H){if(t){var Z=Q.deletions;Z===null?(Q.deletions=[H],Q.flags|=16):Z.push(H)}}function s(Q,H){if(!t)return null;for(;H!==null;)n(Q,H),H=H.sibling;return null}function o(Q){for(var H=new Map;Q!==null;)Q.key!==null?H.set(Q.key,Q):H.set(Q.index,Q),Q=Q.sibling;return H}function f(Q,H){return Q=er(Q,H),Q.index=0,Q.sibling=null,Q}function d(Q,H,Z){return Q.index=Z,t?(Z=Q.alternate,Z!==null?(Z=Z.index,Z<H?(Q.flags|=67108866,H):Z):(Q.flags|=67108866,H)):(Q.flags|=1048576,H)}function S(Q){return t&&Q.alternate===null&&(Q.flags|=67108866),Q}function V(Q,H,Z,ct){return H===null||H.tag!==6?(H=of(Z,Q.mode,ct),H.return=Q,H):(H=f(H,Z),H.return=Q,H)}function z(Q,H,Z,ct){var yt=Z.type;return yt===U?ut(Q,H,Z.props.children,ct,Z.key):H!==null&&(H.elementType===yt||typeof yt=="object"&&yt!==null&&yt.$$typeof===T&&Ng(yt)===H.type)?(H=f(H,Z.props),Ml(H,Z),H.return=Q,H):(H=tu(Z.type,Z.key,Z.props,null,Q.mode,ct),Ml(H,Z),H.return=Q,H)}function W(Q,H,Z,ct){return H===null||H.tag!==4||H.stateNode.containerInfo!==Z.containerInfo||H.stateNode.implementation!==Z.implementation?(H=uf(Z,Q.mode,ct),H.return=Q,H):(H=f(H,Z.children||[]),H.return=Q,H)}function ut(Q,H,Z,ct,yt){return H===null||H.tag!==7?(H=Es(Z,Q.mode,ct,yt),H.return=Q,H):(H=f(H,Z),H.return=Q,H)}function ft(Q,H,Z){if(typeof H=="string"&&H!==""||typeof H=="number"||typeof H=="bigint")return H=of(""+H,Q.mode,Z),H.return=Q,H;if(typeof H=="object"&&H!==null){switch(H.$$typeof){case v:return Z=tu(H.type,H.key,H.props,null,Q.mode,Z),Ml(Z,H),Z.return=Q,Z;case R:return H=uf(H,Q.mode,Z),H.return=Q,H;case T:var ct=H._init;return H=ct(H._payload),ft(Q,H,Z)}if(K(H)||N(H))return H=Es(H,Q.mode,Z,null),H.return=Q,H;if(typeof H.then=="function")return ft(Q,yu(H),Z);if(H.$$typeof===F)return ft(Q,ru(Q,H),Z);_u(Q,H)}return null}function rt(Q,H,Z,ct){var yt=H!==null?H.key:null;if(typeof Z=="string"&&Z!==""||typeof Z=="number"||typeof Z=="bigint")return yt!==null?null:V(Q,H,""+Z,ct);if(typeof Z=="object"&&Z!==null){switch(Z.$$typeof){case v:return Z.key===yt?z(Q,H,Z,ct):null;case R:return Z.key===yt?W(Q,H,Z,ct):null;case T:return yt=Z._init,Z=yt(Z._payload),rt(Q,H,Z,ct)}if(K(Z)||N(Z))return yt!==null?null:ut(Q,H,Z,ct,null);if(typeof Z.then=="function")return rt(Q,H,yu(Z),ct);if(Z.$$typeof===F)return rt(Q,H,ru(Q,Z),ct);_u(Q,Z)}return null}function at(Q,H,Z,ct,yt){if(typeof ct=="string"&&ct!==""||typeof ct=="number"||typeof ct=="bigint")return Q=Q.get(Z)||null,V(H,Q,""+ct,yt);if(typeof ct=="object"&&ct!==null){switch(ct.$$typeof){case v:return Q=Q.get(ct.key===null?Z:ct.key)||null,z(H,Q,ct,yt);case R:return Q=Q.get(ct.key===null?Z:ct.key)||null,W(H,Q,ct,yt);case T:var Mt=ct._init;return ct=Mt(ct._payload),at(Q,H,Z,ct,yt)}if(K(ct)||N(ct))return Q=Q.get(Z)||null,ut(H,Q,ct,yt,null);if(typeof ct.then=="function")return at(Q,H,Z,yu(ct),yt);if(ct.$$typeof===F)return at(Q,H,Z,ru(H,ct),yt);_u(H,ct)}return null}function Rt(Q,H,Z,ct){for(var yt=null,Mt=null,_t=H,bt=H=0,en=null;_t!==null&&bt<Z.length;bt++){_t.index>bt?(en=_t,_t=null):en=_t.sibling;var Qt=rt(Q,_t,Z[bt],ct);if(Qt===null){_t===null&&(_t=en);break}t&&_t&&Qt.alternate===null&&n(Q,_t),H=d(Qt,H,bt),Mt===null?yt=Qt:Mt.sibling=Qt,Mt=Qt,_t=en}if(bt===Z.length)return s(Q,_t),Zt&&As(Q,bt),yt;if(_t===null){for(;bt<Z.length;bt++)_t=ft(Q,Z[bt],ct),_t!==null&&(H=d(_t,H,bt),Mt===null?yt=_t:Mt.sibling=_t,Mt=_t);return Zt&&As(Q,bt),yt}for(_t=o(_t);bt<Z.length;bt++)en=at(_t,Q,bt,Z[bt],ct),en!==null&&(t&&en.alternate!==null&&_t.delete(en.key===null?bt:en.key),H=d(en,H,bt),Mt===null?yt=en:Mt.sibling=en,Mt=en);return t&&_t.forEach(function(Gr){return n(Q,Gr)}),Zt&&As(Q,bt),yt}function At(Q,H,Z,ct){if(Z==null)throw Error(r(151));for(var yt=null,Mt=null,_t=H,bt=H=0,en=null,Qt=Z.next();_t!==null&&!Qt.done;bt++,Qt=Z.next()){_t.index>bt?(en=_t,_t=null):en=_t.sibling;var Gr=rt(Q,_t,Qt.value,ct);if(Gr===null){_t===null&&(_t=en);break}t&&_t&&Gr.alternate===null&&n(Q,_t),H=d(Gr,H,bt),Mt===null?yt=Gr:Mt.sibling=Gr,Mt=Gr,_t=en}if(Qt.done)return s(Q,_t),Zt&&As(Q,bt),yt;if(_t===null){for(;!Qt.done;bt++,Qt=Z.next())Qt=ft(Q,Qt.value,ct),Qt!==null&&(H=d(Qt,H,bt),Mt===null?yt=Qt:Mt.sibling=Qt,Mt=Qt);return Zt&&As(Q,bt),yt}for(_t=o(_t);!Qt.done;bt++,Qt=Z.next())Qt=at(_t,Q,bt,Qt.value,ct),Qt!==null&&(t&&Qt.alternate!==null&&_t.delete(Qt.key===null?bt:Qt.key),H=d(Qt,H,bt),Mt===null?yt=Qt:Mt.sibling=Qt,Mt=Qt);return t&&_t.forEach(function(BE){return n(Q,BE)}),Zt&&As(Q,bt),yt}function oe(Q,H,Z,ct){if(typeof Z=="object"&&Z!==null&&Z.type===U&&Z.key===null&&(Z=Z.props.children),typeof Z=="object"&&Z!==null){switch(Z.$$typeof){case v:t:{for(var yt=Z.key;H!==null;){if(H.key===yt){if(yt=Z.type,yt===U){if(H.tag===7){s(Q,H.sibling),ct=f(H,Z.props.children),ct.return=Q,Q=ct;break t}}else if(H.elementType===yt||typeof yt=="object"&&yt!==null&&yt.$$typeof===T&&Ng(yt)===H.type){s(Q,H.sibling),ct=f(H,Z.props),Ml(ct,Z),ct.return=Q,Q=ct;break t}s(Q,H);break}else n(Q,H);H=H.sibling}Z.type===U?(ct=Es(Z.props.children,Q.mode,ct,Z.key),ct.return=Q,Q=ct):(ct=tu(Z.type,Z.key,Z.props,null,Q.mode,ct),Ml(ct,Z),ct.return=Q,Q=ct)}return S(Q);case R:t:{for(yt=Z.key;H!==null;){if(H.key===yt)if(H.tag===4&&H.stateNode.containerInfo===Z.containerInfo&&H.stateNode.implementation===Z.implementation){s(Q,H.sibling),ct=f(H,Z.children||[]),ct.return=Q,Q=ct;break t}else{s(Q,H);break}else n(Q,H);H=H.sibling}ct=uf(Z,Q.mode,ct),ct.return=Q,Q=ct}return S(Q);case T:return yt=Z._init,Z=yt(Z._payload),oe(Q,H,Z,ct)}if(K(Z))return Rt(Q,H,Z,ct);if(N(Z)){if(yt=N(Z),typeof yt!="function")throw Error(r(150));return Z=yt.call(Z),At(Q,H,Z,ct)}if(typeof Z.then=="function")return oe(Q,H,yu(Z),ct);if(Z.$$typeof===F)return oe(Q,H,ru(Q,Z),ct);_u(Q,Z)}return typeof Z=="string"&&Z!==""||typeof Z=="number"||typeof Z=="bigint"?(Z=""+Z,H!==null&&H.tag===6?(s(Q,H.sibling),ct=f(H,Z),ct.return=Q,Q=ct):(s(Q,H),ct=of(Z,Q.mode,ct),ct.return=Q,Q=ct),S(Q)):s(Q,H)}return function(Q,H,Z,ct){try{Nl=0;var yt=oe(Q,H,Z,ct);return Ea=null,yt}catch(_t){if(_t===bl||_t===au)throw _t;var Mt=zn(29,_t,null,Q.mode);return Mt.lanes=ct,Mt.return=Q,Mt}finally{}}}var Ta=Mg(!0),xg=Mg(!1),ei=J(null),Oi=null;function Or(t){var n=t.alternate;it(Fe,Fe.current&1),it(ei,t),Oi===null&&(n===null||pa.current!==null||n.memoizedState!==null)&&(Oi=t)}function Ug(t){if(t.tag===22){if(it(Fe,Fe.current),it(ei,t),Oi===null){var n=t.alternate;n!==null&&n.memoizedState!==null&&(Oi=t)}}else Vr()}function Vr(){it(Fe,Fe.current),it(ei,ei.current)}function lr(t){tt(ei),Oi===t&&(Oi=null),tt(Fe)}var Fe=J(0);function vu(t){for(var n=t;n!==null;){if(n.tag===13){var s=n.memoizedState;if(s!==null&&(s=s.dehydrated,s===null||s.data==="$?"||Vh(s)))return n}else if(n.tag===19&&n.memoizedProps.revealOrder!==void 0){if((n.flags&128)!==0)return n}else if(n.child!==null){n.child.return=n,n=n.child;continue}if(n===t)break;for(;n.sibling===null;){if(n.return===null||n.return===t)return null;n=n.return}n.sibling.return=n.return,n=n.sibling}return null}function Hf(t,n,s,o){n=t.memoizedState,s=s(o,n),s=s==null?n:p({},n,s),t.memoizedState=s,t.lanes===0&&(t.updateQueue.baseState=s)}var jf={enqueueSetState:function(t,n,s){t=t._reactInternals;var o=jn(),f=Cr(o);f.payload=n,s!=null&&(f.callback=s),n=Dr(t,f,o),n!==null&&(Fn(n,t,o),Rl(n,t,o))},enqueueReplaceState:function(t,n,s){t=t._reactInternals;var o=jn(),f=Cr(o);f.tag=1,f.payload=n,s!=null&&(f.callback=s),n=Dr(t,f,o),n!==null&&(Fn(n,t,o),Rl(n,t,o))},enqueueForceUpdate:function(t,n){t=t._reactInternals;var s=jn(),o=Cr(s);o.tag=2,n!=null&&(o.callback=n),n=Dr(t,o,s),n!==null&&(Fn(n,t,s),Rl(n,t,s))}};function Lg(t,n,s,o,f,d,S){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(o,d,S):n.prototype&&n.prototype.isPureReactComponent?!gl(s,o)||!gl(f,d):!0}function Pg(t,n,s,o){t=n.state,typeof n.componentWillReceiveProps=="function"&&n.componentWillReceiveProps(s,o),typeof n.UNSAFE_componentWillReceiveProps=="function"&&n.UNSAFE_componentWillReceiveProps(s,o),n.state!==t&&jf.enqueueReplaceState(n,n.state,null)}function Is(t,n){var s=n;if("ref"in n){s={};for(var o in n)o!=="ref"&&(s[o]=n[o])}if(t=t.defaultProps){s===n&&(s=p({},s));for(var f in t)s[f]===void 0&&(s[f]=t[f])}return s}var Eu=typeof reportError=="function"?reportError:function(t){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var n=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof t=="object"&&t!==null&&typeof t.message=="string"?String(t.message):String(t),error:t});if(!window.dispatchEvent(n))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",t);return}console.error(t)};function kg(t){Eu(t)}function zg(t){console.error(t)}function Bg(t){Eu(t)}function Tu(t,n){try{var s=t.onUncaughtError;s(n.value,{componentStack:n.stack})}catch(o){setTimeout(function(){throw o})}}function qg(t,n,s){try{var o=t.onCaughtError;o(s.value,{componentStack:s.stack,errorBoundary:n.tag===1?n.stateNode:null})}catch(f){setTimeout(function(){throw f})}}function Ff(t,n,s){return s=Cr(s),s.tag=3,s.payload={element:null},s.callback=function(){Tu(t,n)},s}function Hg(t){return t=Cr(t),t.tag=3,t}function jg(t,n,s,o){var f=s.type.getDerivedStateFromError;if(typeof f=="function"){var d=o.value;t.payload=function(){return f(d)},t.callback=function(){qg(n,s,o)}}var S=s.stateNode;S!==null&&typeof S.componentDidCatch=="function"&&(t.callback=function(){qg(n,s,o),typeof f!="function"&&(Pr===null?Pr=new Set([this]):Pr.add(this));var V=o.stack;this.componentDidCatch(o.value,{componentStack:V!==null?V:""})})}function Bv(t,n,s,o,f){if(s.flags|=32768,o!==null&&typeof o=="object"&&typeof o.then=="function"){if(n=s.alternate,n!==null&&El(n,s,f,!0),s=ei.current,s!==null){switch(s.tag){case 13:return Oi===null?mh():s.alternate===null&&be===0&&(be=3),s.flags&=-257,s.flags|=65536,s.lanes=f,o===vf?s.flags|=16384:(n=s.updateQueue,n===null?s.updateQueue=new Set([o]):n.add(o),ph(t,o,f)),!1;case 22:return s.flags|=65536,o===vf?s.flags|=16384:(n=s.updateQueue,n===null?(n={transitions:null,markerInstances:null,retryQueue:new Set([o])},s.updateQueue=n):(s=n.retryQueue,s===null?n.retryQueue=new Set([o]):s.add(o)),ph(t,o,f)),!1}throw Error(r(435,s.tag))}return ph(t,o,f),mh(),!1}if(Zt)return n=ei.current,n!==null?((n.flags&65536)===0&&(n.flags|=256),n.flags|=65536,n.lanes=f,o!==hf&&(t=Error(r(422),{cause:o}),vl($n(t,s)))):(o!==hf&&(n=Error(r(423),{cause:o}),vl($n(n,s))),t=t.current.alternate,t.flags|=65536,f&=-f,t.lanes|=f,o=$n(o,s),f=Ff(t.stateNode,o,f),Af(t,f),be!==4&&(be=2)),!1;var d=Error(r(520),{cause:o});if(d=$n(d,s),Bl===null?Bl=[d]:Bl.push(d),be!==4&&(be=2),n===null)return!0;o=$n(o,s),s=n;do{switch(s.tag){case 3:return s.flags|=65536,t=f&-f,s.lanes|=t,t=Ff(s.stateNode,o,t),Af(s,t),!1;case 1:if(n=s.type,d=s.stateNode,(s.flags&128)===0&&(typeof n.getDerivedStateFromError=="function"||d!==null&&typeof d.componentDidCatch=="function"&&(Pr===null||!Pr.has(d))))return s.flags|=65536,f&=-f,s.lanes|=f,f=Hg(f),jg(f,t,s,o),Af(s,f),!1}s=s.return}while(s!==null);return!1}var Fg=Error(r(461)),We=!1;function cn(t,n,s,o){n.child=t===null?xg(n,null,s,o):Ta(n,t.child,s,o)}function Gg(t,n,s,o,f){s=s.render;var d=n.ref;if("ref"in o){var S={};for(var V in o)V!=="ref"&&(S[V]=o[V])}else S=o;return ws(n),o=Cf(t,n,s,S,d,f),V=Df(),t!==null&&!We?(If(t,n,f),or(t,n,f)):(Zt&&V&&cf(n),n.flags|=1,cn(t,n,o,f),n.child)}function Qg(t,n,s,o,f){if(t===null){var d=s.type;return typeof d=="function"&&!lf(d)&&d.defaultProps===void 0&&s.compare===null?(n.tag=15,n.type=d,Yg(t,n,d,o,f)):(t=tu(s.type,null,o,n,n.mode,f),t.ref=n.ref,t.return=n,n.child=t)}if(d=t.child,!Jf(t,f)){var S=d.memoizedProps;if(s=s.compare,s=s!==null?s:gl,s(S,o)&&t.ref===n.ref)return or(t,n,f)}return n.flags|=1,t=er(d,o),t.ref=n.ref,t.return=n,n.child=t}function Yg(t,n,s,o,f){if(t!==null){var d=t.memoizedProps;if(gl(d,o)&&t.ref===n.ref)if(We=!1,n.pendingProps=o=d,Jf(t,f))(t.flags&131072)!==0&&(We=!0);else return n.lanes=t.lanes,or(t,n,f)}return Gf(t,n,s,o,f)}function Xg(t,n,s){var o=n.pendingProps,f=o.children,d=t!==null?t.memoizedState:null;if(o.mode==="hidden"){if((n.flags&128)!==0){if(o=d!==null?d.baseLanes|s:s,t!==null){for(f=n.child=t.child,d=0;f!==null;)d=d|f.lanes|f.childLanes,f=f.sibling;n.childLanes=d&~o}else n.childLanes=0,n.child=null;return Kg(t,n,o,s)}if((s&536870912)!==0)n.memoizedState={baseLanes:0,cachePool:null},t!==null&&su(n,d!==null?d.cachePool:null),d!==null?Ym(n,d):Sf(),Ug(n);else return n.lanes=n.childLanes=536870912,Kg(t,n,d!==null?d.baseLanes|s:s,s)}else d!==null?(su(n,d.cachePool),Ym(n,d),Vr(),n.memoizedState=null):(t!==null&&su(n,null),Sf(),Vr());return cn(t,n,f,s),n.child}function Kg(t,n,s,o){var f=_f();return f=f===null?null:{parent:je._currentValue,pool:f},n.memoizedState={baseLanes:s,cachePool:f},t!==null&&su(n,null),Sf(),Ug(n),t!==null&&El(t,n,o,!0),null}function Au(t,n){var s=n.ref;if(s===null)t!==null&&t.ref!==null&&(n.flags|=4194816);else{if(typeof s!="function"&&typeof s!="object")throw Error(r(284));(t===null||t.ref!==s)&&(n.flags|=4194816)}}function Gf(t,n,s,o,f){return ws(n),s=Cf(t,n,s,o,void 0,f),o=Df(),t!==null&&!We?(If(t,n,f),or(t,n,f)):(Zt&&o&&cf(n),n.flags|=1,cn(t,n,s,f),n.child)}function Zg(t,n,s,o,f,d){return ws(n),n.updateQueue=null,s=Km(n,o,s,f),Xm(t),o=Df(),t!==null&&!We?(If(t,n,d),or(t,n,d)):(Zt&&o&&cf(n),n.flags|=1,cn(t,n,s,d),n.child)}function $g(t,n,s,o,f){if(ws(n),n.stateNode===null){var d=fa,S=s.contextType;typeof S=="object"&&S!==null&&(d=yn(S)),d=new s(o,d),n.memoizedState=d.state!==null&&d.state!==void 0?d.state:null,d.updater=jf,n.stateNode=d,d._reactInternals=n,d=n.stateNode,d.props=o,d.state=n.memoizedState,d.refs={},Ef(n),S=s.contextType,d.context=typeof S=="object"&&S!==null?yn(S):fa,d.state=n.memoizedState,S=s.getDerivedStateFromProps,typeof S=="function"&&(Hf(n,s,S,o),d.state=n.memoizedState),typeof s.getDerivedStateFromProps=="function"||typeof d.getSnapshotBeforeUpdate=="function"||typeof d.UNSAFE_componentWillMount!="function"&&typeof d.componentWillMount!="function"||(S=d.state,typeof d.componentWillMount=="function"&&d.componentWillMount(),typeof d.UNSAFE_componentWillMount=="function"&&d.UNSAFE_componentWillMount(),S!==d.state&&jf.enqueueReplaceState(d,d.state,null),Cl(n,o,d,f),wl(),d.state=n.memoizedState),typeof d.componentDidMount=="function"&&(n.flags|=4194308),o=!0}else if(t===null){d=n.stateNode;var V=n.memoizedProps,z=Is(s,V);d.props=z;var W=d.context,ut=s.contextType;S=fa,typeof ut=="object"&&ut!==null&&(S=yn(ut));var ft=s.getDerivedStateFromProps;ut=typeof ft=="function"||typeof d.getSnapshotBeforeUpdate=="function",V=n.pendingProps!==V,ut||typeof d.UNSAFE_componentWillReceiveProps!="function"&&typeof d.componentWillReceiveProps!="function"||(V||W!==S)&&Pg(n,d,o,S),wr=!1;var rt=n.memoizedState;d.state=rt,Cl(n,o,d,f),wl(),W=n.memoizedState,V||rt!==W||wr?(typeof ft=="function"&&(Hf(n,s,ft,o),W=n.memoizedState),(z=wr||Lg(n,s,z,o,rt,W,S))?(ut||typeof d.UNSAFE_componentWillMount!="function"&&typeof d.componentWillMount!="function"||(typeof d.componentWillMount=="function"&&d.componentWillMount(),typeof d.UNSAFE_componentWillMount=="function"&&d.UNSAFE_componentWillMount()),typeof d.componentDidMount=="function"&&(n.flags|=4194308)):(typeof d.componentDidMount=="function"&&(n.flags|=4194308),n.memoizedProps=o,n.memoizedState=W),d.props=o,d.state=W,d.context=S,o=z):(typeof d.componentDidMount=="function"&&(n.flags|=4194308),o=!1)}else{d=n.stateNode,Tf(t,n),S=n.memoizedProps,ut=Is(s,S),d.props=ut,ft=n.pendingProps,rt=d.context,W=s.contextType,z=fa,typeof W=="object"&&W!==null&&(z=yn(W)),V=s.getDerivedStateFromProps,(W=typeof V=="function"||typeof d.getSnapshotBeforeUpdate=="function")||typeof d.UNSAFE_componentWillReceiveProps!="function"&&typeof d.componentWillReceiveProps!="function"||(S!==ft||rt!==z)&&Pg(n,d,o,z),wr=!1,rt=n.memoizedState,d.state=rt,Cl(n,o,d,f),wl();var at=n.memoizedState;S!==ft||rt!==at||wr||t!==null&&t.dependencies!==null&&iu(t.dependencies)?(typeof V=="function"&&(Hf(n,s,V,o),at=n.memoizedState),(ut=wr||Lg(n,s,ut,o,rt,at,z)||t!==null&&t.dependencies!==null&&iu(t.dependencies))?(W||typeof d.UNSAFE_componentWillUpdate!="function"&&typeof d.componentWillUpdate!="function"||(typeof d.componentWillUpdate=="function"&&d.componentWillUpdate(o,at,z),typeof d.UNSAFE_componentWillUpdate=="function"&&d.UNSAFE_componentWillUpdate(o,at,z)),typeof d.componentDidUpdate=="function"&&(n.flags|=4),typeof d.getSnapshotBeforeUpdate=="function"&&(n.flags|=1024)):(typeof d.componentDidUpdate!="function"||S===t.memoizedProps&&rt===t.memoizedState||(n.flags|=4),typeof d.getSnapshotBeforeUpdate!="function"||S===t.memoizedProps&&rt===t.memoizedState||(n.flags|=1024),n.memoizedProps=o,n.memoizedState=at),d.props=o,d.state=at,d.context=z,o=ut):(typeof d.componentDidUpdate!="function"||S===t.memoizedProps&&rt===t.memoizedState||(n.flags|=4),typeof d.getSnapshotBeforeUpdate!="function"||S===t.memoizedProps&&rt===t.memoizedState||(n.flags|=1024),o=!1)}return d=o,Au(t,n),o=(n.flags&128)!==0,d||o?(d=n.stateNode,s=o&&typeof s.getDerivedStateFromError!="function"?null:d.render(),n.flags|=1,t!==null&&o?(n.child=Ta(n,t.child,null,f),n.child=Ta(n,null,s,f)):cn(t,n,s,f),n.memoizedState=d.state,t=n.child):t=or(t,n,f),t}function Jg(t,n,s,o){return _l(),n.flags|=256,cn(t,n,s,o),n.child}var Qf={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function Yf(t){return{baseLanes:t,cachePool:zm()}}function Xf(t,n,s){return t=t!==null?t.childLanes&~s:0,n&&(t|=ni),t}function Wg(t,n,s){var o=n.pendingProps,f=!1,d=(n.flags&128)!==0,S;if((S=d)||(S=t!==null&&t.memoizedState===null?!1:(Fe.current&2)!==0),S&&(f=!0,n.flags&=-129),S=(n.flags&32)!==0,n.flags&=-33,t===null){if(Zt){if(f?Or(n):Vr(),Zt){var V=Ae,z;if(z=V){t:{for(z=V,V=Ii;z.nodeType!==8;){if(!V){V=null;break t}if(z=mi(z.nextSibling),z===null){V=null;break t}}V=z}V!==null?(n.memoizedState={dehydrated:V,treeContext:Ts!==null?{id:nr,overflow:ir}:null,retryLane:536870912,hydrationErrors:null},z=zn(18,null,null,0),z.stateNode=V,z.return=n,n.child=z,Dn=n,Ae=null,z=!0):z=!1}z||Ss(n)}if(V=n.memoizedState,V!==null&&(V=V.dehydrated,V!==null))return Vh(V)?n.lanes=32:n.lanes=536870912,null;lr(n)}return V=o.children,o=o.fallback,f?(Vr(),f=n.mode,V=bu({mode:"hidden",children:V},f),o=Es(o,f,s,null),V.return=n,o.return=n,V.sibling=o,n.child=V,f=n.child,f.memoizedState=Yf(s),f.childLanes=Xf(t,S,s),n.memoizedState=Qf,o):(Or(n),Kf(n,V))}if(z=t.memoizedState,z!==null&&(V=z.dehydrated,V!==null)){if(d)n.flags&256?(Or(n),n.flags&=-257,n=Zf(t,n,s)):n.memoizedState!==null?(Vr(),n.child=t.child,n.flags|=128,n=null):(Vr(),f=o.fallback,V=n.mode,o=bu({mode:"visible",children:o.children},V),f=Es(f,V,s,null),f.flags|=2,o.return=n,f.return=n,o.sibling=f,n.child=o,Ta(n,t.child,null,s),o=n.child,o.memoizedState=Yf(s),o.childLanes=Xf(t,S,s),n.memoizedState=Qf,n=f);else if(Or(n),Vh(V)){if(S=V.nextSibling&&V.nextSibling.dataset,S)var W=S.dgst;S=W,o=Error(r(419)),o.stack="",o.digest=S,vl({value:o,source:null,stack:null}),n=Zf(t,n,s)}else if(We||El(t,n,s,!1),S=(s&t.childLanes)!==0,We||S){if(S=he,S!==null&&(o=s&-s,o=(o&42)!==0?1:ui(o),o=(o&(S.suspendedLanes|s))!==0?0:o,o!==0&&o!==z.retryLane))throw z.retryLane=o,ca(t,o),Fn(S,t,o),Fg;V.data==="$?"||mh(),n=Zf(t,n,s)}else V.data==="$?"?(n.flags|=192,n.child=t.child,n=null):(t=z.treeContext,Ae=mi(V.nextSibling),Dn=n,Zt=!0,bs=null,Ii=!1,t!==null&&(Wn[ti++]=nr,Wn[ti++]=ir,Wn[ti++]=Ts,nr=t.id,ir=t.overflow,Ts=n),n=Kf(n,o.children),n.flags|=4096);return n}return f?(Vr(),f=o.fallback,V=n.mode,z=t.child,W=z.sibling,o=er(z,{mode:"hidden",children:o.children}),o.subtreeFlags=z.subtreeFlags&65011712,W!==null?f=er(W,f):(f=Es(f,V,s,null),f.flags|=2),f.return=n,o.return=n,o.sibling=f,n.child=o,o=f,f=n.child,V=t.child.memoizedState,V===null?V=Yf(s):(z=V.cachePool,z!==null?(W=je._currentValue,z=z.parent!==W?{parent:W,pool:W}:z):z=zm(),V={baseLanes:V.baseLanes|s,cachePool:z}),f.memoizedState=V,f.childLanes=Xf(t,S,s),n.memoizedState=Qf,o):(Or(n),s=t.child,t=s.sibling,s=er(s,{mode:"visible",children:o.children}),s.return=n,s.sibling=null,t!==null&&(S=n.deletions,S===null?(n.deletions=[t],n.flags|=16):S.push(t)),n.child=s,n.memoizedState=null,s)}function Kf(t,n){return n=bu({mode:"visible",children:n},t.mode),n.return=t,t.child=n}function bu(t,n){return t=zn(22,t,null,n),t.lanes=0,t.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null},t}function Zf(t,n,s){return Ta(n,t.child,null,s),t=Kf(n,n.pendingProps.children),t.flags|=2,n.memoizedState=null,t}function tp(t,n,s){t.lanes|=n;var o=t.alternate;o!==null&&(o.lanes|=n),mf(t.return,n,s)}function $f(t,n,s,o,f){var d=t.memoizedState;d===null?t.memoizedState={isBackwards:n,rendering:null,renderingStartTime:0,last:o,tail:s,tailMode:f}:(d.isBackwards=n,d.rendering=null,d.renderingStartTime=0,d.last=o,d.tail=s,d.tailMode=f)}function ep(t,n,s){var o=n.pendingProps,f=o.revealOrder,d=o.tail;if(cn(t,n,o.children,s),o=Fe.current,(o&2)!==0)o=o&1|2,n.flags|=128;else{if(t!==null&&(t.flags&128)!==0)t:for(t=n.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&tp(t,s,n);else if(t.tag===19)tp(t,s,n);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===n)break t;for(;t.sibling===null;){if(t.return===null||t.return===n)break t;t=t.return}t.sibling.return=t.return,t=t.sibling}o&=1}switch(it(Fe,o),f){case"forwards":for(s=n.child,f=null;s!==null;)t=s.alternate,t!==null&&vu(t)===null&&(f=s),s=s.sibling;s=f,s===null?(f=n.child,n.child=null):(f=s.sibling,s.sibling=null),$f(n,!1,f,s,d);break;case"backwards":for(s=null,f=n.child,n.child=null;f!==null;){if(t=f.alternate,t!==null&&vu(t)===null){n.child=f;break}t=f.sibling,f.sibling=s,s=f,f=t}$f(n,!0,s,null,d);break;case"together":$f(n,!1,null,null,void 0);break;default:n.memoizedState=null}return n.child}function or(t,n,s){if(t!==null&&(n.dependencies=t.dependencies),Lr|=n.lanes,(s&n.childLanes)===0)if(t!==null){if(El(t,n,s,!1),(s&n.childLanes)===0)return null}else return null;if(t!==null&&n.child!==t.child)throw Error(r(153));if(n.child!==null){for(t=n.child,s=er(t,t.pendingProps),n.child=s,s.return=n;t.sibling!==null;)t=t.sibling,s=s.sibling=er(t,t.pendingProps),s.return=n;s.sibling=null}return n.child}function Jf(t,n){return(t.lanes&n)!==0?!0:(t=t.dependencies,!!(t!==null&&iu(t)))}function qv(t,n,s){switch(n.tag){case 3:Et(n,n.stateNode.containerInfo),Rr(n,je,t.memoizedState.cache),_l();break;case 27:case 5:zt(n);break;case 4:Et(n,n.stateNode.containerInfo);break;case 10:Rr(n,n.type,n.memoizedProps.value);break;case 13:var o=n.memoizedState;if(o!==null)return o.dehydrated!==null?(Or(n),n.flags|=128,null):(s&n.child.childLanes)!==0?Wg(t,n,s):(Or(n),t=or(t,n,s),t!==null?t.sibling:null);Or(n);break;case 19:var f=(t.flags&128)!==0;if(o=(s&n.childLanes)!==0,o||(El(t,n,s,!1),o=(s&n.childLanes)!==0),f){if(o)return ep(t,n,s);n.flags|=128}if(f=n.memoizedState,f!==null&&(f.rendering=null,f.tail=null,f.lastEffect=null),it(Fe,Fe.current),o)break;return null;case 22:case 23:return n.lanes=0,Xg(t,n,s);case 24:Rr(n,je,t.memoizedState.cache)}return or(t,n,s)}function np(t,n,s){if(t!==null)if(t.memoizedProps!==n.pendingProps)We=!0;else{if(!Jf(t,s)&&(n.flags&128)===0)return We=!1,qv(t,n,s);We=(t.flags&131072)!==0}else We=!1,Zt&&(n.flags&1048576)!==0&&Nm(n,nu,n.index);switch(n.lanes=0,n.tag){case 16:t:{t=n.pendingProps;var o=n.elementType,f=o._init;if(o=f(o._payload),n.type=o,typeof o=="function")lf(o)?(t=Is(o,t),n.tag=1,n=$g(null,n,o,t,s)):(n.tag=0,n=Gf(null,n,o,t,s));else{if(o!=null){if(f=o.$$typeof,f===G){n.tag=11,n=Gg(null,n,o,t,s);break t}else if(f===L){n.tag=14,n=Qg(null,n,o,t,s);break t}}throw n=j(o)||o,Error(r(306,n,""))}}return n;case 0:return Gf(t,n,n.type,n.pendingProps,s);case 1:return o=n.type,f=Is(o,n.pendingProps),$g(t,n,o,f,s);case 3:t:{if(Et(n,n.stateNode.containerInfo),t===null)throw Error(r(387));o=n.pendingProps;var d=n.memoizedState;f=d.element,Tf(t,n),Cl(n,o,null,s);var S=n.memoizedState;if(o=S.cache,Rr(n,je,o),o!==d.cache&&gf(n,[je],s,!0),wl(),o=S.element,d.isDehydrated)if(d={element:o,isDehydrated:!1,cache:S.cache},n.updateQueue.baseState=d,n.memoizedState=d,n.flags&256){n=Jg(t,n,o,s);break t}else if(o!==f){f=$n(Error(r(424)),n),vl(f),n=Jg(t,n,o,s);break t}else{switch(t=n.stateNode.containerInfo,t.nodeType){case 9:t=t.body;break;default:t=t.nodeName==="HTML"?t.ownerDocument.body:t}for(Ae=mi(t.firstChild),Dn=n,Zt=!0,bs=null,Ii=!0,s=xg(n,null,o,s),n.child=s;s;)s.flags=s.flags&-3|4096,s=s.sibling}else{if(_l(),o===f){n=or(t,n,s);break t}cn(t,n,o,s)}n=n.child}return n;case 26:return Au(t,n),t===null?(s=ay(n.type,null,n.pendingProps,null))?n.memoizedState=s:Zt||(s=n.type,t=n.pendingProps,o=Pu(mt.current).createElement(s),o[Be]=n,o[Me]=t,hn(o,s,t),Ce(o),n.stateNode=o):n.memoizedState=ay(n.type,t.memoizedProps,n.pendingProps,t.memoizedState),null;case 27:return zt(n),t===null&&Zt&&(o=n.stateNode=iy(n.type,n.pendingProps,mt.current),Dn=n,Ii=!0,f=Ae,Br(n.type)?(Nh=f,Ae=mi(o.firstChild)):Ae=f),cn(t,n,n.pendingProps.children,s),Au(t,n),t===null&&(n.flags|=4194304),n.child;case 5:return t===null&&Zt&&((f=o=Ae)&&(o=gE(o,n.type,n.pendingProps,Ii),o!==null?(n.stateNode=o,Dn=n,Ae=mi(o.firstChild),Ii=!1,f=!0):f=!1),f||Ss(n)),zt(n),f=n.type,d=n.pendingProps,S=t!==null?t.memoizedProps:null,o=d.children,Dh(f,d)?o=null:S!==null&&Dh(f,S)&&(n.flags|=32),n.memoizedState!==null&&(f=Cf(t,n,Mv,null,null,s),Kl._currentValue=f),Au(t,n),cn(t,n,o,s),n.child;case 6:return t===null&&Zt&&((t=s=Ae)&&(s=pE(s,n.pendingProps,Ii),s!==null?(n.stateNode=s,Dn=n,Ae=null,t=!0):t=!1),t||Ss(n)),null;case 13:return Wg(t,n,s);case 4:return Et(n,n.stateNode.containerInfo),o=n.pendingProps,t===null?n.child=Ta(n,null,o,s):cn(t,n,o,s),n.child;case 11:return Gg(t,n,n.type,n.pendingProps,s);case 7:return cn(t,n,n.pendingProps,s),n.child;case 8:return cn(t,n,n.pendingProps.children,s),n.child;case 12:return cn(t,n,n.pendingProps.children,s),n.child;case 10:return o=n.pendingProps,Rr(n,n.type,o.value),cn(t,n,o.children,s),n.child;case 9:return f=n.type._context,o=n.pendingProps.children,ws(n),f=yn(f),o=o(f),n.flags|=1,cn(t,n,o,s),n.child;case 14:return Qg(t,n,n.type,n.pendingProps,s);case 15:return Yg(t,n,n.type,n.pendingProps,s);case 19:return ep(t,n,s);case 31:return o=n.pendingProps,s=n.mode,o={mode:o.mode,children:o.children},t===null?(s=bu(o,s),s.ref=n.ref,n.child=s,s.return=n,n=s):(s=er(t.child,o),s.ref=n.ref,n.child=s,s.return=n,n=s),n;case 22:return Xg(t,n,s);case 24:return ws(n),o=yn(je),t===null?(f=_f(),f===null&&(f=he,d=pf(),f.pooledCache=d,d.refCount++,d!==null&&(f.pooledCacheLanes|=s),f=d),n.memoizedState={parent:o,cache:f},Ef(n),Rr(n,je,f)):((t.lanes&s)!==0&&(Tf(t,n),Cl(n,null,null,s),wl()),f=t.memoizedState,d=n.memoizedState,f.parent!==o?(f={parent:o,cache:o},n.memoizedState=f,n.lanes===0&&(n.memoizedState=n.updateQueue.baseState=f),Rr(n,je,o)):(o=d.cache,Rr(n,je,o),o!==f.cache&&gf(n,[je],s,!0))),cn(t,n,n.pendingProps.children,s),n.child;case 29:throw n.pendingProps}throw Error(r(156,n.tag))}function ur(t){t.flags|=4}function ip(t,n){if(n.type!=="stylesheet"||(n.state.loading&4)!==0)t.flags&=-16777217;else if(t.flags|=16777216,!fy(n)){if(n=ei.current,n!==null&&((jt&4194048)===jt?Oi!==null:(jt&62914560)!==jt&&(jt&536870912)===0||n!==Oi))throw Sl=vf,Bm;t.flags|=8192}}function Su(t,n){n!==null&&(t.flags|=4),t.flags&16384&&(n=t.tag!==22?ai():536870912,t.lanes|=n,Ra|=n)}function xl(t,n){if(!Zt)switch(t.tailMode){case"hidden":n=t.tail;for(var s=null;n!==null;)n.alternate!==null&&(s=n),n=n.sibling;s===null?t.tail=null:s.sibling=null;break;case"collapsed":s=t.tail;for(var o=null;s!==null;)s.alternate!==null&&(o=s),s=s.sibling;o===null?n||t.tail===null?t.tail=null:t.tail.sibling=null:o.sibling=null}}function _e(t){var n=t.alternate!==null&&t.alternate.child===t.child,s=0,o=0;if(n)for(var f=t.child;f!==null;)s|=f.lanes|f.childLanes,o|=f.subtreeFlags&65011712,o|=f.flags&65011712,f.return=t,f=f.sibling;else for(f=t.child;f!==null;)s|=f.lanes|f.childLanes,o|=f.subtreeFlags,o|=f.flags,f.return=t,f=f.sibling;return t.subtreeFlags|=o,t.childLanes=s,n}function Hv(t,n,s){var o=n.pendingProps;switch(ff(n),n.tag){case 31:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return _e(n),null;case 1:return _e(n),null;case 3:return s=n.stateNode,o=null,t!==null&&(o=t.memoizedState.cache),n.memoizedState.cache!==o&&(n.flags|=2048),sr(je),Ot(),s.pendingContext&&(s.context=s.pendingContext,s.pendingContext=null),(t===null||t.child===null)&&(yl(n)?ur(n):t===null||t.memoizedState.isDehydrated&&(n.flags&256)===0||(n.flags|=1024,Um())),_e(n),null;case 26:return s=n.memoizedState,t===null?(ur(n),s!==null?(_e(n),ip(n,s)):(_e(n),n.flags&=-16777217)):s?s!==t.memoizedState?(ur(n),_e(n),ip(n,s)):(_e(n),n.flags&=-16777217):(t.memoizedProps!==o&&ur(n),_e(n),n.flags&=-16777217),null;case 27:Yt(n),s=mt.current;var f=n.type;if(t!==null&&n.stateNode!=null)t.memoizedProps!==o&&ur(n);else{if(!o){if(n.stateNode===null)throw Error(r(166));return _e(n),null}t=lt.current,yl(n)?Mm(n):(t=iy(f,o,s),n.stateNode=t,ur(n))}return _e(n),null;case 5:if(Yt(n),s=n.type,t!==null&&n.stateNode!=null)t.memoizedProps!==o&&ur(n);else{if(!o){if(n.stateNode===null)throw Error(r(166));return _e(n),null}if(t=lt.current,yl(n))Mm(n);else{switch(f=Pu(mt.current),t){case 1:t=f.createElementNS("http://www.w3.org/2000/svg",s);break;case 2:t=f.createElementNS("http://www.w3.org/1998/Math/MathML",s);break;default:switch(s){case"svg":t=f.createElementNS("http://www.w3.org/2000/svg",s);break;case"math":t=f.createElementNS("http://www.w3.org/1998/Math/MathML",s);break;case"script":t=f.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild);break;case"select":t=typeof o.is=="string"?f.createElement("select",{is:o.is}):f.createElement("select"),o.multiple?t.multiple=!0:o.size&&(t.size=o.size);break;default:t=typeof o.is=="string"?f.createElement(s,{is:o.is}):f.createElement(s)}}t[Be]=n,t[Me]=o;t:for(f=n.child;f!==null;){if(f.tag===5||f.tag===6)t.appendChild(f.stateNode);else if(f.tag!==4&&f.tag!==27&&f.child!==null){f.child.return=f,f=f.child;continue}if(f===n)break t;for(;f.sibling===null;){if(f.return===null||f.return===n)break t;f=f.return}f.sibling.return=f.return,f=f.sibling}n.stateNode=t;t:switch(hn(t,s,o),s){case"button":case"input":case"select":case"textarea":t=!!o.autoFocus;break t;case"img":t=!0;break t;default:t=!1}t&&ur(n)}}return _e(n),n.flags&=-16777217,null;case 6:if(t&&n.stateNode!=null)t.memoizedProps!==o&&ur(n);else{if(typeof o!="string"&&n.stateNode===null)throw Error(r(166));if(t=mt.current,yl(n)){if(t=n.stateNode,s=n.memoizedProps,o=null,f=Dn,f!==null)switch(f.tag){case 27:case 5:o=f.memoizedProps}t[Be]=n,t=!!(t.nodeValue===s||o!==null&&o.suppressHydrationWarning===!0||Zp(t.nodeValue,s)),t||Ss(n)}else t=Pu(t).createTextNode(o),t[Be]=n,n.stateNode=t}return _e(n),null;case 13:if(o=n.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(f=yl(n),o!==null&&o.dehydrated!==null){if(t===null){if(!f)throw Error(r(318));if(f=n.memoizedState,f=f!==null?f.dehydrated:null,!f)throw Error(r(317));f[Be]=n}else _l(),(n.flags&128)===0&&(n.memoizedState=null),n.flags|=4;_e(n),f=!1}else f=Um(),t!==null&&t.memoizedState!==null&&(t.memoizedState.hydrationErrors=f),f=!0;if(!f)return n.flags&256?(lr(n),n):(lr(n),null)}if(lr(n),(n.flags&128)!==0)return n.lanes=s,n;if(s=o!==null,t=t!==null&&t.memoizedState!==null,s){o=n.child,f=null,o.alternate!==null&&o.alternate.memoizedState!==null&&o.alternate.memoizedState.cachePool!==null&&(f=o.alternate.memoizedState.cachePool.pool);var d=null;o.memoizedState!==null&&o.memoizedState.cachePool!==null&&(d=o.memoizedState.cachePool.pool),d!==f&&(o.flags|=2048)}return s!==t&&s&&(n.child.flags|=8192),Su(n,n.updateQueue),_e(n),null;case 4:return Ot(),t===null&&bh(n.stateNode.containerInfo),_e(n),null;case 10:return sr(n.type),_e(n),null;case 19:if(tt(Fe),f=n.memoizedState,f===null)return _e(n),null;if(o=(n.flags&128)!==0,d=f.rendering,d===null)if(o)xl(f,!1);else{if(be!==0||t!==null&&(t.flags&128)!==0)for(t=n.child;t!==null;){if(d=vu(t),d!==null){for(n.flags|=128,xl(f,!1),t=d.updateQueue,n.updateQueue=t,Su(n,t),n.subtreeFlags=0,t=s,s=n.child;s!==null;)Vm(s,t),s=s.sibling;return it(Fe,Fe.current&1|2),n.child}t=t.sibling}f.tail!==null&&xt()>Cu&&(n.flags|=128,o=!0,xl(f,!1),n.lanes=4194304)}else{if(!o)if(t=vu(d),t!==null){if(n.flags|=128,o=!0,t=t.updateQueue,n.updateQueue=t,Su(n,t),xl(f,!0),f.tail===null&&f.tailMode==="hidden"&&!d.alternate&&!Zt)return _e(n),null}else 2*xt()-f.renderingStartTime>Cu&&s!==536870912&&(n.flags|=128,o=!0,xl(f,!1),n.lanes=4194304);f.isBackwards?(d.sibling=n.child,n.child=d):(t=f.last,t!==null?t.sibling=d:n.child=d,f.last=d)}return f.tail!==null?(n=f.tail,f.rendering=n,f.tail=n.sibling,f.renderingStartTime=xt(),n.sibling=null,t=Fe.current,it(Fe,o?t&1|2:t&1),n):(_e(n),null);case 22:case 23:return lr(n),Rf(),o=n.memoizedState!==null,t!==null?t.memoizedState!==null!==o&&(n.flags|=8192):o&&(n.flags|=8192),o?(s&536870912)!==0&&(n.flags&128)===0&&(_e(n),n.subtreeFlags&6&&(n.flags|=8192)):_e(n),s=n.updateQueue,s!==null&&Su(n,s.retryQueue),s=null,t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(s=t.memoizedState.cachePool.pool),o=null,n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(o=n.memoizedState.cachePool.pool),o!==s&&(n.flags|=2048),t!==null&&tt(Cs),null;case 24:return s=null,t!==null&&(s=t.memoizedState.cache),n.memoizedState.cache!==s&&(n.flags|=2048),sr(je),_e(n),null;case 25:return null;case 30:return null}throw Error(r(156,n.tag))}function jv(t,n){switch(ff(n),n.tag){case 1:return t=n.flags,t&65536?(n.flags=t&-65537|128,n):null;case 3:return sr(je),Ot(),t=n.flags,(t&65536)!==0&&(t&128)===0?(n.flags=t&-65537|128,n):null;case 26:case 27:case 5:return Yt(n),null;case 13:if(lr(n),t=n.memoizedState,t!==null&&t.dehydrated!==null){if(n.alternate===null)throw Error(r(340));_l()}return t=n.flags,t&65536?(n.flags=t&-65537|128,n):null;case 19:return tt(Fe),null;case 4:return Ot(),null;case 10:return sr(n.type),null;case 22:case 23:return lr(n),Rf(),t!==null&&tt(Cs),t=n.flags,t&65536?(n.flags=t&-65537|128,n):null;case 24:return sr(je),null;case 25:return null;default:return null}}function rp(t,n){switch(ff(n),n.tag){case 3:sr(je),Ot();break;case 26:case 27:case 5:Yt(n);break;case 4:Ot();break;case 13:lr(n);break;case 19:tt(Fe);break;case 10:sr(n.type);break;case 22:case 23:lr(n),Rf(),t!==null&&tt(Cs);break;case 24:sr(je)}}function Ul(t,n){try{var s=n.updateQueue,o=s!==null?s.lastEffect:null;if(o!==null){var f=o.next;s=f;do{if((s.tag&t)===t){o=void 0;var d=s.create,S=s.inst;o=d(),S.destroy=o}s=s.next}while(s!==f)}}catch(V){fe(n,n.return,V)}}function Nr(t,n,s){try{var o=n.updateQueue,f=o!==null?o.lastEffect:null;if(f!==null){var d=f.next;o=d;do{if((o.tag&t)===t){var S=o.inst,V=S.destroy;if(V!==void 0){S.destroy=void 0,f=n;var z=s,W=V;try{W()}catch(ut){fe(f,z,ut)}}}o=o.next}while(o!==d)}}catch(ut){fe(n,n.return,ut)}}function sp(t){var n=t.updateQueue;if(n!==null){var s=t.stateNode;try{Qm(n,s)}catch(o){fe(t,t.return,o)}}}function ap(t,n,s){s.props=Is(t.type,t.memoizedProps),s.state=t.memoizedState;try{s.componentWillUnmount()}catch(o){fe(t,n,o)}}function Ll(t,n){try{var s=t.ref;if(s!==null){switch(t.tag){case 26:case 27:case 5:var o=t.stateNode;break;case 30:o=t.stateNode;break;default:o=t.stateNode}typeof s=="function"?t.refCleanup=s(o):s.current=o}}catch(f){fe(t,n,f)}}function Vi(t,n){var s=t.ref,o=t.refCleanup;if(s!==null)if(typeof o=="function")try{o()}catch(f){fe(t,n,f)}finally{t.refCleanup=null,t=t.alternate,t!=null&&(t.refCleanup=null)}else if(typeof s=="function")try{s(null)}catch(f){fe(t,n,f)}else s.current=null}function lp(t){var n=t.type,s=t.memoizedProps,o=t.stateNode;try{t:switch(n){case"button":case"input":case"select":case"textarea":s.autoFocus&&o.focus();break t;case"img":s.src?o.src=s.src:s.srcSet&&(o.srcset=s.srcSet)}}catch(f){fe(t,t.return,f)}}function Wf(t,n,s){try{var o=t.stateNode;cE(o,t.type,s,n),o[Me]=n}catch(f){fe(t,t.return,f)}}function op(t){return t.tag===5||t.tag===3||t.tag===26||t.tag===27&&Br(t.type)||t.tag===4}function th(t){t:for(;;){for(;t.sibling===null;){if(t.return===null||op(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.tag===27&&Br(t.type)||t.flags&2||t.child===null||t.tag===4)continue t;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function eh(t,n,s){var o=t.tag;if(o===5||o===6)t=t.stateNode,n?(s.nodeType===9?s.body:s.nodeName==="HTML"?s.ownerDocument.body:s).insertBefore(t,n):(n=s.nodeType===9?s.body:s.nodeName==="HTML"?s.ownerDocument.body:s,n.appendChild(t),s=s._reactRootContainer,s!=null||n.onclick!==null||(n.onclick=Lu));else if(o!==4&&(o===27&&Br(t.type)&&(s=t.stateNode,n=null),t=t.child,t!==null))for(eh(t,n,s),t=t.sibling;t!==null;)eh(t,n,s),t=t.sibling}function Ru(t,n,s){var o=t.tag;if(o===5||o===6)t=t.stateNode,n?s.insertBefore(t,n):s.appendChild(t);else if(o!==4&&(o===27&&Br(t.type)&&(s=t.stateNode),t=t.child,t!==null))for(Ru(t,n,s),t=t.sibling;t!==null;)Ru(t,n,s),t=t.sibling}function up(t){var n=t.stateNode,s=t.memoizedProps;try{for(var o=t.type,f=n.attributes;f.length;)n.removeAttributeNode(f[0]);hn(n,o,s),n[Be]=t,n[Me]=s}catch(d){fe(t,t.return,d)}}var cr=!1,Ie=!1,nh=!1,cp=typeof WeakSet=="function"?WeakSet:Set,tn=null;function Fv(t,n){if(t=t.containerInfo,wh=ju,t=Tm(t),Wc(t)){if("selectionStart"in t)var s={start:t.selectionStart,end:t.selectionEnd};else t:{s=(s=t.ownerDocument)&&s.defaultView||window;var o=s.getSelection&&s.getSelection();if(o&&o.rangeCount!==0){s=o.anchorNode;var f=o.anchorOffset,d=o.focusNode;o=o.focusOffset;try{s.nodeType,d.nodeType}catch{s=null;break t}var S=0,V=-1,z=-1,W=0,ut=0,ft=t,rt=null;e:for(;;){for(var at;ft!==s||f!==0&&ft.nodeType!==3||(V=S+f),ft!==d||o!==0&&ft.nodeType!==3||(z=S+o),ft.nodeType===3&&(S+=ft.nodeValue.length),(at=ft.firstChild)!==null;)rt=ft,ft=at;for(;;){if(ft===t)break e;if(rt===s&&++W===f&&(V=S),rt===d&&++ut===o&&(z=S),(at=ft.nextSibling)!==null)break;ft=rt,rt=ft.parentNode}ft=at}s=V===-1||z===-1?null:{start:V,end:z}}else s=null}s=s||{start:0,end:0}}else s=null;for(Ch={focusedElem:t,selectionRange:s},ju=!1,tn=n;tn!==null;)if(n=tn,t=n.child,(n.subtreeFlags&1024)!==0&&t!==null)t.return=n,tn=t;else for(;tn!==null;){switch(n=tn,d=n.alternate,t=n.flags,n.tag){case 0:break;case 11:case 15:break;case 1:if((t&1024)!==0&&d!==null){t=void 0,s=n,f=d.memoizedProps,d=d.memoizedState,o=s.stateNode;try{var Rt=Is(s.type,f,s.elementType===s.type);t=o.getSnapshotBeforeUpdate(Rt,d),o.__reactInternalSnapshotBeforeUpdate=t}catch(At){fe(s,s.return,At)}}break;case 3:if((t&1024)!==0){if(t=n.stateNode.containerInfo,s=t.nodeType,s===9)Oh(t);else if(s===1)switch(t.nodeName){case"HEAD":case"HTML":case"BODY":Oh(t);break;default:t.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((t&1024)!==0)throw Error(r(163))}if(t=n.sibling,t!==null){t.return=n.return,tn=t;break}tn=n.return}}function fp(t,n,s){var o=s.flags;switch(s.tag){case 0:case 11:case 15:Mr(t,s),o&4&&Ul(5,s);break;case 1:if(Mr(t,s),o&4)if(t=s.stateNode,n===null)try{t.componentDidMount()}catch(S){fe(s,s.return,S)}else{var f=Is(s.type,n.memoizedProps);n=n.memoizedState;try{t.componentDidUpdate(f,n,t.__reactInternalSnapshotBeforeUpdate)}catch(S){fe(s,s.return,S)}}o&64&&sp(s),o&512&&Ll(s,s.return);break;case 3:if(Mr(t,s),o&64&&(t=s.updateQueue,t!==null)){if(n=null,s.child!==null)switch(s.child.tag){case 27:case 5:n=s.child.stateNode;break;case 1:n=s.child.stateNode}try{Qm(t,n)}catch(S){fe(s,s.return,S)}}break;case 27:n===null&&o&4&&up(s);case 26:case 5:Mr(t,s),n===null&&o&4&&lp(s),o&512&&Ll(s,s.return);break;case 12:Mr(t,s);break;case 13:Mr(t,s),o&4&&mp(t,s),o&64&&(t=s.memoizedState,t!==null&&(t=t.dehydrated,t!==null&&(s=Wv.bind(null,s),yE(t,s))));break;case 22:if(o=s.memoizedState!==null||cr,!o){n=n!==null&&n.memoizedState!==null||Ie,f=cr;var d=Ie;cr=o,(Ie=n)&&!d?xr(t,s,(s.subtreeFlags&8772)!==0):Mr(t,s),cr=f,Ie=d}break;case 30:break;default:Mr(t,s)}}function hp(t){var n=t.alternate;n!==null&&(t.alternate=null,hp(n)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(n=t.stateNode,n!==null&&Tr(n)),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}var pe=null,Mn=!1;function fr(t,n,s){for(s=s.child;s!==null;)dp(t,n,s),s=s.sibling}function dp(t,n,s){if(Bt&&typeof Bt.onCommitFiberUnmount=="function")try{Bt.onCommitFiberUnmount(Kt,s)}catch{}switch(s.tag){case 26:Ie||Vi(s,n),fr(t,n,s),s.memoizedState?s.memoizedState.count--:s.stateNode&&(s=s.stateNode,s.parentNode.removeChild(s));break;case 27:Ie||Vi(s,n);var o=pe,f=Mn;Br(s.type)&&(pe=s.stateNode,Mn=!1),fr(t,n,s),Gl(s.stateNode),pe=o,Mn=f;break;case 5:Ie||Vi(s,n);case 6:if(o=pe,f=Mn,pe=null,fr(t,n,s),pe=o,Mn=f,pe!==null)if(Mn)try{(pe.nodeType===9?pe.body:pe.nodeName==="HTML"?pe.ownerDocument.body:pe).removeChild(s.stateNode)}catch(d){fe(s,n,d)}else try{pe.removeChild(s.stateNode)}catch(d){fe(s,n,d)}break;case 18:pe!==null&&(Mn?(t=pe,ey(t.nodeType===9?t.body:t.nodeName==="HTML"?t.ownerDocument.body:t,s.stateNode),Wl(t)):ey(pe,s.stateNode));break;case 4:o=pe,f=Mn,pe=s.stateNode.containerInfo,Mn=!0,fr(t,n,s),pe=o,Mn=f;break;case 0:case 11:case 14:case 15:Ie||Nr(2,s,n),Ie||Nr(4,s,n),fr(t,n,s);break;case 1:Ie||(Vi(s,n),o=s.stateNode,typeof o.componentWillUnmount=="function"&&ap(s,n,o)),fr(t,n,s);break;case 21:fr(t,n,s);break;case 22:Ie=(o=Ie)||s.memoizedState!==null,fr(t,n,s),Ie=o;break;default:fr(t,n,s)}}function mp(t,n){if(n.memoizedState===null&&(t=n.alternate,t!==null&&(t=t.memoizedState,t!==null&&(t=t.dehydrated,t!==null))))try{Wl(t)}catch(s){fe(n,n.return,s)}}function Gv(t){switch(t.tag){case 13:case 19:var n=t.stateNode;return n===null&&(n=t.stateNode=new cp),n;case 22:return t=t.stateNode,n=t._retryCache,n===null&&(n=t._retryCache=new cp),n;default:throw Error(r(435,t.tag))}}function ih(t,n){var s=Gv(t);n.forEach(function(o){var f=tE.bind(null,t,o);s.has(o)||(s.add(o),o.then(f,f))})}function Bn(t,n){var s=n.deletions;if(s!==null)for(var o=0;o<s.length;o++){var f=s[o],d=t,S=n,V=S;t:for(;V!==null;){switch(V.tag){case 27:if(Br(V.type)){pe=V.stateNode,Mn=!1;break t}break;case 5:pe=V.stateNode,Mn=!1;break t;case 3:case 4:pe=V.stateNode.containerInfo,Mn=!0;break t}V=V.return}if(pe===null)throw Error(r(160));dp(d,S,f),pe=null,Mn=!1,d=f.alternate,d!==null&&(d.return=null),f.return=null}if(n.subtreeFlags&13878)for(n=n.child;n!==null;)gp(n,t),n=n.sibling}var di=null;function gp(t,n){var s=t.alternate,o=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:Bn(n,t),qn(t),o&4&&(Nr(3,t,t.return),Ul(3,t),Nr(5,t,t.return));break;case 1:Bn(n,t),qn(t),o&512&&(Ie||s===null||Vi(s,s.return)),o&64&&cr&&(t=t.updateQueue,t!==null&&(o=t.callbacks,o!==null&&(s=t.shared.hiddenCallbacks,t.shared.hiddenCallbacks=s===null?o:s.concat(o))));break;case 26:var f=di;if(Bn(n,t),qn(t),o&512&&(Ie||s===null||Vi(s,s.return)),o&4){var d=s!==null?s.memoizedState:null;if(o=t.memoizedState,s===null)if(o===null)if(t.stateNode===null){t:{o=t.type,s=t.memoizedProps,f=f.ownerDocument||f;e:switch(o){case"title":d=f.getElementsByTagName("title")[0],(!d||d[rs]||d[Be]||d.namespaceURI==="http://www.w3.org/2000/svg"||d.hasAttribute("itemprop"))&&(d=f.createElement(o),f.head.insertBefore(d,f.querySelector("head > title"))),hn(d,o,s),d[Be]=t,Ce(d),o=d;break t;case"link":var S=uy("link","href",f).get(o+(s.href||""));if(S){for(var V=0;V<S.length;V++)if(d=S[V],d.getAttribute("href")===(s.href==null||s.href===""?null:s.href)&&d.getAttribute("rel")===(s.rel==null?null:s.rel)&&d.getAttribute("title")===(s.title==null?null:s.title)&&d.getAttribute("crossorigin")===(s.crossOrigin==null?null:s.crossOrigin)){S.splice(V,1);break e}}d=f.createElement(o),hn(d,o,s),f.head.appendChild(d);break;case"meta":if(S=uy("meta","content",f).get(o+(s.content||""))){for(V=0;V<S.length;V++)if(d=S[V],d.getAttribute("content")===(s.content==null?null:""+s.content)&&d.getAttribute("name")===(s.name==null?null:s.name)&&d.getAttribute("property")===(s.property==null?null:s.property)&&d.getAttribute("http-equiv")===(s.httpEquiv==null?null:s.httpEquiv)&&d.getAttribute("charset")===(s.charSet==null?null:s.charSet)){S.splice(V,1);break e}}d=f.createElement(o),hn(d,o,s),f.head.appendChild(d);break;default:throw Error(r(468,o))}d[Be]=t,Ce(d),o=d}t.stateNode=o}else cy(f,t.type,t.stateNode);else t.stateNode=oy(f,o,t.memoizedProps);else d!==o?(d===null?s.stateNode!==null&&(s=s.stateNode,s.parentNode.removeChild(s)):d.count--,o===null?cy(f,t.type,t.stateNode):oy(f,o,t.memoizedProps)):o===null&&t.stateNode!==null&&Wf(t,t.memoizedProps,s.memoizedProps)}break;case 27:Bn(n,t),qn(t),o&512&&(Ie||s===null||Vi(s,s.return)),s!==null&&o&4&&Wf(t,t.memoizedProps,s.memoizedProps);break;case 5:if(Bn(n,t),qn(t),o&512&&(Ie||s===null||Vi(s,s.return)),t.flags&32){f=t.stateNode;try{Yn(f,"")}catch(at){fe(t,t.return,at)}}o&4&&t.stateNode!=null&&(f=t.memoizedProps,Wf(t,f,s!==null?s.memoizedProps:f)),o&1024&&(nh=!0);break;case 6:if(Bn(n,t),qn(t),o&4){if(t.stateNode===null)throw Error(r(162));o=t.memoizedProps,s=t.stateNode;try{s.nodeValue=o}catch(at){fe(t,t.return,at)}}break;case 3:if(Bu=null,f=di,di=ku(n.containerInfo),Bn(n,t),di=f,qn(t),o&4&&s!==null&&s.memoizedState.isDehydrated)try{Wl(n.containerInfo)}catch(at){fe(t,t.return,at)}nh&&(nh=!1,pp(t));break;case 4:o=di,di=ku(t.stateNode.containerInfo),Bn(n,t),qn(t),di=o;break;case 12:Bn(n,t),qn(t);break;case 13:Bn(n,t),qn(t),t.child.flags&8192&&t.memoizedState!==null!=(s!==null&&s.memoizedState!==null)&&(uh=xt()),o&4&&(o=t.updateQueue,o!==null&&(t.updateQueue=null,ih(t,o)));break;case 22:f=t.memoizedState!==null;var z=s!==null&&s.memoizedState!==null,W=cr,ut=Ie;if(cr=W||f,Ie=ut||z,Bn(n,t),Ie=ut,cr=W,qn(t),o&8192)t:for(n=t.stateNode,n._visibility=f?n._visibility&-2:n._visibility|1,f&&(s===null||z||cr||Ie||Os(t)),s=null,n=t;;){if(n.tag===5||n.tag===26){if(s===null){z=s=n;try{if(d=z.stateNode,f)S=d.style,typeof S.setProperty=="function"?S.setProperty("display","none","important"):S.display="none";else{V=z.stateNode;var ft=z.memoizedProps.style,rt=ft!=null&&ft.hasOwnProperty("display")?ft.display:null;V.style.display=rt==null||typeof rt=="boolean"?"":(""+rt).trim()}}catch(at){fe(z,z.return,at)}}}else if(n.tag===6){if(s===null){z=n;try{z.stateNode.nodeValue=f?"":z.memoizedProps}catch(at){fe(z,z.return,at)}}}else if((n.tag!==22&&n.tag!==23||n.memoizedState===null||n===t)&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===t)break t;for(;n.sibling===null;){if(n.return===null||n.return===t)break t;s===n&&(s=null),n=n.return}s===n&&(s=null),n.sibling.return=n.return,n=n.sibling}o&4&&(o=t.updateQueue,o!==null&&(s=o.retryQueue,s!==null&&(o.retryQueue=null,ih(t,s))));break;case 19:Bn(n,t),qn(t),o&4&&(o=t.updateQueue,o!==null&&(t.updateQueue=null,ih(t,o)));break;case 30:break;case 21:break;default:Bn(n,t),qn(t)}}function qn(t){var n=t.flags;if(n&2){try{for(var s,o=t.return;o!==null;){if(op(o)){s=o;break}o=o.return}if(s==null)throw Error(r(160));switch(s.tag){case 27:var f=s.stateNode,d=th(t);Ru(t,d,f);break;case 5:var S=s.stateNode;s.flags&32&&(Yn(S,""),s.flags&=-33);var V=th(t);Ru(t,V,S);break;case 3:case 4:var z=s.stateNode.containerInfo,W=th(t);eh(t,W,z);break;default:throw Error(r(161))}}catch(ut){fe(t,t.return,ut)}t.flags&=-3}n&4096&&(t.flags&=-4097)}function pp(t){if(t.subtreeFlags&1024)for(t=t.child;t!==null;){var n=t;pp(n),n.tag===5&&n.flags&1024&&n.stateNode.reset(),t=t.sibling}}function Mr(t,n){if(n.subtreeFlags&8772)for(n=n.child;n!==null;)fp(t,n.alternate,n),n=n.sibling}function Os(t){for(t=t.child;t!==null;){var n=t;switch(n.tag){case 0:case 11:case 14:case 15:Nr(4,n,n.return),Os(n);break;case 1:Vi(n,n.return);var s=n.stateNode;typeof s.componentWillUnmount=="function"&&ap(n,n.return,s),Os(n);break;case 27:Gl(n.stateNode);case 26:case 5:Vi(n,n.return),Os(n);break;case 22:n.memoizedState===null&&Os(n);break;case 30:Os(n);break;default:Os(n)}t=t.sibling}}function xr(t,n,s){for(s=s&&(n.subtreeFlags&8772)!==0,n=n.child;n!==null;){var o=n.alternate,f=t,d=n,S=d.flags;switch(d.tag){case 0:case 11:case 15:xr(f,d,s),Ul(4,d);break;case 1:if(xr(f,d,s),o=d,f=o.stateNode,typeof f.componentDidMount=="function")try{f.componentDidMount()}catch(W){fe(o,o.return,W)}if(o=d,f=o.updateQueue,f!==null){var V=o.stateNode;try{var z=f.shared.hiddenCallbacks;if(z!==null)for(f.shared.hiddenCallbacks=null,f=0;f<z.length;f++)Gm(z[f],V)}catch(W){fe(o,o.return,W)}}s&&S&64&&sp(d),Ll(d,d.return);break;case 27:up(d);case 26:case 5:xr(f,d,s),s&&o===null&&S&4&&lp(d),Ll(d,d.return);break;case 12:xr(f,d,s);break;case 13:xr(f,d,s),s&&S&4&&mp(f,d);break;case 22:d.memoizedState===null&&xr(f,d,s),Ll(d,d.return);break;case 30:break;default:xr(f,d,s)}n=n.sibling}}function rh(t,n){var s=null;t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(s=t.memoizedState.cachePool.pool),t=null,n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(t=n.memoizedState.cachePool.pool),t!==s&&(t!=null&&t.refCount++,s!=null&&Tl(s))}function sh(t,n){t=null,n.alternate!==null&&(t=n.alternate.memoizedState.cache),n=n.memoizedState.cache,n!==t&&(n.refCount++,t!=null&&Tl(t))}function Ni(t,n,s,o){if(n.subtreeFlags&10256)for(n=n.child;n!==null;)yp(t,n,s,o),n=n.sibling}function yp(t,n,s,o){var f=n.flags;switch(n.tag){case 0:case 11:case 15:Ni(t,n,s,o),f&2048&&Ul(9,n);break;case 1:Ni(t,n,s,o);break;case 3:Ni(t,n,s,o),f&2048&&(t=null,n.alternate!==null&&(t=n.alternate.memoizedState.cache),n=n.memoizedState.cache,n!==t&&(n.refCount++,t!=null&&Tl(t)));break;case 12:if(f&2048){Ni(t,n,s,o),t=n.stateNode;try{var d=n.memoizedProps,S=d.id,V=d.onPostCommit;typeof V=="function"&&V(S,n.alternate===null?"mount":"update",t.passiveEffectDuration,-0)}catch(z){fe(n,n.return,z)}}else Ni(t,n,s,o);break;case 13:Ni(t,n,s,o);break;case 23:break;case 22:d=n.stateNode,S=n.alternate,n.memoizedState!==null?d._visibility&2?Ni(t,n,s,o):Pl(t,n):d._visibility&2?Ni(t,n,s,o):(d._visibility|=2,Aa(t,n,s,o,(n.subtreeFlags&10256)!==0)),f&2048&&rh(S,n);break;case 24:Ni(t,n,s,o),f&2048&&sh(n.alternate,n);break;default:Ni(t,n,s,o)}}function Aa(t,n,s,o,f){for(f=f&&(n.subtreeFlags&10256)!==0,n=n.child;n!==null;){var d=t,S=n,V=s,z=o,W=S.flags;switch(S.tag){case 0:case 11:case 15:Aa(d,S,V,z,f),Ul(8,S);break;case 23:break;case 22:var ut=S.stateNode;S.memoizedState!==null?ut._visibility&2?Aa(d,S,V,z,f):Pl(d,S):(ut._visibility|=2,Aa(d,S,V,z,f)),f&&W&2048&&rh(S.alternate,S);break;case 24:Aa(d,S,V,z,f),f&&W&2048&&sh(S.alternate,S);break;default:Aa(d,S,V,z,f)}n=n.sibling}}function Pl(t,n){if(n.subtreeFlags&10256)for(n=n.child;n!==null;){var s=t,o=n,f=o.flags;switch(o.tag){case 22:Pl(s,o),f&2048&&rh(o.alternate,o);break;case 24:Pl(s,o),f&2048&&sh(o.alternate,o);break;default:Pl(s,o)}n=n.sibling}}var kl=8192;function ba(t){if(t.subtreeFlags&kl)for(t=t.child;t!==null;)_p(t),t=t.sibling}function _p(t){switch(t.tag){case 26:ba(t),t.flags&kl&&t.memoizedState!==null&&OE(di,t.memoizedState,t.memoizedProps);break;case 5:ba(t);break;case 3:case 4:var n=di;di=ku(t.stateNode.containerInfo),ba(t),di=n;break;case 22:t.memoizedState===null&&(n=t.alternate,n!==null&&n.memoizedState!==null?(n=kl,kl=16777216,ba(t),kl=n):ba(t));break;default:ba(t)}}function vp(t){var n=t.alternate;if(n!==null&&(t=n.child,t!==null)){n.child=null;do n=t.sibling,t.sibling=null,t=n;while(t!==null)}}function zl(t){var n=t.deletions;if((t.flags&16)!==0){if(n!==null)for(var s=0;s<n.length;s++){var o=n[s];tn=o,Tp(o,t)}vp(t)}if(t.subtreeFlags&10256)for(t=t.child;t!==null;)Ep(t),t=t.sibling}function Ep(t){switch(t.tag){case 0:case 11:case 15:zl(t),t.flags&2048&&Nr(9,t,t.return);break;case 3:zl(t);break;case 12:zl(t);break;case 22:var n=t.stateNode;t.memoizedState!==null&&n._visibility&2&&(t.return===null||t.return.tag!==13)?(n._visibility&=-3,wu(t)):zl(t);break;default:zl(t)}}function wu(t){var n=t.deletions;if((t.flags&16)!==0){if(n!==null)for(var s=0;s<n.length;s++){var o=n[s];tn=o,Tp(o,t)}vp(t)}for(t=t.child;t!==null;){switch(n=t,n.tag){case 0:case 11:case 15:Nr(8,n,n.return),wu(n);break;case 22:s=n.stateNode,s._visibility&2&&(s._visibility&=-3,wu(n));break;default:wu(n)}t=t.sibling}}function Tp(t,n){for(;tn!==null;){var s=tn;switch(s.tag){case 0:case 11:case 15:Nr(8,s,n);break;case 23:case 22:if(s.memoizedState!==null&&s.memoizedState.cachePool!==null){var o=s.memoizedState.cachePool.pool;o!=null&&o.refCount++}break;case 24:Tl(s.memoizedState.cache)}if(o=s.child,o!==null)o.return=s,tn=o;else t:for(s=t;tn!==null;){o=tn;var f=o.sibling,d=o.return;if(hp(o),o===s){tn=null;break t}if(f!==null){f.return=d,tn=f;break t}tn=d}}}var Qv={getCacheForType:function(t){var n=yn(je),s=n.data.get(t);return s===void 0&&(s=t(),n.data.set(t,s)),s}},Yv=typeof WeakMap=="function"?WeakMap:Map,ee=0,he=null,Ut=null,jt=0,ne=0,Hn=null,Ur=!1,Sa=!1,ah=!1,hr=0,be=0,Lr=0,Vs=0,lh=0,ni=0,Ra=0,Bl=null,xn=null,oh=!1,uh=0,Cu=1/0,Du=null,Pr=null,fn=0,kr=null,wa=null,Ca=0,ch=0,fh=null,Ap=null,ql=0,hh=null;function jn(){if((ee&2)!==0&&jt!==0)return jt&-jt;if(C.T!==null){var t=ma;return t!==0?t:vh()}return pn()}function bp(){ni===0&&(ni=(jt&536870912)===0||Zt?vr():536870912);var t=ei.current;return t!==null&&(t.flags|=32),ni}function Fn(t,n,s){(t===he&&(ne===2||ne===9)||t.cancelPendingCommit!==null)&&(Da(t,0),zr(t,jt,ni,!1)),Ze(t,s),((ee&2)===0||t!==he)&&(t===he&&((ee&2)===0&&(Vs|=s),be===4&&zr(t,jt,ni,!1)),Mi(t))}function Sp(t,n,s){if((ee&6)!==0)throw Error(r(327));var o=!s&&(n&124)===0&&(n&t.expiredLanes)===0||ji(t,n),f=o?Zv(t,n):gh(t,n,!0),d=o;do{if(f===0){Sa&&!o&&zr(t,n,0,!1);break}else{if(s=t.current.alternate,d&&!Xv(s)){f=gh(t,n,!1),d=!1;continue}if(f===2){if(d=n,t.errorRecoveryDisabledLanes&d)var S=0;else S=t.pendingLanes&-536870913,S=S!==0?S:S&536870912?536870912:0;if(S!==0){n=S;t:{var V=t;f=Bl;var z=V.current.memoizedState.isDehydrated;if(z&&(Da(V,S).flags|=256),S=gh(V,S,!1),S!==2){if(ah&&!z){V.errorRecoveryDisabledLanes|=d,Vs|=d,f=4;break t}d=xn,xn=f,d!==null&&(xn===null?xn=d:xn.push.apply(xn,d))}f=S}if(d=!1,f!==2)continue}}if(f===1){Da(t,0),zr(t,n,0,!0);break}t:{switch(o=t,d=f,d){case 0:case 1:throw Error(r(345));case 4:if((n&4194048)!==n)break;case 6:zr(o,n,ni,!Ur);break t;case 2:xn=null;break;case 3:case 5:break;default:throw Error(r(329))}if((n&62914560)===n&&(f=uh+300-xt(),10<f)){if(zr(o,n,ni,!Ur),_i(o,0,!0)!==0)break t;o.timeoutHandle=Wp(Rp.bind(null,o,s,xn,Du,oh,n,ni,Vs,Ra,Ur,d,2,-0,0),f);break t}Rp(o,s,xn,Du,oh,n,ni,Vs,Ra,Ur,d,0,-0,0)}}break}while(!0);Mi(t)}function Rp(t,n,s,o,f,d,S,V,z,W,ut,ft,rt,at){if(t.timeoutHandle=-1,ft=n.subtreeFlags,(ft&8192||(ft&16785408)===16785408)&&(Xl={stylesheets:null,count:0,unsuspend:IE},_p(n),ft=VE(),ft!==null)){t.cancelPendingCommit=ft(Np.bind(null,t,n,d,s,o,f,S,V,z,ut,1,rt,at)),zr(t,d,S,!W);return}Np(t,n,d,s,o,f,S,V,z)}function Xv(t){for(var n=t;;){var s=n.tag;if((s===0||s===11||s===15)&&n.flags&16384&&(s=n.updateQueue,s!==null&&(s=s.stores,s!==null)))for(var o=0;o<s.length;o++){var f=s[o],d=f.getSnapshot;f=f.value;try{if(!kn(d(),f))return!1}catch{return!1}}if(s=n.child,n.subtreeFlags&16384&&s!==null)s.return=n,n=s;else{if(n===t)break;for(;n.sibling===null;){if(n.return===null||n.return===t)return!0;n=n.return}n.sibling.return=n.return,n=n.sibling}}return!0}function zr(t,n,s,o){n&=~lh,n&=~Vs,t.suspendedLanes|=n,t.pingedLanes&=~n,o&&(t.warmLanes|=n),o=t.expirationTimes;for(var f=n;0<f;){var d=31-me(f),S=1<<d;o[d]=-1,f&=~S}s!==0&&ln(t,s,n)}function Iu(){return(ee&6)===0?(Hl(0),!1):!0}function dh(){if(Ut!==null){if(ne===0)var t=Ut.return;else t=Ut,rr=Rs=null,Of(t),Ea=null,Nl=0,t=Ut;for(;t!==null;)rp(t.alternate,t),t=t.return;Ut=null}}function Da(t,n){var s=t.timeoutHandle;s!==-1&&(t.timeoutHandle=-1,hE(s)),s=t.cancelPendingCommit,s!==null&&(t.cancelPendingCommit=null,s()),dh(),he=t,Ut=s=er(t.current,null),jt=n,ne=0,Hn=null,Ur=!1,Sa=ji(t,n),ah=!1,Ra=ni=lh=Vs=Lr=be=0,xn=Bl=null,oh=!1,(n&8)!==0&&(n|=n&32);var o=t.entangledLanes;if(o!==0)for(t=t.entanglements,o&=n;0<o;){var f=31-me(o),d=1<<f;n|=t[f],o&=~d}return hr=n,$o(),s}function wp(t,n){Nt=null,C.H=pu,n===bl||n===au?(n=jm(),ne=3):n===Bm?(n=jm(),ne=4):ne=n===Fg?8:n!==null&&typeof n=="object"&&typeof n.then=="function"?6:1,Hn=n,Ut===null&&(be=1,Tu(t,$n(n,t.current)))}function Cp(){var t=C.H;return C.H=pu,t===null?pu:t}function Dp(){var t=C.A;return C.A=Qv,t}function mh(){be=4,Ur||(jt&4194048)!==jt&&ei.current!==null||(Sa=!0),(Lr&134217727)===0&&(Vs&134217727)===0||he===null||zr(he,jt,ni,!1)}function gh(t,n,s){var o=ee;ee|=2;var f=Cp(),d=Dp();(he!==t||jt!==n)&&(Du=null,Da(t,n)),n=!1;var S=be;t:do try{if(ne!==0&&Ut!==null){var V=Ut,z=Hn;switch(ne){case 8:dh(),S=6;break t;case 3:case 2:case 9:case 6:ei.current===null&&(n=!0);var W=ne;if(ne=0,Hn=null,Ia(t,V,z,W),s&&Sa){S=0;break t}break;default:W=ne,ne=0,Hn=null,Ia(t,V,z,W)}}Kv(),S=be;break}catch(ut){wp(t,ut)}while(!0);return n&&t.shellSuspendCounter++,rr=Rs=null,ee=o,C.H=f,C.A=d,Ut===null&&(he=null,jt=0,$o()),S}function Kv(){for(;Ut!==null;)Ip(Ut)}function Zv(t,n){var s=ee;ee|=2;var o=Cp(),f=Dp();he!==t||jt!==n?(Du=null,Cu=xt()+500,Da(t,n)):Sa=ji(t,n);t:do try{if(ne!==0&&Ut!==null){n=Ut;var d=Hn;e:switch(ne){case 1:ne=0,Hn=null,Ia(t,n,d,1);break;case 2:case 9:if(qm(d)){ne=0,Hn=null,Op(n);break}n=function(){ne!==2&&ne!==9||he!==t||(ne=7),Mi(t)},d.then(n,n);break t;case 3:ne=7;break t;case 4:ne=5;break t;case 7:qm(d)?(ne=0,Hn=null,Op(n)):(ne=0,Hn=null,Ia(t,n,d,7));break;case 5:var S=null;switch(Ut.tag){case 26:S=Ut.memoizedState;case 5:case 27:var V=Ut;if(!S||fy(S)){ne=0,Hn=null;var z=V.sibling;if(z!==null)Ut=z;else{var W=V.return;W!==null?(Ut=W,Ou(W)):Ut=null}break e}}ne=0,Hn=null,Ia(t,n,d,5);break;case 6:ne=0,Hn=null,Ia(t,n,d,6);break;case 8:dh(),be=6;break t;default:throw Error(r(462))}}$v();break}catch(ut){wp(t,ut)}while(!0);return rr=Rs=null,C.H=o,C.A=f,ee=s,Ut!==null?0:(he=null,jt=0,$o(),be)}function $v(){for(;Ut!==null&&!ie();)Ip(Ut)}function Ip(t){var n=np(t.alternate,t,hr);t.memoizedProps=t.pendingProps,n===null?Ou(t):Ut=n}function Op(t){var n=t,s=n.alternate;switch(n.tag){case 15:case 0:n=Zg(s,n,n.pendingProps,n.type,void 0,jt);break;case 11:n=Zg(s,n,n.pendingProps,n.type.render,n.ref,jt);break;case 5:Of(n);default:rp(s,n),n=Ut=Vm(n,hr),n=np(s,n,hr)}t.memoizedProps=t.pendingProps,n===null?Ou(t):Ut=n}function Ia(t,n,s,o){rr=Rs=null,Of(n),Ea=null,Nl=0;var f=n.return;try{if(Bv(t,f,n,s,jt)){be=1,Tu(t,$n(s,t.current)),Ut=null;return}}catch(d){if(f!==null)throw Ut=f,d;be=1,Tu(t,$n(s,t.current)),Ut=null;return}n.flags&32768?(Zt||o===1?t=!0:Sa||(jt&536870912)!==0?t=!1:(Ur=t=!0,(o===2||o===9||o===3||o===6)&&(o=ei.current,o!==null&&o.tag===13&&(o.flags|=16384))),Vp(n,t)):Ou(n)}function Ou(t){var n=t;do{if((n.flags&32768)!==0){Vp(n,Ur);return}t=n.return;var s=Hv(n.alternate,n,hr);if(s!==null){Ut=s;return}if(n=n.sibling,n!==null){Ut=n;return}Ut=n=t}while(n!==null);be===0&&(be=5)}function Vp(t,n){do{var s=jv(t.alternate,t);if(s!==null){s.flags&=32767,Ut=s;return}if(s=t.return,s!==null&&(s.flags|=32768,s.subtreeFlags=0,s.deletions=null),!n&&(t=t.sibling,t!==null)){Ut=t;return}Ut=t=s}while(t!==null);be=6,Ut=null}function Np(t,n,s,o,f,d,S,V,z){t.cancelPendingCommit=null;do Vu();while(fn!==0);if((ee&6)!==0)throw Error(r(327));if(n!==null){if(n===t.current)throw Error(r(177));if(d=n.lanes|n.childLanes,d|=sf,On(t,s,d,S,V,z),t===he&&(Ut=he=null,jt=0),wa=n,kr=t,Ca=s,ch=d,fh=f,Ap=o,(n.subtreeFlags&10256)!==0||(n.flags&10256)!==0?(t.callbackNode=null,t.callbackPriority=0,eE(re,function(){return Pp(),null})):(t.callbackNode=null,t.callbackPriority=0),o=(n.flags&13878)!==0,(n.subtreeFlags&13878)!==0||o){o=C.T,C.T=null,f=I.p,I.p=2,S=ee,ee|=4;try{Fv(t,n,s)}finally{ee=S,I.p=f,C.T=o}}fn=1,Mp(),xp(),Up()}}function Mp(){if(fn===1){fn=0;var t=kr,n=wa,s=(n.flags&13878)!==0;if((n.subtreeFlags&13878)!==0||s){s=C.T,C.T=null;var o=I.p;I.p=2;var f=ee;ee|=4;try{gp(n,t);var d=Ch,S=Tm(t.containerInfo),V=d.focusedElem,z=d.selectionRange;if(S!==V&&V&&V.ownerDocument&&Em(V.ownerDocument.documentElement,V)){if(z!==null&&Wc(V)){var W=z.start,ut=z.end;if(ut===void 0&&(ut=W),"selectionStart"in V)V.selectionStart=W,V.selectionEnd=Math.min(ut,V.value.length);else{var ft=V.ownerDocument||document,rt=ft&&ft.defaultView||window;if(rt.getSelection){var at=rt.getSelection(),Rt=V.textContent.length,At=Math.min(z.start,Rt),oe=z.end===void 0?At:Math.min(z.end,Rt);!at.extend&&At>oe&&(S=oe,oe=At,At=S);var Q=vm(V,At),H=vm(V,oe);if(Q&&H&&(at.rangeCount!==1||at.anchorNode!==Q.node||at.anchorOffset!==Q.offset||at.focusNode!==H.node||at.focusOffset!==H.offset)){var Z=ft.createRange();Z.setStart(Q.node,Q.offset),at.removeAllRanges(),At>oe?(at.addRange(Z),at.extend(H.node,H.offset)):(Z.setEnd(H.node,H.offset),at.addRange(Z))}}}}for(ft=[],at=V;at=at.parentNode;)at.nodeType===1&&ft.push({element:at,left:at.scrollLeft,top:at.scrollTop});for(typeof V.focus=="function"&&V.focus(),V=0;V<ft.length;V++){var ct=ft[V];ct.element.scrollLeft=ct.left,ct.element.scrollTop=ct.top}}ju=!!wh,Ch=wh=null}finally{ee=f,I.p=o,C.T=s}}t.current=n,fn=2}}function xp(){if(fn===2){fn=0;var t=kr,n=wa,s=(n.flags&8772)!==0;if((n.subtreeFlags&8772)!==0||s){s=C.T,C.T=null;var o=I.p;I.p=2;var f=ee;ee|=4;try{fp(t,n.alternate,n)}finally{ee=f,I.p=o,C.T=s}}fn=3}}function Up(){if(fn===4||fn===3){fn=0,we();var t=kr,n=wa,s=Ca,o=Ap;(n.subtreeFlags&10256)!==0||(n.flags&10256)!==0?fn=5:(fn=0,wa=kr=null,Lp(t,t.pendingLanes));var f=t.pendingLanes;if(f===0&&(Pr=null),Vn(s),n=n.stateNode,Bt&&typeof Bt.onCommitFiberRoot=="function")try{Bt.onCommitFiberRoot(Kt,n,void 0,(n.current.flags&128)===128)}catch{}if(o!==null){n=C.T,f=I.p,I.p=2,C.T=null;try{for(var d=t.onRecoverableError,S=0;S<o.length;S++){var V=o[S];d(V.value,{componentStack:V.stack})}}finally{C.T=n,I.p=f}}(Ca&3)!==0&&Vu(),Mi(t),f=t.pendingLanes,(s&4194090)!==0&&(f&42)!==0?t===hh?ql++:(ql=0,hh=t):ql=0,Hl(0)}}function Lp(t,n){(t.pooledCacheLanes&=n)===0&&(n=t.pooledCache,n!=null&&(t.pooledCache=null,Tl(n)))}function Vu(t){return Mp(),xp(),Up(),Pp()}function Pp(){if(fn!==5)return!1;var t=kr,n=ch;ch=0;var s=Vn(Ca),o=C.T,f=I.p;try{I.p=32>s?32:s,C.T=null,s=fh,fh=null;var d=kr,S=Ca;if(fn=0,wa=kr=null,Ca=0,(ee&6)!==0)throw Error(r(331));var V=ee;if(ee|=4,Ep(d.current),yp(d,d.current,S,s),ee=V,Hl(0,!1),Bt&&typeof Bt.onPostCommitFiberRoot=="function")try{Bt.onPostCommitFiberRoot(Kt,d)}catch{}return!0}finally{I.p=f,C.T=o,Lp(t,n)}}function kp(t,n,s){n=$n(s,n),n=Ff(t.stateNode,n,2),t=Dr(t,n,2),t!==null&&(Ze(t,2),Mi(t))}function fe(t,n,s){if(t.tag===3)kp(t,t,s);else for(;n!==null;){if(n.tag===3){kp(n,t,s);break}else if(n.tag===1){var o=n.stateNode;if(typeof n.type.getDerivedStateFromError=="function"||typeof o.componentDidCatch=="function"&&(Pr===null||!Pr.has(o))){t=$n(s,t),s=Hg(2),o=Dr(n,s,2),o!==null&&(jg(s,o,n,t),Ze(o,2),Mi(o));break}}n=n.return}}function ph(t,n,s){var o=t.pingCache;if(o===null){o=t.pingCache=new Yv;var f=new Set;o.set(n,f)}else f=o.get(n),f===void 0&&(f=new Set,o.set(n,f));f.has(s)||(ah=!0,f.add(s),t=Jv.bind(null,t,n,s),n.then(t,t))}function Jv(t,n,s){var o=t.pingCache;o!==null&&o.delete(n),t.pingedLanes|=t.suspendedLanes&s,t.warmLanes&=~s,he===t&&(jt&s)===s&&(be===4||be===3&&(jt&62914560)===jt&&300>xt()-uh?(ee&2)===0&&Da(t,0):lh|=s,Ra===jt&&(Ra=0)),Mi(t)}function zp(t,n){n===0&&(n=ai()),t=ca(t,n),t!==null&&(Ze(t,n),Mi(t))}function Wv(t){var n=t.memoizedState,s=0;n!==null&&(s=n.retryLane),zp(t,s)}function tE(t,n){var s=0;switch(t.tag){case 13:var o=t.stateNode,f=t.memoizedState;f!==null&&(s=f.retryLane);break;case 19:o=t.stateNode;break;case 22:o=t.stateNode._retryCache;break;default:throw Error(r(314))}o!==null&&o.delete(n),zp(t,s)}function eE(t,n){return bn(t,n)}var Nu=null,Oa=null,yh=!1,Mu=!1,_h=!1,Ns=0;function Mi(t){t!==Oa&&t.next===null&&(Oa===null?Nu=Oa=t:Oa=Oa.next=t),Mu=!0,yh||(yh=!0,iE())}function Hl(t,n){if(!_h&&Mu){_h=!0;do for(var s=!1,o=Nu;o!==null;){if(t!==0){var f=o.pendingLanes;if(f===0)var d=0;else{var S=o.suspendedLanes,V=o.pingedLanes;d=(1<<31-me(42|t)+1)-1,d&=f&~(S&~V),d=d&201326741?d&201326741|1:d?d|2:0}d!==0&&(s=!0,jp(o,d))}else d=jt,d=_i(o,o===he?d:0,o.cancelPendingCommit!==null||o.timeoutHandle!==-1),(d&3)===0||ji(o,d)||(s=!0,jp(o,d));o=o.next}while(s);_h=!1}}function nE(){Bp()}function Bp(){Mu=yh=!1;var t=0;Ns!==0&&(fE()&&(t=Ns),Ns=0);for(var n=xt(),s=null,o=Nu;o!==null;){var f=o.next,d=qp(o,n);d===0?(o.next=null,s===null?Nu=f:s.next=f,f===null&&(Oa=s)):(s=o,(t!==0||(d&3)!==0)&&(Mu=!0)),o=f}Hl(t)}function qp(t,n){for(var s=t.suspendedLanes,o=t.pingedLanes,f=t.expirationTimes,d=t.pendingLanes&-62914561;0<d;){var S=31-me(d),V=1<<S,z=f[S];z===-1?((V&s)===0||(V&o)!==0)&&(f[S]=Fi(V,n)):z<=n&&(t.expiredLanes|=V),d&=~V}if(n=he,s=jt,s=_i(t,t===n?s:0,t.cancelPendingCommit!==null||t.timeoutHandle!==-1),o=t.callbackNode,s===0||t===n&&(ne===2||ne===9)||t.cancelPendingCommit!==null)return o!==null&&o!==null&&Ye(o),t.callbackNode=null,t.callbackPriority=0;if((s&3)===0||ji(t,s)){if(n=s&-s,n===t.callbackPriority)return n;switch(o!==null&&Ye(o),Vn(s)){case 2:case 8:s=Te;break;case 32:s=re;break;case 268435456:s=ce;break;default:s=re}return o=Hp.bind(null,t),s=bn(s,o),t.callbackPriority=n,t.callbackNode=s,n}return o!==null&&o!==null&&Ye(o),t.callbackPriority=2,t.callbackNode=null,2}function Hp(t,n){if(fn!==0&&fn!==5)return t.callbackNode=null,t.callbackPriority=0,null;var s=t.callbackNode;if(Vu()&&t.callbackNode!==s)return null;var o=jt;return o=_i(t,t===he?o:0,t.cancelPendingCommit!==null||t.timeoutHandle!==-1),o===0?null:(Sp(t,o,n),qp(t,xt()),t.callbackNode!=null&&t.callbackNode===s?Hp.bind(null,t):null)}function jp(t,n){if(Vu())return null;Sp(t,n,!0)}function iE(){dE(function(){(ee&6)!==0?bn(ye,nE):Bp()})}function vh(){return Ns===0&&(Ns=vr()),Ns}function Fp(t){return t==null||typeof t=="symbol"||typeof t=="boolean"?null:typeof t=="function"?t:Js(""+t)}function Gp(t,n){var s=n.ownerDocument.createElement("input");return s.name=n.name,s.value=n.value,t.id&&s.setAttribute("form",t.id),n.parentNode.insertBefore(s,n),t=new FormData(t),s.parentNode.removeChild(s),t}function rE(t,n,s,o,f){if(n==="submit"&&s&&s.stateNode===f){var d=Fp((f[Me]||null).action),S=o.submitter;S&&(n=(n=S[Me]||null)?Fp(n.formAction):S.getAttribute("formAction"),n!==null&&(d=n,S=null));var V=new Ws("action","action",null,o,f);t.push({event:V,listeners:[{instance:null,listener:function(){if(o.defaultPrevented){if(Ns!==0){var z=S?Gp(f,S):new FormData(f);zf(s,{pending:!0,data:z,method:f.method,action:d},null,z)}}else typeof d=="function"&&(V.preventDefault(),z=S?Gp(f,S):new FormData(f),zf(s,{pending:!0,data:z,method:f.method,action:d},d,z))},currentTarget:f}]})}}for(var Eh=0;Eh<rf.length;Eh++){var Th=rf[Eh],sE=Th.toLowerCase(),aE=Th[0].toUpperCase()+Th.slice(1);hi(sE,"on"+aE)}hi(Sm,"onAnimationEnd"),hi(Rm,"onAnimationIteration"),hi(wm,"onAnimationStart"),hi("dblclick","onDoubleClick"),hi("focusin","onFocus"),hi("focusout","onBlur"),hi(bv,"onTransitionRun"),hi(Sv,"onTransitionStart"),hi(Rv,"onTransitionCancel"),hi(Cm,"onTransitionEnd"),Qi("onMouseEnter",["mouseout","mouseover"]),Qi("onMouseLeave",["mouseout","mouseover"]),Qi("onPointerEnter",["pointerout","pointerover"]),Qi("onPointerLeave",["pointerout","pointerover"]),ci("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),ci("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),ci("onBeforeInput",["compositionend","keypress","textInput","paste"]),ci("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),ci("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),ci("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var jl="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),lE=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(jl));function Qp(t,n){n=(n&4)!==0;for(var s=0;s<t.length;s++){var o=t[s],f=o.event;o=o.listeners;t:{var d=void 0;if(n)for(var S=o.length-1;0<=S;S--){var V=o[S],z=V.instance,W=V.currentTarget;if(V=V.listener,z!==d&&f.isPropagationStopped())break t;d=V,f.currentTarget=W;try{d(f)}catch(ut){Eu(ut)}f.currentTarget=null,d=z}else for(S=0;S<o.length;S++){if(V=o[S],z=V.instance,W=V.currentTarget,V=V.listener,z!==d&&f.isPropagationStopped())break t;d=V,f.currentTarget=W;try{d(f)}catch(ut){Eu(ut)}f.currentTarget=null,d=z}}}}function Lt(t,n){var s=n[tl];s===void 0&&(s=n[tl]=new Set);var o=t+"__bubble";s.has(o)||(Yp(n,t,2,!1),s.add(o))}function Ah(t,n,s){var o=0;n&&(o|=4),Yp(s,t,o,n)}var xu="_reactListening"+Math.random().toString(36).slice(2);function bh(t){if(!t[xu]){t[xu]=!0,el.forEach(function(s){s!=="selectionchange"&&(lE.has(s)||Ah(s,!1,t),Ah(s,!0,t))});var n=t.nodeType===9?t:t.ownerDocument;n===null||n[xu]||(n[xu]=!0,Ah("selectionchange",!1,n))}}function Yp(t,n,s,o){switch(yy(n)){case 2:var f=xE;break;case 8:f=UE;break;default:f=Ph}s=f.bind(null,n,s,t),f=void 0,!Kn||n!=="touchstart"&&n!=="touchmove"&&n!=="wheel"||(f=!0),o?f!==void 0?t.addEventListener(n,s,{capture:!0,passive:f}):t.addEventListener(n,s,!0):f!==void 0?t.addEventListener(n,s,{passive:f}):t.addEventListener(n,s,!1)}function Sh(t,n,s,o,f){var d=o;if((n&1)===0&&(n&2)===0&&o!==null)t:for(;;){if(o===null)return;var S=o.tag;if(S===3||S===4){var V=o.stateNode.containerInfo;if(V===f)break;if(S===4)for(S=o.return;S!==null;){var z=S.tag;if((z===3||z===4)&&S.stateNode.containerInfo===f)return;S=S.return}for(;V!==null;){if(S=Gi(V),S===null)return;if(z=S.tag,z===5||z===6||z===26||z===27){o=d=S;continue t}V=V.parentNode}}o=o.return}Lo(function(){var W=d,ut=Xn(s),ft=[];t:{var rt=Dm.get(t);if(rt!==void 0){var at=Ws,Rt=t;switch(t){case"keypress":if(Si(s)===0)break t;case"keydown":case"keyup":at=sa;break;case"focusin":Rt="focus",at=na;break;case"focusout":Rt="blur",at=na;break;case"beforeblur":case"afterblur":at=na;break;case"click":if(s.button===2)break t;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":at=Zn;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":at=Kc;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":at=Fo;break;case Sm:case Rm:case wm:at=ia;break;case Cm:at=Qo;break;case"scroll":case"scrollend":at=Po;break;case"wheel":at=aa;break;case"copy":case"cut":case"paste":at=ra;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":at=dl;break;case"toggle":case"beforetoggle":at=Xo}var At=(n&4)!==0,oe=!At&&(t==="scroll"||t==="scrollend"),Q=At?rt!==null?rt+"Capture":null:rt;At=[];for(var H=W,Z;H!==null;){var ct=H;if(Z=ct.stateNode,ct=ct.tag,ct!==5&&ct!==26&&ct!==27||Z===null||Q===null||(ct=fs(H,Q),ct!=null&&At.push(Fl(H,ct,Z))),oe)break;H=H.return}0<At.length&&(rt=new at(rt,Rt,null,s,ut),ft.push({event:rt,listeners:At}))}}if((n&7)===0){t:{if(rt=t==="mouseover"||t==="pointerover",at=t==="mouseout"||t==="pointerout",rt&&s!==Ki&&(Rt=s.relatedTarget||s.fromElement)&&(Gi(Rt)||Rt[Qn]))break t;if((at||rt)&&(rt=ut.window===ut?ut:(rt=ut.ownerDocument)?rt.defaultView||rt.parentWindow:window,at?(Rt=s.relatedTarget||s.toElement,at=W,Rt=Rt?Gi(Rt):null,Rt!==null&&(oe=u(Rt),At=Rt.tag,Rt!==oe||At!==5&&At!==27&&At!==6)&&(Rt=null)):(at=null,Rt=W),at!==Rt)){if(At=Zn,ct="onMouseLeave",Q="onMouseEnter",H="mouse",(t==="pointerout"||t==="pointerover")&&(At=dl,ct="onPointerLeave",Q="onPointerEnter",H="pointer"),oe=at==null?rt:Ei(at),Z=Rt==null?rt:Ei(Rt),rt=new At(ct,H+"leave",at,s,ut),rt.target=oe,rt.relatedTarget=Z,ct=null,Gi(ut)===W&&(At=new At(Q,H+"enter",Rt,s,ut),At.target=Z,At.relatedTarget=oe,ct=At),oe=ct,at&&Rt)e:{for(At=at,Q=Rt,H=0,Z=At;Z;Z=Va(Z))H++;for(Z=0,ct=Q;ct;ct=Va(ct))Z++;for(;0<H-Z;)At=Va(At),H--;for(;0<Z-H;)Q=Va(Q),Z--;for(;H--;){if(At===Q||Q!==null&&At===Q.alternate)break e;At=Va(At),Q=Va(Q)}At=null}else At=null;at!==null&&Xp(ft,rt,at,At,!1),Rt!==null&&oe!==null&&Xp(ft,oe,Rt,At,!0)}}t:{if(rt=W?Ei(W):window,at=rt.nodeName&&rt.nodeName.toLowerCase(),at==="select"||at==="input"&&rt.type==="file")var yt=dm;else if(He(rt))if(mm)yt=Ev;else{yt=_v;var Mt=yv}else at=rt.nodeName,!at||at.toLowerCase()!=="input"||rt.type!=="checkbox"&&rt.type!=="radio"?W&&al(W.elementType)&&(yt=dm):yt=vv;if(yt&&(yt=yt(t,W))){tr(ft,yt,s,ut);break t}Mt&&Mt(t,rt,W),t==="focusout"&&W&&rt.type==="number"&&W.memoizedProps.value!=null&&br(rt,"number",rt.value)}switch(Mt=W?Ei(W):window,t){case"focusin":(He(Mt)||Mt.contentEditable==="true")&&(la=Mt,tf=W,pl=null);break;case"focusout":pl=tf=la=null;break;case"mousedown":ef=!0;break;case"contextmenu":case"mouseup":case"dragend":ef=!1,Am(ft,s,ut);break;case"selectionchange":if(Av)break;case"keydown":case"keyup":Am(ft,s,ut)}var _t;if(Ci)t:{switch(t){case"compositionstart":var bt="onCompositionStart";break t;case"compositionend":bt="onCompositionEnd";break t;case"compositionupdate":bt="onCompositionUpdate";break t}bt=void 0}else qt?ot(t,s)&&(bt="onCompositionEnd"):t==="keydown"&&s.keyCode===229&&(bt="onCompositionStart");bt&&(b&&s.locale!=="ko"&&(qt||bt!=="onCompositionStart"?bt==="onCompositionEnd"&&qt&&(_t=ol()):(bi=ut,Sr="value"in bi?bi.value:bi.textContent,qt=!0)),Mt=Uu(W,bt),0<Mt.length&&(bt=new fl(bt,t,null,s,ut),ft.push({event:bt,listeners:Mt}),_t?bt.data=_t:(_t=gt(s),_t!==null&&(bt.data=_t)))),(_t=y?qe(t,s):Ht(t,s))&&(bt=Uu(W,"onBeforeInput"),0<bt.length&&(Mt=new fl("onBeforeInput","beforeinput",null,s,ut),ft.push({event:Mt,listeners:bt}),Mt.data=_t)),rE(ft,t,W,s,ut)}Qp(ft,n)})}function Fl(t,n,s){return{instance:t,listener:n,currentTarget:s}}function Uu(t,n){for(var s=n+"Capture",o=[];t!==null;){var f=t,d=f.stateNode;if(f=f.tag,f!==5&&f!==26&&f!==27||d===null||(f=fs(t,s),f!=null&&o.unshift(Fl(t,f,d)),f=fs(t,n),f!=null&&o.push(Fl(t,f,d))),t.tag===3)return o;t=t.return}return[]}function Va(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5&&t.tag!==27);return t||null}function Xp(t,n,s,o,f){for(var d=n._reactName,S=[];s!==null&&s!==o;){var V=s,z=V.alternate,W=V.stateNode;if(V=V.tag,z!==null&&z===o)break;V!==5&&V!==26&&V!==27||W===null||(z=W,f?(W=fs(s,d),W!=null&&S.unshift(Fl(s,W,z))):f||(W=fs(s,d),W!=null&&S.push(Fl(s,W,z)))),s=s.return}S.length!==0&&t.push({event:n,listeners:S})}var oE=/\r\n?/g,uE=/\u0000|\uFFFD/g;function Kp(t){return(typeof t=="string"?t:""+t).replace(oE,`
`).replace(uE,"")}function Zp(t,n){return n=Kp(n),Kp(t)===n}function Lu(){}function le(t,n,s,o,f,d){switch(s){case"children":typeof o=="string"?n==="body"||n==="textarea"&&o===""||Yn(t,o):(typeof o=="number"||typeof o=="bigint")&&n!=="body"&&Yn(t,""+o);break;case"className":Ti(t,"class",o);break;case"tabIndex":Ti(t,"tabindex",o);break;case"dir":case"role":case"viewBox":case"width":case"height":Ti(t,s,o);break;case"style":sl(t,o,d);break;case"data":if(n!=="object"){Ti(t,"data",o);break}case"src":case"href":if(o===""&&(n!=="a"||s!=="href")){t.removeAttribute(s);break}if(o==null||typeof o=="function"||typeof o=="symbol"||typeof o=="boolean"){t.removeAttribute(s);break}o=Js(""+o),t.setAttribute(s,o);break;case"action":case"formAction":if(typeof o=="function"){t.setAttribute(s,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof d=="function"&&(s==="formAction"?(n!=="input"&&le(t,n,"name",f.name,f,null),le(t,n,"formEncType",f.formEncType,f,null),le(t,n,"formMethod",f.formMethod,f,null),le(t,n,"formTarget",f.formTarget,f,null)):(le(t,n,"encType",f.encType,f,null),le(t,n,"method",f.method,f,null),le(t,n,"target",f.target,f,null)));if(o==null||typeof o=="symbol"||typeof o=="boolean"){t.removeAttribute(s);break}o=Js(""+o),t.setAttribute(s,o);break;case"onClick":o!=null&&(t.onclick=Lu);break;case"onScroll":o!=null&&Lt("scroll",t);break;case"onScrollEnd":o!=null&&Lt("scrollend",t);break;case"dangerouslySetInnerHTML":if(o!=null){if(typeof o!="object"||!("__html"in o))throw Error(r(61));if(s=o.__html,s!=null){if(f.children!=null)throw Error(r(60));t.innerHTML=s}}break;case"multiple":t.multiple=o&&typeof o!="function"&&typeof o!="symbol";break;case"muted":t.muted=o&&typeof o!="function"&&typeof o!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(o==null||typeof o=="function"||typeof o=="boolean"||typeof o=="symbol"){t.removeAttribute("xlink:href");break}s=Js(""+o),t.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",s);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":o!=null&&typeof o!="function"&&typeof o!="symbol"?t.setAttribute(s,""+o):t.removeAttribute(s);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":o&&typeof o!="function"&&typeof o!="symbol"?t.setAttribute(s,""):t.removeAttribute(s);break;case"capture":case"download":o===!0?t.setAttribute(s,""):o!==!1&&o!=null&&typeof o!="function"&&typeof o!="symbol"?t.setAttribute(s,o):t.removeAttribute(s);break;case"cols":case"rows":case"size":case"span":o!=null&&typeof o!="function"&&typeof o!="symbol"&&!isNaN(o)&&1<=o?t.setAttribute(s,o):t.removeAttribute(s);break;case"rowSpan":case"start":o==null||typeof o=="function"||typeof o=="symbol"||isNaN(o)?t.removeAttribute(s):t.setAttribute(s,o);break;case"popover":Lt("beforetoggle",t),Lt("toggle",t),Ar(t,"popover",o);break;case"xlinkActuate":on(t,"http://www.w3.org/1999/xlink","xlink:actuate",o);break;case"xlinkArcrole":on(t,"http://www.w3.org/1999/xlink","xlink:arcrole",o);break;case"xlinkRole":on(t,"http://www.w3.org/1999/xlink","xlink:role",o);break;case"xlinkShow":on(t,"http://www.w3.org/1999/xlink","xlink:show",o);break;case"xlinkTitle":on(t,"http://www.w3.org/1999/xlink","xlink:title",o);break;case"xlinkType":on(t,"http://www.w3.org/1999/xlink","xlink:type",o);break;case"xmlBase":on(t,"http://www.w3.org/XML/1998/namespace","xml:base",o);break;case"xmlLang":on(t,"http://www.w3.org/XML/1998/namespace","xml:lang",o);break;case"xmlSpace":on(t,"http://www.w3.org/XML/1998/namespace","xml:space",o);break;case"is":Ar(t,"is",o);break;case"innerText":case"textContent":break;default:(!(2<s.length)||s[0]!=="o"&&s[0]!=="O"||s[1]!=="n"&&s[1]!=="N")&&(s=Yc.get(s)||s,Ar(t,s,o))}}function Rh(t,n,s,o,f,d){switch(s){case"style":sl(t,o,d);break;case"dangerouslySetInnerHTML":if(o!=null){if(typeof o!="object"||!("__html"in o))throw Error(r(61));if(s=o.__html,s!=null){if(f.children!=null)throw Error(r(60));t.innerHTML=s}}break;case"children":typeof o=="string"?Yn(t,o):(typeof o=="number"||typeof o=="bigint")&&Yn(t,""+o);break;case"onScroll":o!=null&&Lt("scroll",t);break;case"onScrollEnd":o!=null&&Lt("scrollend",t);break;case"onClick":o!=null&&(t.onclick=Lu);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!Ys.hasOwnProperty(s))t:{if(s[0]==="o"&&s[1]==="n"&&(f=s.endsWith("Capture"),n=s.slice(2,f?s.length-7:void 0),d=t[Me]||null,d=d!=null?d[s]:null,typeof d=="function"&&t.removeEventListener(n,d,f),typeof o=="function")){typeof d!="function"&&d!==null&&(s in t?t[s]=null:t.hasAttribute(s)&&t.removeAttribute(s)),t.addEventListener(n,o,f);break t}s in t?t[s]=o:o===!0?t.setAttribute(s,""):Ar(t,s,o)}}}function hn(t,n,s){switch(n){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Lt("error",t),Lt("load",t);var o=!1,f=!1,d;for(d in s)if(s.hasOwnProperty(d)){var S=s[d];if(S!=null)switch(d){case"src":o=!0;break;case"srcSet":f=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(r(137,n));default:le(t,n,d,S,s,null)}}f&&le(t,n,"srcSet",s.srcSet,s,null),o&&le(t,n,"src",s.src,s,null);return;case"input":Lt("invalid",t);var V=d=S=f=null,z=null,W=null;for(o in s)if(s.hasOwnProperty(o)){var ut=s[o];if(ut!=null)switch(o){case"name":f=ut;break;case"type":S=ut;break;case"checked":z=ut;break;case"defaultChecked":W=ut;break;case"value":d=ut;break;case"defaultValue":V=ut;break;case"children":case"dangerouslySetInnerHTML":if(ut!=null)throw Error(r(137,n));break;default:le(t,n,o,ut,s,null)}}os(t,d,V,z,W,S,f,!1),$s(t);return;case"select":Lt("invalid",t),o=S=d=null;for(f in s)if(s.hasOwnProperty(f)&&(V=s[f],V!=null))switch(f){case"value":d=V;break;case"defaultValue":S=V;break;case"multiple":o=V;default:le(t,n,f,V,s,null)}n=d,s=S,t.multiple=!!o,n!=null?Xi(t,!!o,n,!1):s!=null&&Xi(t,!!o,s,!0);return;case"textarea":Lt("invalid",t),d=f=o=null;for(S in s)if(s.hasOwnProperty(S)&&(V=s[S],V!=null))switch(S){case"value":o=V;break;case"defaultValue":f=V;break;case"children":d=V;break;case"dangerouslySetInnerHTML":if(V!=null)throw Error(r(91));break;default:le(t,n,S,V,s,null)}us(t,o,f,d),$s(t);return;case"option":for(z in s)if(s.hasOwnProperty(z)&&(o=s[z],o!=null))switch(z){case"selected":t.selected=o&&typeof o!="function"&&typeof o!="symbol";break;default:le(t,n,z,o,s,null)}return;case"dialog":Lt("beforetoggle",t),Lt("toggle",t),Lt("cancel",t),Lt("close",t);break;case"iframe":case"object":Lt("load",t);break;case"video":case"audio":for(o=0;o<jl.length;o++)Lt(jl[o],t);break;case"image":Lt("error",t),Lt("load",t);break;case"details":Lt("toggle",t);break;case"embed":case"source":case"link":Lt("error",t),Lt("load",t);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(W in s)if(s.hasOwnProperty(W)&&(o=s[W],o!=null))switch(W){case"children":case"dangerouslySetInnerHTML":throw Error(r(137,n));default:le(t,n,W,o,s,null)}return;default:if(al(n)){for(ut in s)s.hasOwnProperty(ut)&&(o=s[ut],o!==void 0&&Rh(t,n,ut,o,s,void 0));return}}for(V in s)s.hasOwnProperty(V)&&(o=s[V],o!=null&&le(t,n,V,o,s,null))}function cE(t,n,s,o){switch(n){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var f=null,d=null,S=null,V=null,z=null,W=null,ut=null;for(at in s){var ft=s[at];if(s.hasOwnProperty(at)&&ft!=null)switch(at){case"checked":break;case"value":break;case"defaultValue":z=ft;default:o.hasOwnProperty(at)||le(t,n,at,null,o,ft)}}for(var rt in o){var at=o[rt];if(ft=s[rt],o.hasOwnProperty(rt)&&(at!=null||ft!=null))switch(rt){case"type":d=at;break;case"name":f=at;break;case"checked":W=at;break;case"defaultChecked":ut=at;break;case"value":S=at;break;case"defaultValue":V=at;break;case"children":case"dangerouslySetInnerHTML":if(at!=null)throw Error(r(137,n));break;default:at!==ft&&le(t,n,rt,at,o,ft)}}Pn(t,S,V,z,W,ut,d,f);return;case"select":at=S=V=rt=null;for(d in s)if(z=s[d],s.hasOwnProperty(d)&&z!=null)switch(d){case"value":break;case"multiple":at=z;default:o.hasOwnProperty(d)||le(t,n,d,null,o,z)}for(f in o)if(d=o[f],z=s[f],o.hasOwnProperty(f)&&(d!=null||z!=null))switch(f){case"value":rt=d;break;case"defaultValue":V=d;break;case"multiple":S=d;default:d!==z&&le(t,n,f,d,o,z)}n=V,s=S,o=at,rt!=null?Xi(t,!!s,rt,!1):!!o!=!!s&&(n!=null?Xi(t,!!s,n,!0):Xi(t,!!s,s?[]:"",!1));return;case"textarea":at=rt=null;for(V in s)if(f=s[V],s.hasOwnProperty(V)&&f!=null&&!o.hasOwnProperty(V))switch(V){case"value":break;case"children":break;default:le(t,n,V,null,o,f)}for(S in o)if(f=o[S],d=s[S],o.hasOwnProperty(S)&&(f!=null||d!=null))switch(S){case"value":rt=f;break;case"defaultValue":at=f;break;case"children":break;case"dangerouslySetInnerHTML":if(f!=null)throw Error(r(91));break;default:f!==d&&le(t,n,S,f,o,d)}se(t,rt,at);return;case"option":for(var Rt in s)if(rt=s[Rt],s.hasOwnProperty(Rt)&&rt!=null&&!o.hasOwnProperty(Rt))switch(Rt){case"selected":t.selected=!1;break;default:le(t,n,Rt,null,o,rt)}for(z in o)if(rt=o[z],at=s[z],o.hasOwnProperty(z)&&rt!==at&&(rt!=null||at!=null))switch(z){case"selected":t.selected=rt&&typeof rt!="function"&&typeof rt!="symbol";break;default:le(t,n,z,rt,o,at)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var At in s)rt=s[At],s.hasOwnProperty(At)&&rt!=null&&!o.hasOwnProperty(At)&&le(t,n,At,null,o,rt);for(W in o)if(rt=o[W],at=s[W],o.hasOwnProperty(W)&&rt!==at&&(rt!=null||at!=null))switch(W){case"children":case"dangerouslySetInnerHTML":if(rt!=null)throw Error(r(137,n));break;default:le(t,n,W,rt,o,at)}return;default:if(al(n)){for(var oe in s)rt=s[oe],s.hasOwnProperty(oe)&&rt!==void 0&&!o.hasOwnProperty(oe)&&Rh(t,n,oe,void 0,o,rt);for(ut in o)rt=o[ut],at=s[ut],!o.hasOwnProperty(ut)||rt===at||rt===void 0&&at===void 0||Rh(t,n,ut,rt,o,at);return}}for(var Q in s)rt=s[Q],s.hasOwnProperty(Q)&&rt!=null&&!o.hasOwnProperty(Q)&&le(t,n,Q,null,o,rt);for(ft in o)rt=o[ft],at=s[ft],!o.hasOwnProperty(ft)||rt===at||rt==null&&at==null||le(t,n,ft,rt,o,at)}var wh=null,Ch=null;function Pu(t){return t.nodeType===9?t:t.ownerDocument}function $p(t){switch(t){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function Jp(t,n){if(t===0)switch(n){case"svg":return 1;case"math":return 2;default:return 0}return t===1&&n==="foreignObject"?0:t}function Dh(t,n){return t==="textarea"||t==="noscript"||typeof n.children=="string"||typeof n.children=="number"||typeof n.children=="bigint"||typeof n.dangerouslySetInnerHTML=="object"&&n.dangerouslySetInnerHTML!==null&&n.dangerouslySetInnerHTML.__html!=null}var Ih=null;function fE(){var t=window.event;return t&&t.type==="popstate"?t===Ih?!1:(Ih=t,!0):(Ih=null,!1)}var Wp=typeof setTimeout=="function"?setTimeout:void 0,hE=typeof clearTimeout=="function"?clearTimeout:void 0,ty=typeof Promise=="function"?Promise:void 0,dE=typeof queueMicrotask=="function"?queueMicrotask:typeof ty<"u"?function(t){return ty.resolve(null).then(t).catch(mE)}:Wp;function mE(t){setTimeout(function(){throw t})}function Br(t){return t==="head"}function ey(t,n){var s=n,o=0,f=0;do{var d=s.nextSibling;if(t.removeChild(s),d&&d.nodeType===8)if(s=d.data,s==="/$"){if(0<o&&8>o){s=o;var S=t.ownerDocument;if(s&1&&Gl(S.documentElement),s&2&&Gl(S.body),s&4)for(s=S.head,Gl(s),S=s.firstChild;S;){var V=S.nextSibling,z=S.nodeName;S[rs]||z==="SCRIPT"||z==="STYLE"||z==="LINK"&&S.rel.toLowerCase()==="stylesheet"||s.removeChild(S),S=V}}if(f===0){t.removeChild(d),Wl(n);return}f--}else s==="$"||s==="$?"||s==="$!"?f++:o=s.charCodeAt(0)-48;else o=0;s=d}while(s);Wl(n)}function Oh(t){var n=t.firstChild;for(n&&n.nodeType===10&&(n=n.nextSibling);n;){var s=n;switch(n=n.nextSibling,s.nodeName){case"HTML":case"HEAD":case"BODY":Oh(s),Tr(s);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(s.rel.toLowerCase()==="stylesheet")continue}t.removeChild(s)}}function gE(t,n,s,o){for(;t.nodeType===1;){var f=s;if(t.nodeName.toLowerCase()!==n.toLowerCase()){if(!o&&(t.nodeName!=="INPUT"||t.type!=="hidden"))break}else if(o){if(!t[rs])switch(n){case"meta":if(!t.hasAttribute("itemprop"))break;return t;case"link":if(d=t.getAttribute("rel"),d==="stylesheet"&&t.hasAttribute("data-precedence"))break;if(d!==f.rel||t.getAttribute("href")!==(f.href==null||f.href===""?null:f.href)||t.getAttribute("crossorigin")!==(f.crossOrigin==null?null:f.crossOrigin)||t.getAttribute("title")!==(f.title==null?null:f.title))break;return t;case"style":if(t.hasAttribute("data-precedence"))break;return t;case"script":if(d=t.getAttribute("src"),(d!==(f.src==null?null:f.src)||t.getAttribute("type")!==(f.type==null?null:f.type)||t.getAttribute("crossorigin")!==(f.crossOrigin==null?null:f.crossOrigin))&&d&&t.hasAttribute("async")&&!t.hasAttribute("itemprop"))break;return t;default:return t}}else if(n==="input"&&t.type==="hidden"){var d=f.name==null?null:""+f.name;if(f.type==="hidden"&&t.getAttribute("name")===d)return t}else return t;if(t=mi(t.nextSibling),t===null)break}return null}function pE(t,n,s){if(n==="")return null;for(;t.nodeType!==3;)if((t.nodeType!==1||t.nodeName!=="INPUT"||t.type!=="hidden")&&!s||(t=mi(t.nextSibling),t===null))return null;return t}function Vh(t){return t.data==="$!"||t.data==="$?"&&t.ownerDocument.readyState==="complete"}function yE(t,n){var s=t.ownerDocument;if(t.data!=="$?"||s.readyState==="complete")n();else{var o=function(){n(),s.removeEventListener("DOMContentLoaded",o)};s.addEventListener("DOMContentLoaded",o),t._reactRetry=o}}function mi(t){for(;t!=null;t=t.nextSibling){var n=t.nodeType;if(n===1||n===3)break;if(n===8){if(n=t.data,n==="$"||n==="$!"||n==="$?"||n==="F!"||n==="F")break;if(n==="/$")return null}}return t}var Nh=null;function ny(t){t=t.previousSibling;for(var n=0;t;){if(t.nodeType===8){var s=t.data;if(s==="$"||s==="$!"||s==="$?"){if(n===0)return t;n--}else s==="/$"&&n++}t=t.previousSibling}return null}function iy(t,n,s){switch(n=Pu(s),t){case"html":if(t=n.documentElement,!t)throw Error(r(452));return t;case"head":if(t=n.head,!t)throw Error(r(453));return t;case"body":if(t=n.body,!t)throw Error(r(454));return t;default:throw Error(r(451))}}function Gl(t){for(var n=t.attributes;n.length;)t.removeAttributeNode(n[0]);Tr(t)}var ii=new Map,ry=new Set;function ku(t){return typeof t.getRootNode=="function"?t.getRootNode():t.nodeType===9?t:t.ownerDocument}var dr=I.d;I.d={f:_E,r:vE,D:EE,C:TE,L:AE,m:bE,X:RE,S:SE,M:wE};function _E(){var t=dr.f(),n=Iu();return t||n}function vE(t){var n=vi(t);n!==null&&n.tag===5&&n.type==="form"?Sg(n):dr.r(t)}var Na=typeof document>"u"?null:document;function sy(t,n,s){var o=Na;if(o&&typeof n=="string"&&n){var f=xe(n);f='link[rel="'+t+'"][href="'+f+'"]',typeof s=="string"&&(f+='[crossorigin="'+s+'"]'),ry.has(f)||(ry.add(f),t={rel:t,crossOrigin:s,href:n},o.querySelector(f)===null&&(n=o.createElement("link"),hn(n,"link",t),Ce(n),o.head.appendChild(n)))}}function EE(t){dr.D(t),sy("dns-prefetch",t,null)}function TE(t,n){dr.C(t,n),sy("preconnect",t,n)}function AE(t,n,s){dr.L(t,n,s);var o=Na;if(o&&t&&n){var f='link[rel="preload"][as="'+xe(n)+'"]';n==="image"&&s&&s.imageSrcSet?(f+='[imagesrcset="'+xe(s.imageSrcSet)+'"]',typeof s.imageSizes=="string"&&(f+='[imagesizes="'+xe(s.imageSizes)+'"]')):f+='[href="'+xe(t)+'"]';var d=f;switch(n){case"style":d=Ma(t);break;case"script":d=xa(t)}ii.has(d)||(t=p({rel:"preload",href:n==="image"&&s&&s.imageSrcSet?void 0:t,as:n},s),ii.set(d,t),o.querySelector(f)!==null||n==="style"&&o.querySelector(Ql(d))||n==="script"&&o.querySelector(Yl(d))||(n=o.createElement("link"),hn(n,"link",t),Ce(n),o.head.appendChild(n)))}}function bE(t,n){dr.m(t,n);var s=Na;if(s&&t){var o=n&&typeof n.as=="string"?n.as:"script",f='link[rel="modulepreload"][as="'+xe(o)+'"][href="'+xe(t)+'"]',d=f;switch(o){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":d=xa(t)}if(!ii.has(d)&&(t=p({rel:"modulepreload",href:t},n),ii.set(d,t),s.querySelector(f)===null)){switch(o){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(s.querySelector(Yl(d)))return}o=s.createElement("link"),hn(o,"link",t),Ce(o),s.head.appendChild(o)}}}function SE(t,n,s){dr.S(t,n,s);var o=Na;if(o&&t){var f=Rn(o).hoistableStyles,d=Ma(t);n=n||"default";var S=f.get(d);if(!S){var V={loading:0,preload:null};if(S=o.querySelector(Ql(d)))V.loading=5;else{t=p({rel:"stylesheet",href:t,"data-precedence":n},s),(s=ii.get(d))&&Mh(t,s);var z=S=o.createElement("link");Ce(z),hn(z,"link",t),z._p=new Promise(function(W,ut){z.onload=W,z.onerror=ut}),z.addEventListener("load",function(){V.loading|=1}),z.addEventListener("error",function(){V.loading|=2}),V.loading|=4,zu(S,n,o)}S={type:"stylesheet",instance:S,count:1,state:V},f.set(d,S)}}}function RE(t,n){dr.X(t,n);var s=Na;if(s&&t){var o=Rn(s).hoistableScripts,f=xa(t),d=o.get(f);d||(d=s.querySelector(Yl(f)),d||(t=p({src:t,async:!0},n),(n=ii.get(f))&&xh(t,n),d=s.createElement("script"),Ce(d),hn(d,"link",t),s.head.appendChild(d)),d={type:"script",instance:d,count:1,state:null},o.set(f,d))}}function wE(t,n){dr.M(t,n);var s=Na;if(s&&t){var o=Rn(s).hoistableScripts,f=xa(t),d=o.get(f);d||(d=s.querySelector(Yl(f)),d||(t=p({src:t,async:!0,type:"module"},n),(n=ii.get(f))&&xh(t,n),d=s.createElement("script"),Ce(d),hn(d,"link",t),s.head.appendChild(d)),d={type:"script",instance:d,count:1,state:null},o.set(f,d))}}function ay(t,n,s,o){var f=(f=mt.current)?ku(f):null;if(!f)throw Error(r(446));switch(t){case"meta":case"title":return null;case"style":return typeof s.precedence=="string"&&typeof s.href=="string"?(n=Ma(s.href),s=Rn(f).hoistableStyles,o=s.get(n),o||(o={type:"style",instance:null,count:0,state:null},s.set(n,o)),o):{type:"void",instance:null,count:0,state:null};case"link":if(s.rel==="stylesheet"&&typeof s.href=="string"&&typeof s.precedence=="string"){t=Ma(s.href);var d=Rn(f).hoistableStyles,S=d.get(t);if(S||(f=f.ownerDocument||f,S={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},d.set(t,S),(d=f.querySelector(Ql(t)))&&!d._p&&(S.instance=d,S.state.loading=5),ii.has(t)||(s={rel:"preload",as:"style",href:s.href,crossOrigin:s.crossOrigin,integrity:s.integrity,media:s.media,hrefLang:s.hrefLang,referrerPolicy:s.referrerPolicy},ii.set(t,s),d||CE(f,t,s,S.state))),n&&o===null)throw Error(r(528,""));return S}if(n&&o!==null)throw Error(r(529,""));return null;case"script":return n=s.async,s=s.src,typeof s=="string"&&n&&typeof n!="function"&&typeof n!="symbol"?(n=xa(s),s=Rn(f).hoistableScripts,o=s.get(n),o||(o={type:"script",instance:null,count:0,state:null},s.set(n,o)),o):{type:"void",instance:null,count:0,state:null};default:throw Error(r(444,t))}}function Ma(t){return'href="'+xe(t)+'"'}function Ql(t){return'link[rel="stylesheet"]['+t+"]"}function ly(t){return p({},t,{"data-precedence":t.precedence,precedence:null})}function CE(t,n,s,o){t.querySelector('link[rel="preload"][as="style"]['+n+"]")?o.loading=1:(n=t.createElement("link"),o.preload=n,n.addEventListener("load",function(){return o.loading|=1}),n.addEventListener("error",function(){return o.loading|=2}),hn(n,"link",s),Ce(n),t.head.appendChild(n))}function xa(t){return'[src="'+xe(t)+'"]'}function Yl(t){return"script[async]"+t}function oy(t,n,s){if(n.count++,n.instance===null)switch(n.type){case"style":var o=t.querySelector('style[data-href~="'+xe(s.href)+'"]');if(o)return n.instance=o,Ce(o),o;var f=p({},s,{"data-href":s.href,"data-precedence":s.precedence,href:null,precedence:null});return o=(t.ownerDocument||t).createElement("style"),Ce(o),hn(o,"style",f),zu(o,s.precedence,t),n.instance=o;case"stylesheet":f=Ma(s.href);var d=t.querySelector(Ql(f));if(d)return n.state.loading|=4,n.instance=d,Ce(d),d;o=ly(s),(f=ii.get(f))&&Mh(o,f),d=(t.ownerDocument||t).createElement("link"),Ce(d);var S=d;return S._p=new Promise(function(V,z){S.onload=V,S.onerror=z}),hn(d,"link",o),n.state.loading|=4,zu(d,s.precedence,t),n.instance=d;case"script":return d=xa(s.src),(f=t.querySelector(Yl(d)))?(n.instance=f,Ce(f),f):(o=s,(f=ii.get(d))&&(o=p({},s),xh(o,f)),t=t.ownerDocument||t,f=t.createElement("script"),Ce(f),hn(f,"link",o),t.head.appendChild(f),n.instance=f);case"void":return null;default:throw Error(r(443,n.type))}else n.type==="stylesheet"&&(n.state.loading&4)===0&&(o=n.instance,n.state.loading|=4,zu(o,s.precedence,t));return n.instance}function zu(t,n,s){for(var o=s.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),f=o.length?o[o.length-1]:null,d=f,S=0;S<o.length;S++){var V=o[S];if(V.dataset.precedence===n)d=V;else if(d!==f)break}d?d.parentNode.insertBefore(t,d.nextSibling):(n=s.nodeType===9?s.head:s,n.insertBefore(t,n.firstChild))}function Mh(t,n){t.crossOrigin==null&&(t.crossOrigin=n.crossOrigin),t.referrerPolicy==null&&(t.referrerPolicy=n.referrerPolicy),t.title==null&&(t.title=n.title)}function xh(t,n){t.crossOrigin==null&&(t.crossOrigin=n.crossOrigin),t.referrerPolicy==null&&(t.referrerPolicy=n.referrerPolicy),t.integrity==null&&(t.integrity=n.integrity)}var Bu=null;function uy(t,n,s){if(Bu===null){var o=new Map,f=Bu=new Map;f.set(s,o)}else f=Bu,o=f.get(s),o||(o=new Map,f.set(s,o));if(o.has(t))return o;for(o.set(t,null),s=s.getElementsByTagName(t),f=0;f<s.length;f++){var d=s[f];if(!(d[rs]||d[Be]||t==="link"&&d.getAttribute("rel")==="stylesheet")&&d.namespaceURI!=="http://www.w3.org/2000/svg"){var S=d.getAttribute(n)||"";S=t+S;var V=o.get(S);V?V.push(d):o.set(S,[d])}}return o}function cy(t,n,s){t=t.ownerDocument||t,t.head.insertBefore(s,n==="title"?t.querySelector("head > title"):null)}function DE(t,n,s){if(s===1||n.itemProp!=null)return!1;switch(t){case"meta":case"title":return!0;case"style":if(typeof n.precedence!="string"||typeof n.href!="string"||n.href==="")break;return!0;case"link":if(typeof n.rel!="string"||typeof n.href!="string"||n.href===""||n.onLoad||n.onError)break;switch(n.rel){case"stylesheet":return t=n.disabled,typeof n.precedence=="string"&&t==null;default:return!0}case"script":if(n.async&&typeof n.async!="function"&&typeof n.async!="symbol"&&!n.onLoad&&!n.onError&&n.src&&typeof n.src=="string")return!0}return!1}function fy(t){return!(t.type==="stylesheet"&&(t.state.loading&3)===0)}var Xl=null;function IE(){}function OE(t,n,s){if(Xl===null)throw Error(r(475));var o=Xl;if(n.type==="stylesheet"&&(typeof s.media!="string"||matchMedia(s.media).matches!==!1)&&(n.state.loading&4)===0){if(n.instance===null){var f=Ma(s.href),d=t.querySelector(Ql(f));if(d){t=d._p,t!==null&&typeof t=="object"&&typeof t.then=="function"&&(o.count++,o=qu.bind(o),t.then(o,o)),n.state.loading|=4,n.instance=d,Ce(d);return}d=t.ownerDocument||t,s=ly(s),(f=ii.get(f))&&Mh(s,f),d=d.createElement("link"),Ce(d);var S=d;S._p=new Promise(function(V,z){S.onload=V,S.onerror=z}),hn(d,"link",s),n.instance=d}o.stylesheets===null&&(o.stylesheets=new Map),o.stylesheets.set(n,t),(t=n.state.preload)&&(n.state.loading&3)===0&&(o.count++,n=qu.bind(o),t.addEventListener("load",n),t.addEventListener("error",n))}}function VE(){if(Xl===null)throw Error(r(475));var t=Xl;return t.stylesheets&&t.count===0&&Uh(t,t.stylesheets),0<t.count?function(n){var s=setTimeout(function(){if(t.stylesheets&&Uh(t,t.stylesheets),t.unsuspend){var o=t.unsuspend;t.unsuspend=null,o()}},6e4);return t.unsuspend=n,function(){t.unsuspend=null,clearTimeout(s)}}:null}function qu(){if(this.count--,this.count===0){if(this.stylesheets)Uh(this,this.stylesheets);else if(this.unsuspend){var t=this.unsuspend;this.unsuspend=null,t()}}}var Hu=null;function Uh(t,n){t.stylesheets=null,t.unsuspend!==null&&(t.count++,Hu=new Map,n.forEach(NE,t),Hu=null,qu.call(t))}function NE(t,n){if(!(n.state.loading&4)){var s=Hu.get(t);if(s)var o=s.get(null);else{s=new Map,Hu.set(t,s);for(var f=t.querySelectorAll("link[data-precedence],style[data-precedence]"),d=0;d<f.length;d++){var S=f[d];(S.nodeName==="LINK"||S.getAttribute("media")!=="not all")&&(s.set(S.dataset.precedence,S),o=S)}o&&s.set(null,o)}f=n.instance,S=f.getAttribute("data-precedence"),d=s.get(S)||o,d===o&&s.set(null,f),s.set(S,f),this.count++,o=qu.bind(this),f.addEventListener("load",o),f.addEventListener("error",o),d?d.parentNode.insertBefore(f,d.nextSibling):(t=t.nodeType===9?t.head:t,t.insertBefore(f,t.firstChild)),n.state.loading|=4}}var Kl={$$typeof:F,Provider:null,Consumer:null,_currentValue:nt,_currentValue2:nt,_threadCount:0};function ME(t,n,s,o,f,d,S,V){this.tag=1,this.containerInfo=t,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=li(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=li(0),this.hiddenUpdates=li(null),this.identifierPrefix=o,this.onUncaughtError=f,this.onCaughtError=d,this.onRecoverableError=S,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=V,this.incompleteTransitions=new Map}function hy(t,n,s,o,f,d,S,V,z,W,ut,ft){return t=new ME(t,n,s,S,V,z,W,ft),n=1,d===!0&&(n|=24),d=zn(3,null,null,n),t.current=d,d.stateNode=t,n=pf(),n.refCount++,t.pooledCache=n,n.refCount++,d.memoizedState={element:o,isDehydrated:s,cache:n},Ef(d),t}function dy(t){return t?(t=fa,t):fa}function my(t,n,s,o,f,d){f=dy(f),o.context===null?o.context=f:o.pendingContext=f,o=Cr(n),o.payload={element:s},d=d===void 0?null:d,d!==null&&(o.callback=d),s=Dr(t,o,n),s!==null&&(Fn(s,t,n),Rl(s,t,n))}function gy(t,n){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var s=t.retryLane;t.retryLane=s!==0&&s<n?s:n}}function Lh(t,n){gy(t,n),(t=t.alternate)&&gy(t,n)}function py(t){if(t.tag===13){var n=ca(t,67108864);n!==null&&Fn(n,t,67108864),Lh(t,67108864)}}var ju=!0;function xE(t,n,s,o){var f=C.T;C.T=null;var d=I.p;try{I.p=2,Ph(t,n,s,o)}finally{I.p=d,C.T=f}}function UE(t,n,s,o){var f=C.T;C.T=null;var d=I.p;try{I.p=8,Ph(t,n,s,o)}finally{I.p=d,C.T=f}}function Ph(t,n,s,o){if(ju){var f=kh(o);if(f===null)Sh(t,n,o,Fu,s),_y(t,o);else if(PE(f,t,n,s,o))o.stopPropagation();else if(_y(t,o),n&4&&-1<LE.indexOf(t)){for(;f!==null;){var d=vi(f);if(d!==null)switch(d.tag){case 3:if(d=d.stateNode,d.current.memoizedState.isDehydrated){var S=ze(d.pendingLanes);if(S!==0){var V=d;for(V.pendingLanes|=2,V.entangledLanes|=2;S;){var z=1<<31-me(S);V.entanglements[1]|=z,S&=~z}Mi(d),(ee&6)===0&&(Cu=xt()+500,Hl(0))}}break;case 13:V=ca(d,2),V!==null&&Fn(V,d,2),Iu(),Lh(d,2)}if(d=kh(o),d===null&&Sh(t,n,o,Fu,s),d===f)break;f=d}f!==null&&o.stopPropagation()}else Sh(t,n,o,null,s)}}function kh(t){return t=Xn(t),zh(t)}var Fu=null;function zh(t){if(Fu=null,t=Gi(t),t!==null){var n=u(t);if(n===null)t=null;else{var s=n.tag;if(s===13){if(t=h(n),t!==null)return t;t=null}else if(s===3){if(n.stateNode.current.memoizedState.isDehydrated)return n.tag===3?n.stateNode.containerInfo:null;t=null}else n!==t&&(t=null)}}return Fu=t,null}function yy(t){switch(t){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(te()){case ye:return 2;case Te:return 8;case re:case sn:return 32;case ce:return 268435456;default:return 32}default:return 32}}var Bh=!1,qr=null,Hr=null,jr=null,Zl=new Map,$l=new Map,Fr=[],LE="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function _y(t,n){switch(t){case"focusin":case"focusout":qr=null;break;case"dragenter":case"dragleave":Hr=null;break;case"mouseover":case"mouseout":jr=null;break;case"pointerover":case"pointerout":Zl.delete(n.pointerId);break;case"gotpointercapture":case"lostpointercapture":$l.delete(n.pointerId)}}function Jl(t,n,s,o,f,d){return t===null||t.nativeEvent!==d?(t={blockedOn:n,domEventName:s,eventSystemFlags:o,nativeEvent:d,targetContainers:[f]},n!==null&&(n=vi(n),n!==null&&py(n)),t):(t.eventSystemFlags|=o,n=t.targetContainers,f!==null&&n.indexOf(f)===-1&&n.push(f),t)}function PE(t,n,s,o,f){switch(n){case"focusin":return qr=Jl(qr,t,n,s,o,f),!0;case"dragenter":return Hr=Jl(Hr,t,n,s,o,f),!0;case"mouseover":return jr=Jl(jr,t,n,s,o,f),!0;case"pointerover":var d=f.pointerId;return Zl.set(d,Jl(Zl.get(d)||null,t,n,s,o,f)),!0;case"gotpointercapture":return d=f.pointerId,$l.set(d,Jl($l.get(d)||null,t,n,s,o,f)),!0}return!1}function vy(t){var n=Gi(t.target);if(n!==null){var s=u(n);if(s!==null){if(n=s.tag,n===13){if(n=h(s),n!==null){t.blockedOn=n,Io(t.priority,function(){if(s.tag===13){var o=jn();o=ui(o);var f=ca(s,o);f!==null&&Fn(f,s,o),Lh(s,o)}});return}}else if(n===3&&s.stateNode.current.memoizedState.isDehydrated){t.blockedOn=s.tag===3?s.stateNode.containerInfo:null;return}}}t.blockedOn=null}function Gu(t){if(t.blockedOn!==null)return!1;for(var n=t.targetContainers;0<n.length;){var s=kh(t.nativeEvent);if(s===null){s=t.nativeEvent;var o=new s.constructor(s.type,s);Ki=o,s.target.dispatchEvent(o),Ki=null}else return n=vi(s),n!==null&&py(n),t.blockedOn=s,!1;n.shift()}return!0}function Ey(t,n,s){Gu(t)&&s.delete(n)}function kE(){Bh=!1,qr!==null&&Gu(qr)&&(qr=null),Hr!==null&&Gu(Hr)&&(Hr=null),jr!==null&&Gu(jr)&&(jr=null),Zl.forEach(Ey),$l.forEach(Ey)}function Qu(t,n){t.blockedOn===n&&(t.blockedOn=null,Bh||(Bh=!0,a.unstable_scheduleCallback(a.unstable_NormalPriority,kE)))}var Yu=null;function Ty(t){Yu!==t&&(Yu=t,a.unstable_scheduleCallback(a.unstable_NormalPriority,function(){Yu===t&&(Yu=null);for(var n=0;n<t.length;n+=3){var s=t[n],o=t[n+1],f=t[n+2];if(typeof o!="function"){if(zh(o||s)===null)continue;break}var d=vi(s);d!==null&&(t.splice(n,3),n-=3,zf(d,{pending:!0,data:f,method:s.method,action:o},o,f))}}))}function Wl(t){function n(z){return Qu(z,t)}qr!==null&&Qu(qr,t),Hr!==null&&Qu(Hr,t),jr!==null&&Qu(jr,t),Zl.forEach(n),$l.forEach(n);for(var s=0;s<Fr.length;s++){var o=Fr[s];o.blockedOn===t&&(o.blockedOn=null)}for(;0<Fr.length&&(s=Fr[0],s.blockedOn===null);)vy(s),s.blockedOn===null&&Fr.shift();if(s=(t.ownerDocument||t).$$reactFormReplay,s!=null)for(o=0;o<s.length;o+=3){var f=s[o],d=s[o+1],S=f[Me]||null;if(typeof d=="function")S||Ty(s);else if(S){var V=null;if(d&&d.hasAttribute("formAction")){if(f=d,S=d[Me]||null)V=S.formAction;else if(zh(f)!==null)continue}else V=S.action;typeof V=="function"?s[o+1]=V:(s.splice(o,3),o-=3),Ty(s)}}}function qh(t){this._internalRoot=t}Xu.prototype.render=qh.prototype.render=function(t){var n=this._internalRoot;if(n===null)throw Error(r(409));var s=n.current,o=jn();my(s,o,t,n,null,null)},Xu.prototype.unmount=qh.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var n=t.containerInfo;my(t.current,2,null,t,null,null),Iu(),n[Qn]=null}};function Xu(t){this._internalRoot=t}Xu.prototype.unstable_scheduleHydration=function(t){if(t){var n=pn();t={blockedOn:null,target:t,priority:n};for(var s=0;s<Fr.length&&n!==0&&n<Fr[s].priority;s++);Fr.splice(s,0,t),s===0&&vy(t)}};var Ay=e.version;if(Ay!=="19.1.0")throw Error(r(527,Ay,"19.1.0"));I.findDOMNode=function(t){var n=t._reactInternals;if(n===void 0)throw typeof t.render=="function"?Error(r(188)):(t=Object.keys(t).join(","),Error(r(268,t)));return t=g(n),t=t!==null?_(t):null,t=t===null?null:t.stateNode,t};var zE={bundleType:0,version:"19.1.0",rendererPackageName:"react-dom",currentDispatcherRef:C,reconcilerVersion:"19.1.0"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Ku=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Ku.isDisabled&&Ku.supportsFiber)try{Kt=Ku.inject(zE),Bt=Ku}catch{}}return eo.createRoot=function(t,n){if(!l(t))throw Error(r(299));var s=!1,o="",f=kg,d=zg,S=Bg,V=null;return n!=null&&(n.unstable_strictMode===!0&&(s=!0),n.identifierPrefix!==void 0&&(o=n.identifierPrefix),n.onUncaughtError!==void 0&&(f=n.onUncaughtError),n.onCaughtError!==void 0&&(d=n.onCaughtError),n.onRecoverableError!==void 0&&(S=n.onRecoverableError),n.unstable_transitionCallbacks!==void 0&&(V=n.unstable_transitionCallbacks)),n=hy(t,1,!1,null,null,s,o,f,d,S,V,null),t[Qn]=n.current,bh(t),new qh(n)},eo.hydrateRoot=function(t,n,s){if(!l(t))throw Error(r(299));var o=!1,f="",d=kg,S=zg,V=Bg,z=null,W=null;return s!=null&&(s.unstable_strictMode===!0&&(o=!0),s.identifierPrefix!==void 0&&(f=s.identifierPrefix),s.onUncaughtError!==void 0&&(d=s.onUncaughtError),s.onCaughtError!==void 0&&(S=s.onCaughtError),s.onRecoverableError!==void 0&&(V=s.onRecoverableError),s.unstable_transitionCallbacks!==void 0&&(z=s.unstable_transitionCallbacks),s.formState!==void 0&&(W=s.formState)),n=hy(t,1,!0,n,s??null,o,f,d,S,V,z,W),n.context=dy(null),s=n.current,o=jn(),o=ui(o),f=Cr(o),f.callback=null,Dr(s,f,o),s=o,n.current.lanes=s,Ze(n,s),Mi(n),t[Qn]=n.current,bh(t),new Xu(n)},eo.version="19.1.0",eo}var Ny;function KE(){if(Ny)return Fh.exports;Ny=1;function a(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(a)}catch(e){console.error(e)}}return a(),Fh.exports=XE(),Fh.exports}var ZE=KE();function $E({entry:a,entries:e,setEntries:i,currentPage:r,handleImageUpload:l}){const[u,h]=pi.useState({field:null,value:""}),m=pi.useRef();function g(v){h({field:v,value:a[v]||""})}function _(){if(u.field){const v=[...e];v[r][u.field]=u.value,i(v)}h({field:null,value:""})}function p(v){const R=v.target.files[0];!R||!R.type.startsWith("image/")||l&&l(R,r)}function E(){if(window.confirm("Remove this image from the page? (Cannot be undone)")){const v=[...e];v[r].image="",i(v)}}return wt.jsxs("div",{id:"page-frame",children:[wt.jsxs("div",{className:"page",style:{position:"relative"},children:[u.field==="question"?wt.jsx("input",{value:u.value,onChange:v=>h({...u,value:v.target.value}),onBlur:_,onKeyDown:v=>v.key==="Enter"&&_(),autoFocus:!0,style:{fontWeight:"bold",fontSize:"1.2em",marginBottom:8,width:"100%"},maxLength:100}):wt.jsxs("div",{id:"page-question",style:{fontWeight:"bold",fontSize:"1.2em",marginBottom:8,cursor:"pointer",transition:"background 0.2s",borderRadius:"4px",padding:"2px 4px"},onClick:()=>g("question"),title:"Click to edit title",tabIndex:0,onKeyDown:v=>v.key==="Enter"&&g("question"),children:[a?.question||wt.jsx("span",{style:{color:"#888"},children:"Click to add a title..."}),wt.jsx("span",{style:{fontSize:"0.9em",marginLeft:6,color:"#6f6",verticalAlign:"middle"},children:"✏️"})]}),u.field==="answer"?wt.jsx("textarea",{value:u.value,onChange:v=>h({...u,value:v.target.value}),onBlur:_,rows:6,style:{fontSize:"1em",width:"100%",whiteSpace:"pre-wrap",marginTop:3,borderRadius:"3px",padding:"6px"},autoFocus:!0,maxLength:1e3}):wt.jsxs("div",{id:"page-prompt",style:{fontSize:"1em",whiteSpace:"pre-wrap",cursor:"pointer",padding:"2px 4px",minHeight:"60px"},onClick:()=>g("answer"),title:"Click to edit description",tabIndex:0,onKeyDown:v=>v.key==="Enter"&&g("answer"),children:[a?.answer||wt.jsx("span",{style:{color:"#888"},children:"Click to add a description..."}),wt.jsx("span",{style:{fontSize:"0.9em",marginLeft:6,color:"#6f6",verticalAlign:"middle"},children:"✏️"})]})]}),wt.jsxs("div",{className:"page",style:{alignItems:"center",justifyContent:"center",display:"flex",flexDirection:"column",position:"relative"},children:[a?.image?wt.jsxs("div",{style:{position:"relative",width:"100%"},children:[wt.jsx("img",{id:"page-image",src:a.image,alt:"Tome Illustration",style:{width:"100%",borderRadius:6,boxShadow:"0 0 15px rgba(60,255,130,0.25)",marginTop:8,objectFit:"contain",maxHeight:420,background:"rgba(0,0,0,0.04)",cursor:"pointer",transition:"box-shadow 0.2s"},title:"Click to replace image",onClick:()=>m.current.click(),tabIndex:0,onKeyDown:v=>v.key==="Enter"&&m.current.click()}),wt.jsx("button",{onClick:E,title:"Remove image",style:{position:"absolute",top:12,right:16,background:"rgba(30,0,0,0.65)",color:"#fff",border:"none",borderRadius:"50%",fontSize:"1.1em",width:"28px",height:"28px",cursor:"pointer",zIndex:10},children:"🗑️"})]}):wt.jsxs("div",{style:{color:"#8f8",fontStyle:"italic",fontSize:"1em",textAlign:"center",width:"90%",cursor:"pointer",marginTop:24},onClick:()=>m.current.click(),title:"Click to upload image",tabIndex:0,onKeyDown:v=>v.key==="Enter"&&m.current.click(),children:[wt.jsx("span",{style:{fontSize:"2.1em"},children:"+"})," ",wt.jsx("br",{}),"Click to add an image!"]}),wt.jsx("input",{type:"file",ref:m,accept:"image/*",style:{display:"none"},onChange:p})]})]})}function JE({entries:a,setEntries:e,currentPage:i,setCurrentPage:r}){const l=pi.useRef(),u=pi.useRef();function h(){r(P=>Math.max(0,P-1))}function m(){r(P=>Math.min(a.length-1,P+1))}function g(){const P=l.current.value.trim();P&&(e($=>[...$,{question:P,answer:"",image:"",date:new Date().toISOString()}]),r(a.length),l.current.value="")}function _(){u.current.click()}function p(P){const $=P.target.files[0];if(!$||!$.type.startsWith("image/"))return;const F=new FileReader;F.onload=()=>{const G=F.result;e(st=>[...st,{question:"Image Entry",answer:"Describe this scene or leave notes here.",image:G,date:new Date().toISOString()}]),r(a.length)},F.readAsDataURL($)}function E(){if(!a.length||!window.confirm("Delete this page?"))return;const P=a.slice();P.splice(i,1),e(P),r($=>Math.max(0,$-1))}function v(){localStorage.setItem("tomeEntries",JSON.stringify(a)),alert("Tome saved locally.")}function R(){const P=JSON.parse(localStorage.getItem("tomeEntries")||"[]");e(P),r(0)}function U(){const P=JSON.stringify(a,null,2),$=new Blob([P],{type:"application/json"}),F=URL.createObjectURL($),G=document.createElement("a");G.href=F,G.download="tome_of_enlightenmint.json",G.click(),URL.revokeObjectURL(F)}function B(P){const $=P.target.files[0];if(!$)return;const F=new FileReader;F.onload=()=>{try{const G=JSON.parse(F.result);e(G),r(0)}catch{alert("Invalid JSON file.")}},F.readAsText($)}function k(){const P=l.current.value.trim();if(!P)return alert("Enter a prompt first!");const $="https://placekitten.com/500/350";e(F=>[...F,{question:P,answer:"",image:$,date:new Date().toISOString()}]),r(a.length),l.current.value=""}return wt.jsxs("div",{id:"controls-bar",children:[wt.jsx("button",{onClick:h,disabled:i===0,title:"Previous Page",children:"<"}),wt.jsx("button",{onClick:m,disabled:i>=a.length-1,title:"Next Page",children:">"}),wt.jsx("textarea",{ref:l,placeholder:"Ask the Tome a question...",style:{width:250,height:50,resize:"none",verticalAlign:"middle"}}),wt.jsx("button",{onClick:g,title:"Add Text Page",children:"Add"}),wt.jsx("button",{onClick:k,title:"Generate Image with AI",children:"AI Image"}),wt.jsx("button",{onClick:v,children:"Save"}),wt.jsx("button",{onClick:R,children:"Load"}),wt.jsx("button",{onClick:U,children:"Export"}),wt.jsxs("label",{children:["Import",wt.jsx("input",{type:"file",accept:"application/json",onChange:B,style:{display:"none"}})]}),wt.jsx("button",{onClick:_,children:"+ Img"}),wt.jsx("input",{ref:u,type:"file",accept:"image/*",onChange:p,style:{display:"none"}}),wt.jsx("button",{onClick:E,children:"Del"})]})}const WE=()=>{};var My={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Z_=function(a){const e=[];let i=0;for(let r=0;r<a.length;r++){let l=a.charCodeAt(r);l<128?e[i++]=l:l<2048?(e[i++]=l>>6|192,e[i++]=l&63|128):(l&64512)===55296&&r+1<a.length&&(a.charCodeAt(r+1)&64512)===56320?(l=65536+((l&1023)<<10)+(a.charCodeAt(++r)&1023),e[i++]=l>>18|240,e[i++]=l>>12&63|128,e[i++]=l>>6&63|128,e[i++]=l&63|128):(e[i++]=l>>12|224,e[i++]=l>>6&63|128,e[i++]=l&63|128)}return e},tT=function(a){const e=[];let i=0,r=0;for(;i<a.length;){const l=a[i++];if(l<128)e[r++]=String.fromCharCode(l);else if(l>191&&l<224){const u=a[i++];e[r++]=String.fromCharCode((l&31)<<6|u&63)}else if(l>239&&l<365){const u=a[i++],h=a[i++],m=a[i++],g=((l&7)<<18|(u&63)<<12|(h&63)<<6|m&63)-65536;e[r++]=String.fromCharCode(55296+(g>>10)),e[r++]=String.fromCharCode(56320+(g&1023))}else{const u=a[i++],h=a[i++];e[r++]=String.fromCharCode((l&15)<<12|(u&63)<<6|h&63)}}return e.join("")},$_={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(a,e){if(!Array.isArray(a))throw Error("encodeByteArray takes an array as a parameter");this.init_();const i=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let l=0;l<a.length;l+=3){const u=a[l],h=l+1<a.length,m=h?a[l+1]:0,g=l+2<a.length,_=g?a[l+2]:0,p=u>>2,E=(u&3)<<4|m>>4;let v=(m&15)<<2|_>>6,R=_&63;g||(R=64,h||(v=64)),r.push(i[p],i[E],i[v],i[R])}return r.join("")},encodeString(a,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(a):this.encodeByteArray(Z_(a),e)},decodeString(a,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(a):tT(this.decodeStringToByteArray(a,e))},decodeStringToByteArray(a,e){this.init_();const i=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let l=0;l<a.length;){const u=i[a.charAt(l++)],m=l<a.length?i[a.charAt(l)]:0;++l;const _=l<a.length?i[a.charAt(l)]:64;++l;const E=l<a.length?i[a.charAt(l)]:64;if(++l,u==null||m==null||_==null||E==null)throw new eT;const v=u<<2|m>>4;if(r.push(v),_!==64){const R=m<<4&240|_>>2;if(r.push(R),E!==64){const U=_<<6&192|E;r.push(U)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let a=0;a<this.ENCODED_VALS.length;a++)this.byteToCharMap_[a]=this.ENCODED_VALS.charAt(a),this.charToByteMap_[this.byteToCharMap_[a]]=a,this.byteToCharMapWebSafe_[a]=this.ENCODED_VALS_WEBSAFE.charAt(a),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[a]]=a,a>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(a)]=a,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(a)]=a)}}};class eT extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const nT=function(a){const e=Z_(a);return $_.encodeByteArray(e,!0)},cc=function(a){return nT(a).replace(/\./g,"")},iT=function(a){try{return $_.decodeString(a,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function rT(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sT=()=>rT().__FIREBASE_DEFAULTS__,aT=()=>{if(typeof process>"u"||typeof My>"u")return;const a=My.__FIREBASE_DEFAULTS__;if(a)return JSON.parse(a)},lT=()=>{if(typeof document>"u")return;let a;try{a=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=a&&iT(a[1]);return e&&JSON.parse(e)},Id=()=>{try{return WE()||sT()||aT()||lT()}catch(a){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${a}`);return}},oT=a=>Id()?.emulatorHosts?.[a],J_=a=>{const e=oT(a);if(!e)return;const i=e.lastIndexOf(":");if(i<=0||i+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const r=parseInt(e.substring(i+1),10);return e[0]==="["?[e.substring(1,i-1),r]:[e.substring(0,i),r]},W_=()=>Id()?.config;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uT{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,i)=>{this.resolve=e,this.reject=i})}wrapCallback(e){return(i,r)=>{i?this.reject(i):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(i):e(i,r))}}}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function bo(a){try{return(a.startsWith("http://")||a.startsWith("https://")?new URL(a).hostname:a).endsWith(".cloudworkstations.dev")}catch{return!1}}async function t0(a){return(await fetch(a,{credentials:"include"})).ok}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function e0(a,e){if(a.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const i={alg:"none",type:"JWT"},r=e||"demo-project",l=a.iat||0,u=a.sub||a.user_id;if(!u)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const h={iss:`https://securetoken.google.com/${r}`,aud:r,iat:l,exp:l+3600,auth_time:l,sub:u,user_id:u,firebase:{sign_in_provider:"custom",identities:{}},...a};return[cc(JSON.stringify(i)),cc(JSON.stringify(h)),""].join(".")}const lo={};function cT(){const a={prod:[],emulator:[]};for(const e of Object.keys(lo))lo[e]?a.emulator.push(e):a.prod.push(e);return a}function fT(a){let e=document.getElementById(a),i=!1;return e||(e=document.createElement("div"),e.setAttribute("id",a),i=!0),{created:i,element:e}}let xy=!1;function n0(a,e){if(typeof window>"u"||typeof document>"u"||!bo(window.location.host)||lo[a]===e||lo[a]||xy)return;lo[a]=e;function i(v){return`__firebase__banner__${v}`}const r="__firebase__banner",u=cT().prod.length>0;function h(){const v=document.getElementById(r);v&&v.remove()}function m(v){v.style.display="flex",v.style.background="#7faaf0",v.style.position="fixed",v.style.bottom="5px",v.style.left="5px",v.style.padding=".5em",v.style.borderRadius="5px",v.style.alignItems="center"}function g(v,R){v.setAttribute("width","24"),v.setAttribute("id",R),v.setAttribute("height","24"),v.setAttribute("viewBox","0 0 24 24"),v.setAttribute("fill","none"),v.style.marginLeft="-6px"}function _(){const v=document.createElement("span");return v.style.cursor="pointer",v.style.marginLeft="16px",v.style.fontSize="24px",v.innerHTML=" &times;",v.onclick=()=>{xy=!0,h()},v}function p(v,R){v.setAttribute("id",R),v.innerText="Learn more",v.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",v.setAttribute("target","__blank"),v.style.paddingLeft="5px",v.style.textDecoration="underline"}function E(){const v=fT(r),R=i("text"),U=document.getElementById(R)||document.createElement("span"),B=i("learnmore"),k=document.getElementById(B)||document.createElement("a"),P=i("preprendIcon"),$=document.getElementById(P)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(v.created){const F=v.element;m(F),p(k,B);const G=_();g($,P),F.append($,U,k,G),document.body.appendChild(F)}u?(U.innerText="Preview backend disconnected.",$.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):($.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,U.innerText="Preview backend running in this workspace."),U.setAttribute("id",R)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",E):E()}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function hT(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function dT(){const a=Id()?.forceEnvironment;if(a==="node")return!0;if(a==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function mT(){return!dT()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function gT(){try{return typeof indexedDB=="object"}catch{return!1}}function pT(){return new Promise((a,e)=>{try{let i=!0;const r="validate-browser-context-for-indexeddb-analytics-module",l=self.indexedDB.open(r);l.onsuccess=()=>{l.result.close(),i||self.indexedDB.deleteDatabase(r),a(!0)},l.onupgradeneeded=()=>{i=!1},l.onerror=()=>{e(l.error?.message||"")}}catch(i){e(i)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yT="FirebaseError";class Hs extends Error{constructor(e,i,r){super(i),this.code=e,this.customData=r,this.name=yT,Object.setPrototypeOf(this,Hs.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,i0.prototype.create)}}class i0{constructor(e,i,r){this.service=e,this.serviceName=i,this.errors=r}create(e,...i){const r=i[0]||{},l=`${this.service}/${e}`,u=this.errors[e],h=u?_T(u,r):"Error",m=`${this.serviceName}: ${h} (${l}).`;return new Hs(l,m,r)}}function _T(a,e){return a.replace(vT,(i,r)=>{const l=e[r];return l!=null?String(l):`<${r}?>`})}const vT=/\{\$([^}]+)}/g;function fc(a,e){if(a===e)return!0;const i=Object.keys(a),r=Object.keys(e);for(const l of i){if(!r.includes(l))return!1;const u=a[l],h=e[l];if(Uy(u)&&Uy(h)){if(!fc(u,h))return!1}else if(u!==h)return!1}for(const l of r)if(!i.includes(l))return!1;return!0}function Uy(a){return a!==null&&typeof a=="object"}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function gr(a){return a&&a._delegate?a._delegate:a}class ja{constructor(e,i,r){this.name=e,this.instanceFactory=i,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ms="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ET{constructor(e,i){this.name=e,this.container=i,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const i=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(i)){const r=new uT;if(this.instancesDeferred.set(i,r),this.isInitialized(i)||this.shouldAutoInitialize())try{const l=this.getOrInitializeService({instanceIdentifier:i});l&&r.resolve(l)}catch{}}return this.instancesDeferred.get(i).promise}getImmediate(e){const i=this.normalizeInstanceIdentifier(e?.identifier),r=e?.optional??!1;if(this.isInitialized(i)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:i})}catch(l){if(r)return null;throw l}else{if(r)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(AT(e))try{this.getOrInitializeService({instanceIdentifier:Ms})}catch{}for(const[i,r]of this.instancesDeferred.entries()){const l=this.normalizeInstanceIdentifier(i);try{const u=this.getOrInitializeService({instanceIdentifier:l});r.resolve(u)}catch{}}}}clearInstance(e=Ms){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(i=>"INTERNAL"in i).map(i=>i.INTERNAL.delete()),...e.filter(i=>"_delete"in i).map(i=>i._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=Ms){return this.instances.has(e)}getOptions(e=Ms){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:i={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const l=this.getOrInitializeService({instanceIdentifier:r,options:i});for(const[u,h]of this.instancesDeferred.entries()){const m=this.normalizeInstanceIdentifier(u);r===m&&h.resolve(l)}return l}onInit(e,i){const r=this.normalizeInstanceIdentifier(i),l=this.onInitCallbacks.get(r)??new Set;l.add(e),this.onInitCallbacks.set(r,l);const u=this.instances.get(r);return u&&e(u,r),()=>{l.delete(e)}}invokeOnInitCallbacks(e,i){const r=this.onInitCallbacks.get(i);if(r)for(const l of r)try{l(e,i)}catch{}}getOrInitializeService({instanceIdentifier:e,options:i={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:TT(e),options:i}),this.instances.set(e,r),this.instancesOptions.set(e,i),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=Ms){return this.component?this.component.multipleInstances?e:Ms:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function TT(a){return a===Ms?void 0:a}function AT(a){return a.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bT{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const i=this.getProvider(e.name);if(i.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);i.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const i=new ET(e,this);return this.providers.set(e,i),i}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Gt;(function(a){a[a.DEBUG=0]="DEBUG",a[a.VERBOSE=1]="VERBOSE",a[a.INFO=2]="INFO",a[a.WARN=3]="WARN",a[a.ERROR=4]="ERROR",a[a.SILENT=5]="SILENT"})(Gt||(Gt={}));const ST={debug:Gt.DEBUG,verbose:Gt.VERBOSE,info:Gt.INFO,warn:Gt.WARN,error:Gt.ERROR,silent:Gt.SILENT},RT=Gt.INFO,wT={[Gt.DEBUG]:"log",[Gt.VERBOSE]:"log",[Gt.INFO]:"info",[Gt.WARN]:"warn",[Gt.ERROR]:"error"},CT=(a,e,...i)=>{if(e<a.logLevel)return;const r=new Date().toISOString(),l=wT[e];if(l)console[l](`[${r}]  ${a.name}:`,...i);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class r0{constructor(e){this.name=e,this._logLevel=RT,this._logHandler=CT,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in Gt))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?ST[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,Gt.DEBUG,...e),this._logHandler(this,Gt.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,Gt.VERBOSE,...e),this._logHandler(this,Gt.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,Gt.INFO,...e),this._logHandler(this,Gt.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,Gt.WARN,...e),this._logHandler(this,Gt.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,Gt.ERROR,...e),this._logHandler(this,Gt.ERROR,...e)}}const DT=(a,e)=>e.some(i=>a instanceof i);let Ly,Py;function IT(){return Ly||(Ly=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function OT(){return Py||(Py=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const s0=new WeakMap,ad=new WeakMap,a0=new WeakMap,Xh=new WeakMap,Od=new WeakMap;function VT(a){const e=new Promise((i,r)=>{const l=()=>{a.removeEventListener("success",u),a.removeEventListener("error",h)},u=()=>{i(Xr(a.result)),l()},h=()=>{r(a.error),l()};a.addEventListener("success",u),a.addEventListener("error",h)});return e.then(i=>{i instanceof IDBCursor&&s0.set(i,a)}).catch(()=>{}),Od.set(e,a),e}function NT(a){if(ad.has(a))return;const e=new Promise((i,r)=>{const l=()=>{a.removeEventListener("complete",u),a.removeEventListener("error",h),a.removeEventListener("abort",h)},u=()=>{i(),l()},h=()=>{r(a.error||new DOMException("AbortError","AbortError")),l()};a.addEventListener("complete",u),a.addEventListener("error",h),a.addEventListener("abort",h)});ad.set(a,e)}let ld={get(a,e,i){if(a instanceof IDBTransaction){if(e==="done")return ad.get(a);if(e==="objectStoreNames")return a.objectStoreNames||a0.get(a);if(e==="store")return i.objectStoreNames[1]?void 0:i.objectStore(i.objectStoreNames[0])}return Xr(a[e])},set(a,e,i){return a[e]=i,!0},has(a,e){return a instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in a}};function MT(a){ld=a(ld)}function xT(a){return a===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...i){const r=a.call(Kh(this),e,...i);return a0.set(r,e.sort?e.sort():[e]),Xr(r)}:OT().includes(a)?function(...e){return a.apply(Kh(this),e),Xr(s0.get(this))}:function(...e){return Xr(a.apply(Kh(this),e))}}function UT(a){return typeof a=="function"?xT(a):(a instanceof IDBTransaction&&NT(a),DT(a,IT())?new Proxy(a,ld):a)}function Xr(a){if(a instanceof IDBRequest)return VT(a);if(Xh.has(a))return Xh.get(a);const e=UT(a);return e!==a&&(Xh.set(a,e),Od.set(e,a)),e}const Kh=a=>Od.get(a);function LT(a,e,{blocked:i,upgrade:r,blocking:l,terminated:u}={}){const h=indexedDB.open(a,e),m=Xr(h);return r&&h.addEventListener("upgradeneeded",g=>{r(Xr(h.result),g.oldVersion,g.newVersion,Xr(h.transaction),g)}),i&&h.addEventListener("blocked",g=>i(g.oldVersion,g.newVersion,g)),m.then(g=>{u&&g.addEventListener("close",()=>u()),l&&g.addEventListener("versionchange",_=>l(_.oldVersion,_.newVersion,_))}).catch(()=>{}),m}const PT=["get","getKey","getAll","getAllKeys","count"],kT=["put","add","delete","clear"],Zh=new Map;function ky(a,e){if(!(a instanceof IDBDatabase&&!(e in a)&&typeof e=="string"))return;if(Zh.get(e))return Zh.get(e);const i=e.replace(/FromIndex$/,""),r=e!==i,l=kT.includes(i);if(!(i in(r?IDBIndex:IDBObjectStore).prototype)||!(l||PT.includes(i)))return;const u=async function(h,...m){const g=this.transaction(h,l?"readwrite":"readonly");let _=g.store;return r&&(_=_.index(m.shift())),(await Promise.all([_[i](...m),l&&g.done]))[0]};return Zh.set(e,u),u}MT(a=>({...a,get:(e,i,r)=>ky(e,i)||a.get(e,i,r),has:(e,i)=>!!ky(e,i)||a.has(e,i)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zT{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(i=>{if(BT(i)){const r=i.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(i=>i).join(" ")}}function BT(a){return a.getComponent()?.type==="VERSION"}const od="@firebase/app",zy="0.14.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pr=new r0("@firebase/app"),qT="@firebase/app-compat",HT="@firebase/analytics-compat",jT="@firebase/analytics",FT="@firebase/app-check-compat",GT="@firebase/app-check",QT="@firebase/auth",YT="@firebase/auth-compat",XT="@firebase/database",KT="@firebase/data-connect",ZT="@firebase/database-compat",$T="@firebase/functions",JT="@firebase/functions-compat",WT="@firebase/installations",t2="@firebase/installations-compat",e2="@firebase/messaging",n2="@firebase/messaging-compat",i2="@firebase/performance",r2="@firebase/performance-compat",s2="@firebase/remote-config",a2="@firebase/remote-config-compat",l2="@firebase/storage",o2="@firebase/storage-compat",u2="@firebase/firestore",c2="@firebase/ai",f2="@firebase/firestore-compat",h2="firebase",d2="12.0.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ud="[DEFAULT]",m2={[od]:"fire-core",[qT]:"fire-core-compat",[jT]:"fire-analytics",[HT]:"fire-analytics-compat",[GT]:"fire-app-check",[FT]:"fire-app-check-compat",[QT]:"fire-auth",[YT]:"fire-auth-compat",[XT]:"fire-rtdb",[KT]:"fire-data-connect",[ZT]:"fire-rtdb-compat",[$T]:"fire-fn",[JT]:"fire-fn-compat",[WT]:"fire-iid",[t2]:"fire-iid-compat",[e2]:"fire-fcm",[n2]:"fire-fcm-compat",[i2]:"fire-perf",[r2]:"fire-perf-compat",[s2]:"fire-rc",[a2]:"fire-rc-compat",[l2]:"fire-gcs",[o2]:"fire-gcs-compat",[u2]:"fire-fst",[f2]:"fire-fst-compat",[c2]:"fire-vertex","fire-js":"fire-js",[h2]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hc=new Map,g2=new Map,cd=new Map;function By(a,e){try{a.container.addComponent(e)}catch(i){pr.debug(`Component ${e.name} failed to register with FirebaseApp ${a.name}`,i)}}function mo(a){const e=a.name;if(cd.has(e))return pr.debug(`There were multiple attempts to register component ${e}.`),!1;cd.set(e,a);for(const i of hc.values())By(i,a);for(const i of g2.values())By(i,a);return!0}function l0(a,e){const i=a.container.getProvider("heartbeat").getImmediate({optional:!0});return i&&i.triggerHeartbeat(),a.container.getProvider(e)}function o0(a){return a==null?!1:a.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const p2={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},Kr=new i0("app","Firebase",p2);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class y2{constructor(e,i,r){this._isDeleted=!1,this._options={...e},this._config={...i},this._name=i.name,this._automaticDataCollectionEnabled=i.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new ja("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw Kr.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const u0=d2;function c0(a,e={}){let i=a;typeof e!="object"&&(e={name:e});const r={name:ud,automaticDataCollectionEnabled:!0,...e},l=r.name;if(typeof l!="string"||!l)throw Kr.create("bad-app-name",{appName:String(l)});if(i||(i=W_()),!i)throw Kr.create("no-options");const u=hc.get(l);if(u){if(fc(i,u.options)&&fc(r,u.config))return u;throw Kr.create("duplicate-app",{appName:l})}const h=new bT(l);for(const g of cd.values())h.addComponent(g);const m=new y2(i,r,h);return hc.set(l,m),m}function f0(a=ud){const e=hc.get(a);if(!e&&a===ud&&W_())return c0();if(!e)throw Kr.create("no-app",{appName:a});return e}function Zr(a,e,i){let r=m2[a]??a;i&&(r+=`-${i}`);const l=r.match(/\s|\//),u=e.match(/\s|\//);if(l||u){const h=[`Unable to register library "${r}" with version "${e}":`];l&&h.push(`library name "${r}" contains illegal characters (whitespace or "/")`),l&&u&&h.push("and"),u&&h.push(`version name "${e}" contains illegal characters (whitespace or "/")`),pr.warn(h.join(" "));return}mo(new ja(`${r}-version`,()=>({library:r,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _2="firebase-heartbeat-database",v2=1,go="firebase-heartbeat-store";let $h=null;function h0(){return $h||($h=LT(_2,v2,{upgrade:(a,e)=>{switch(e){case 0:try{a.createObjectStore(go)}catch(i){console.warn(i)}}}}).catch(a=>{throw Kr.create("idb-open",{originalErrorMessage:a.message})})),$h}async function E2(a){try{const i=(await h0()).transaction(go),r=await i.objectStore(go).get(d0(a));return await i.done,r}catch(e){if(e instanceof Hs)pr.warn(e.message);else{const i=Kr.create("idb-get",{originalErrorMessage:e?.message});pr.warn(i.message)}}}async function qy(a,e){try{const r=(await h0()).transaction(go,"readwrite");await r.objectStore(go).put(e,d0(a)),await r.done}catch(i){if(i instanceof Hs)pr.warn(i.message);else{const r=Kr.create("idb-set",{originalErrorMessage:i?.message});pr.warn(r.message)}}}function d0(a){return`${a.name}!${a.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const T2=1024,A2=30;class b2{constructor(e){this.container=e,this._heartbeatsCache=null;const i=this.container.getProvider("app").getImmediate();this._storage=new R2(i),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}async triggerHeartbeat(){try{const i=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),r=Hy();if(this._heartbeatsCache?.heartbeats==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null)||this._heartbeatsCache.lastSentHeartbeatDate===r||this._heartbeatsCache.heartbeats.some(l=>l.date===r))return;if(this._heartbeatsCache.heartbeats.push({date:r,agent:i}),this._heartbeatsCache.heartbeats.length>A2){const l=w2(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(l,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(e){pr.warn(e)}}async getHeartbeatsHeader(){try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null||this._heartbeatsCache.heartbeats.length===0)return"";const e=Hy(),{heartbeatsToSend:i,unsentEntries:r}=S2(this._heartbeatsCache.heartbeats),l=cc(JSON.stringify({version:2,heartbeats:i}));return this._heartbeatsCache.lastSentHeartbeatDate=e,r.length>0?(this._heartbeatsCache.heartbeats=r,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),l}catch(e){return pr.warn(e),""}}}function Hy(){return new Date().toISOString().substring(0,10)}function S2(a,e=T2){const i=[];let r=a.slice();for(const l of a){const u=i.find(h=>h.agent===l.agent);if(u){if(u.dates.push(l.date),jy(i)>e){u.dates.pop();break}}else if(i.push({agent:l.agent,dates:[l.date]}),jy(i)>e){i.pop();break}r=r.slice(1)}return{heartbeatsToSend:i,unsentEntries:r}}class R2{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return gT()?pT().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const i=await E2(this.app);return i?.heartbeats?i:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){if(await this._canUseIndexedDBPromise){const r=await this.read();return qy(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??r.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){if(await this._canUseIndexedDBPromise){const r=await this.read();return qy(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??r.lastSentHeartbeatDate,heartbeats:[...r.heartbeats,...e.heartbeats]})}else return}}function jy(a){return cc(JSON.stringify({version:2,heartbeats:a})).length}function w2(a){if(a.length===0)return-1;let e=0,i=a[0].date;for(let r=1;r<a.length;r++)a[r].date<i&&(i=a[r].date,e=r);return e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function C2(a){mo(new ja("platform-logger",e=>new zT(e),"PRIVATE")),mo(new ja("heartbeat",e=>new b2(e),"PRIVATE")),Zr(od,zy,a),Zr(od,zy,"esm2020"),Zr("fire-js","")}C2("");var D2="firebase",I2="12.0.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Zr(D2,I2,"app");var Fy=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var $r,m0;(function(){var a;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(L,T){function A(){}A.prototype=T.prototype,L.D=T.prototype,L.prototype=new A,L.prototype.constructor=L,L.C=function(D,O,N){for(var w=Array(arguments.length-2),j=2;j<arguments.length;j++)w[j-2]=arguments[j];return T.prototype[O].apply(D,w)}}function i(){this.blockSize=-1}function r(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}e(r,i),r.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function l(L,T,A){A||(A=0);var D=Array(16);if(typeof T=="string")for(var O=0;16>O;++O)D[O]=T.charCodeAt(A++)|T.charCodeAt(A++)<<8|T.charCodeAt(A++)<<16|T.charCodeAt(A++)<<24;else for(O=0;16>O;++O)D[O]=T[A++]|T[A++]<<8|T[A++]<<16|T[A++]<<24;T=L.g[0],A=L.g[1],O=L.g[2];var N=L.g[3],w=T+(N^A&(O^N))+D[0]+3614090360&4294967295;T=A+(w<<7&4294967295|w>>>25),w=N+(O^T&(A^O))+D[1]+3905402710&4294967295,N=T+(w<<12&4294967295|w>>>20),w=O+(A^N&(T^A))+D[2]+606105819&4294967295,O=N+(w<<17&4294967295|w>>>15),w=A+(T^O&(N^T))+D[3]+3250441966&4294967295,A=O+(w<<22&4294967295|w>>>10),w=T+(N^A&(O^N))+D[4]+4118548399&4294967295,T=A+(w<<7&4294967295|w>>>25),w=N+(O^T&(A^O))+D[5]+1200080426&4294967295,N=T+(w<<12&4294967295|w>>>20),w=O+(A^N&(T^A))+D[6]+2821735955&4294967295,O=N+(w<<17&4294967295|w>>>15),w=A+(T^O&(N^T))+D[7]+4249261313&4294967295,A=O+(w<<22&4294967295|w>>>10),w=T+(N^A&(O^N))+D[8]+1770035416&4294967295,T=A+(w<<7&4294967295|w>>>25),w=N+(O^T&(A^O))+D[9]+2336552879&4294967295,N=T+(w<<12&4294967295|w>>>20),w=O+(A^N&(T^A))+D[10]+4294925233&4294967295,O=N+(w<<17&4294967295|w>>>15),w=A+(T^O&(N^T))+D[11]+2304563134&4294967295,A=O+(w<<22&4294967295|w>>>10),w=T+(N^A&(O^N))+D[12]+1804603682&4294967295,T=A+(w<<7&4294967295|w>>>25),w=N+(O^T&(A^O))+D[13]+4254626195&4294967295,N=T+(w<<12&4294967295|w>>>20),w=O+(A^N&(T^A))+D[14]+2792965006&4294967295,O=N+(w<<17&4294967295|w>>>15),w=A+(T^O&(N^T))+D[15]+1236535329&4294967295,A=O+(w<<22&4294967295|w>>>10),w=T+(O^N&(A^O))+D[1]+4129170786&4294967295,T=A+(w<<5&4294967295|w>>>27),w=N+(A^O&(T^A))+D[6]+3225465664&4294967295,N=T+(w<<9&4294967295|w>>>23),w=O+(T^A&(N^T))+D[11]+643717713&4294967295,O=N+(w<<14&4294967295|w>>>18),w=A+(N^T&(O^N))+D[0]+3921069994&4294967295,A=O+(w<<20&4294967295|w>>>12),w=T+(O^N&(A^O))+D[5]+3593408605&4294967295,T=A+(w<<5&4294967295|w>>>27),w=N+(A^O&(T^A))+D[10]+38016083&4294967295,N=T+(w<<9&4294967295|w>>>23),w=O+(T^A&(N^T))+D[15]+3634488961&4294967295,O=N+(w<<14&4294967295|w>>>18),w=A+(N^T&(O^N))+D[4]+3889429448&4294967295,A=O+(w<<20&4294967295|w>>>12),w=T+(O^N&(A^O))+D[9]+568446438&4294967295,T=A+(w<<5&4294967295|w>>>27),w=N+(A^O&(T^A))+D[14]+3275163606&4294967295,N=T+(w<<9&4294967295|w>>>23),w=O+(T^A&(N^T))+D[3]+4107603335&4294967295,O=N+(w<<14&4294967295|w>>>18),w=A+(N^T&(O^N))+D[8]+1163531501&4294967295,A=O+(w<<20&4294967295|w>>>12),w=T+(O^N&(A^O))+D[13]+2850285829&4294967295,T=A+(w<<5&4294967295|w>>>27),w=N+(A^O&(T^A))+D[2]+4243563512&4294967295,N=T+(w<<9&4294967295|w>>>23),w=O+(T^A&(N^T))+D[7]+1735328473&4294967295,O=N+(w<<14&4294967295|w>>>18),w=A+(N^T&(O^N))+D[12]+2368359562&4294967295,A=O+(w<<20&4294967295|w>>>12),w=T+(A^O^N)+D[5]+4294588738&4294967295,T=A+(w<<4&4294967295|w>>>28),w=N+(T^A^O)+D[8]+2272392833&4294967295,N=T+(w<<11&4294967295|w>>>21),w=O+(N^T^A)+D[11]+1839030562&4294967295,O=N+(w<<16&4294967295|w>>>16),w=A+(O^N^T)+D[14]+4259657740&4294967295,A=O+(w<<23&4294967295|w>>>9),w=T+(A^O^N)+D[1]+2763975236&4294967295,T=A+(w<<4&4294967295|w>>>28),w=N+(T^A^O)+D[4]+1272893353&4294967295,N=T+(w<<11&4294967295|w>>>21),w=O+(N^T^A)+D[7]+4139469664&4294967295,O=N+(w<<16&4294967295|w>>>16),w=A+(O^N^T)+D[10]+3200236656&4294967295,A=O+(w<<23&4294967295|w>>>9),w=T+(A^O^N)+D[13]+681279174&4294967295,T=A+(w<<4&4294967295|w>>>28),w=N+(T^A^O)+D[0]+3936430074&4294967295,N=T+(w<<11&4294967295|w>>>21),w=O+(N^T^A)+D[3]+3572445317&4294967295,O=N+(w<<16&4294967295|w>>>16),w=A+(O^N^T)+D[6]+76029189&4294967295,A=O+(w<<23&4294967295|w>>>9),w=T+(A^O^N)+D[9]+3654602809&4294967295,T=A+(w<<4&4294967295|w>>>28),w=N+(T^A^O)+D[12]+3873151461&4294967295,N=T+(w<<11&4294967295|w>>>21),w=O+(N^T^A)+D[15]+530742520&4294967295,O=N+(w<<16&4294967295|w>>>16),w=A+(O^N^T)+D[2]+3299628645&4294967295,A=O+(w<<23&4294967295|w>>>9),w=T+(O^(A|~N))+D[0]+4096336452&4294967295,T=A+(w<<6&4294967295|w>>>26),w=N+(A^(T|~O))+D[7]+1126891415&4294967295,N=T+(w<<10&4294967295|w>>>22),w=O+(T^(N|~A))+D[14]+2878612391&4294967295,O=N+(w<<15&4294967295|w>>>17),w=A+(N^(O|~T))+D[5]+4237533241&4294967295,A=O+(w<<21&4294967295|w>>>11),w=T+(O^(A|~N))+D[12]+1700485571&4294967295,T=A+(w<<6&4294967295|w>>>26),w=N+(A^(T|~O))+D[3]+2399980690&4294967295,N=T+(w<<10&4294967295|w>>>22),w=O+(T^(N|~A))+D[10]+4293915773&4294967295,O=N+(w<<15&4294967295|w>>>17),w=A+(N^(O|~T))+D[1]+2240044497&4294967295,A=O+(w<<21&4294967295|w>>>11),w=T+(O^(A|~N))+D[8]+1873313359&4294967295,T=A+(w<<6&4294967295|w>>>26),w=N+(A^(T|~O))+D[15]+4264355552&4294967295,N=T+(w<<10&4294967295|w>>>22),w=O+(T^(N|~A))+D[6]+2734768916&4294967295,O=N+(w<<15&4294967295|w>>>17),w=A+(N^(O|~T))+D[13]+1309151649&4294967295,A=O+(w<<21&4294967295|w>>>11),w=T+(O^(A|~N))+D[4]+4149444226&4294967295,T=A+(w<<6&4294967295|w>>>26),w=N+(A^(T|~O))+D[11]+3174756917&4294967295,N=T+(w<<10&4294967295|w>>>22),w=O+(T^(N|~A))+D[2]+718787259&4294967295,O=N+(w<<15&4294967295|w>>>17),w=A+(N^(O|~T))+D[9]+3951481745&4294967295,L.g[0]=L.g[0]+T&4294967295,L.g[1]=L.g[1]+(O+(w<<21&4294967295|w>>>11))&4294967295,L.g[2]=L.g[2]+O&4294967295,L.g[3]=L.g[3]+N&4294967295}r.prototype.u=function(L,T){T===void 0&&(T=L.length);for(var A=T-this.blockSize,D=this.B,O=this.h,N=0;N<T;){if(O==0)for(;N<=A;)l(this,L,N),N+=this.blockSize;if(typeof L=="string"){for(;N<T;)if(D[O++]=L.charCodeAt(N++),O==this.blockSize){l(this,D),O=0;break}}else for(;N<T;)if(D[O++]=L[N++],O==this.blockSize){l(this,D),O=0;break}}this.h=O,this.o+=T},r.prototype.v=function(){var L=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);L[0]=128;for(var T=1;T<L.length-8;++T)L[T]=0;var A=8*this.o;for(T=L.length-8;T<L.length;++T)L[T]=A&255,A/=256;for(this.u(L),L=Array(16),T=A=0;4>T;++T)for(var D=0;32>D;D+=8)L[A++]=this.g[T]>>>D&255;return L};function u(L,T){var A=m;return Object.prototype.hasOwnProperty.call(A,L)?A[L]:A[L]=T(L)}function h(L,T){this.h=T;for(var A=[],D=!0,O=L.length-1;0<=O;O--){var N=L[O]|0;D&&N==T||(A[O]=N,D=!1)}this.g=A}var m={};function g(L){return-128<=L&&128>L?u(L,function(T){return new h([T|0],0>T?-1:0)}):new h([L|0],0>L?-1:0)}function _(L){if(isNaN(L)||!isFinite(L))return E;if(0>L)return k(_(-L));for(var T=[],A=1,D=0;L>=A;D++)T[D]=L/A|0,A*=4294967296;return new h(T,0)}function p(L,T){if(L.length==0)throw Error("number format error: empty string");if(T=T||10,2>T||36<T)throw Error("radix out of range: "+T);if(L.charAt(0)=="-")return k(p(L.substring(1),T));if(0<=L.indexOf("-"))throw Error('number format error: interior "-" character');for(var A=_(Math.pow(T,8)),D=E,O=0;O<L.length;O+=8){var N=Math.min(8,L.length-O),w=parseInt(L.substring(O,O+N),T);8>N?(N=_(Math.pow(T,N)),D=D.j(N).add(_(w))):(D=D.j(A),D=D.add(_(w)))}return D}var E=g(0),v=g(1),R=g(16777216);a=h.prototype,a.m=function(){if(B(this))return-k(this).m();for(var L=0,T=1,A=0;A<this.g.length;A++){var D=this.i(A);L+=(0<=D?D:4294967296+D)*T,T*=4294967296}return L},a.toString=function(L){if(L=L||10,2>L||36<L)throw Error("radix out of range: "+L);if(U(this))return"0";if(B(this))return"-"+k(this).toString(L);for(var T=_(Math.pow(L,6)),A=this,D="";;){var O=G(A,T).g;A=P(A,O.j(T));var N=((0<A.g.length?A.g[0]:A.h)>>>0).toString(L);if(A=O,U(A))return N+D;for(;6>N.length;)N="0"+N;D=N+D}},a.i=function(L){return 0>L?0:L<this.g.length?this.g[L]:this.h};function U(L){if(L.h!=0)return!1;for(var T=0;T<L.g.length;T++)if(L.g[T]!=0)return!1;return!0}function B(L){return L.h==-1}a.l=function(L){return L=P(this,L),B(L)?-1:U(L)?0:1};function k(L){for(var T=L.g.length,A=[],D=0;D<T;D++)A[D]=~L.g[D];return new h(A,~L.h).add(v)}a.abs=function(){return B(this)?k(this):this},a.add=function(L){for(var T=Math.max(this.g.length,L.g.length),A=[],D=0,O=0;O<=T;O++){var N=D+(this.i(O)&65535)+(L.i(O)&65535),w=(N>>>16)+(this.i(O)>>>16)+(L.i(O)>>>16);D=w>>>16,N&=65535,w&=65535,A[O]=w<<16|N}return new h(A,A[A.length-1]&-2147483648?-1:0)};function P(L,T){return L.add(k(T))}a.j=function(L){if(U(this)||U(L))return E;if(B(this))return B(L)?k(this).j(k(L)):k(k(this).j(L));if(B(L))return k(this.j(k(L)));if(0>this.l(R)&&0>L.l(R))return _(this.m()*L.m());for(var T=this.g.length+L.g.length,A=[],D=0;D<2*T;D++)A[D]=0;for(D=0;D<this.g.length;D++)for(var O=0;O<L.g.length;O++){var N=this.i(D)>>>16,w=this.i(D)&65535,j=L.i(O)>>>16,K=L.i(O)&65535;A[2*D+2*O]+=w*K,$(A,2*D+2*O),A[2*D+2*O+1]+=N*K,$(A,2*D+2*O+1),A[2*D+2*O+1]+=w*j,$(A,2*D+2*O+1),A[2*D+2*O+2]+=N*j,$(A,2*D+2*O+2)}for(D=0;D<T;D++)A[D]=A[2*D+1]<<16|A[2*D];for(D=T;D<2*T;D++)A[D]=0;return new h(A,0)};function $(L,T){for(;(L[T]&65535)!=L[T];)L[T+1]+=L[T]>>>16,L[T]&=65535,T++}function F(L,T){this.g=L,this.h=T}function G(L,T){if(U(T))throw Error("division by zero");if(U(L))return new F(E,E);if(B(L))return T=G(k(L),T),new F(k(T.g),k(T.h));if(B(T))return T=G(L,k(T)),new F(k(T.g),T.h);if(30<L.g.length){if(B(L)||B(T))throw Error("slowDivide_ only works with positive integers.");for(var A=v,D=T;0>=D.l(L);)A=st(A),D=st(D);var O=q(A,1),N=q(D,1);for(D=q(D,2),A=q(A,2);!U(D);){var w=N.add(D);0>=w.l(L)&&(O=O.add(A),N=w),D=q(D,1),A=q(A,1)}return T=P(L,O.j(T)),new F(O,T)}for(O=E;0<=L.l(T);){for(A=Math.max(1,Math.floor(L.m()/T.m())),D=Math.ceil(Math.log(A)/Math.LN2),D=48>=D?1:Math.pow(2,D-48),N=_(A),w=N.j(T);B(w)||0<w.l(L);)A-=D,N=_(A),w=N.j(T);U(N)&&(N=v),O=O.add(N),L=P(L,w)}return new F(O,L)}a.A=function(L){return G(this,L).h},a.and=function(L){for(var T=Math.max(this.g.length,L.g.length),A=[],D=0;D<T;D++)A[D]=this.i(D)&L.i(D);return new h(A,this.h&L.h)},a.or=function(L){for(var T=Math.max(this.g.length,L.g.length),A=[],D=0;D<T;D++)A[D]=this.i(D)|L.i(D);return new h(A,this.h|L.h)},a.xor=function(L){for(var T=Math.max(this.g.length,L.g.length),A=[],D=0;D<T;D++)A[D]=this.i(D)^L.i(D);return new h(A,this.h^L.h)};function st(L){for(var T=L.g.length+1,A=[],D=0;D<T;D++)A[D]=L.i(D)<<1|L.i(D-1)>>>31;return new h(A,L.h)}function q(L,T){var A=T>>5;T%=32;for(var D=L.g.length-A,O=[],N=0;N<D;N++)O[N]=0<T?L.i(N+A)>>>T|L.i(N+A+1)<<32-T:L.i(N+A);return new h(O,L.h)}r.prototype.digest=r.prototype.v,r.prototype.reset=r.prototype.s,r.prototype.update=r.prototype.u,m0=r,h.prototype.add=h.prototype.add,h.prototype.multiply=h.prototype.j,h.prototype.modulo=h.prototype.A,h.prototype.compare=h.prototype.l,h.prototype.toNumber=h.prototype.m,h.prototype.toString=h.prototype.toString,h.prototype.getBits=h.prototype.i,h.fromNumber=_,h.fromString=p,$r=h}).apply(typeof Fy<"u"?Fy:typeof self<"u"?self:typeof window<"u"?window:{});var Zu=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var g0,io,p0,ic,fd,y0,_0,v0;(function(){var a,e=typeof Object.defineProperties=="function"?Object.defineProperty:function(c,y,b){return c==Array.prototype||c==Object.prototype||(c[y]=b.value),c};function i(c){c=[typeof globalThis=="object"&&globalThis,c,typeof window=="object"&&window,typeof self=="object"&&self,typeof Zu=="object"&&Zu];for(var y=0;y<c.length;++y){var b=c[y];if(b&&b.Math==Math)return b}throw Error("Cannot find global object")}var r=i(this);function l(c,y){if(y)t:{var b=r;c=c.split(".");for(var x=0;x<c.length-1;x++){var X=c[x];if(!(X in b))break t;b=b[X]}c=c[c.length-1],x=b[c],y=y(x),y!=x&&y!=null&&e(b,c,{configurable:!0,writable:!0,value:y})}}function u(c,y){c instanceof String&&(c+="");var b=0,x=!1,X={next:function(){if(!x&&b<c.length){var ot=b++;return{value:y(ot,c[ot]),done:!1}}return x=!0,{done:!0,value:void 0}}};return X[Symbol.iterator]=function(){return X},X}l("Array.prototype.values",function(c){return c||function(){return u(this,function(y,b){return b})}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var h=h||{},m=this||self;function g(c){var y=typeof c;return y=y!="object"?y:c?Array.isArray(c)?"array":y:"null",y=="array"||y=="object"&&typeof c.length=="number"}function _(c){var y=typeof c;return y=="object"&&c!=null||y=="function"}function p(c,y,b){return c.call.apply(c.bind,arguments)}function E(c,y,b){if(!c)throw Error();if(2<arguments.length){var x=Array.prototype.slice.call(arguments,2);return function(){var X=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(X,x),c.apply(y,X)}}return function(){return c.apply(y,arguments)}}function v(c,y,b){return v=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?p:E,v.apply(null,arguments)}function R(c,y){var b=Array.prototype.slice.call(arguments,1);return function(){var x=b.slice();return x.push.apply(x,arguments),c.apply(this,x)}}function U(c,y){function b(){}b.prototype=y.prototype,c.aa=y.prototype,c.prototype=new b,c.prototype.constructor=c,c.Qb=function(x,X,ot){for(var gt=Array(arguments.length-2),qt=2;qt<arguments.length;qt++)gt[qt-2]=arguments[qt];return y.prototype[X].apply(x,gt)}}function B(c){const y=c.length;if(0<y){const b=Array(y);for(let x=0;x<y;x++)b[x]=c[x];return b}return[]}function k(c,y){for(let b=1;b<arguments.length;b++){const x=arguments[b];if(g(x)){const X=c.length||0,ot=x.length||0;c.length=X+ot;for(let gt=0;gt<ot;gt++)c[X+gt]=x[gt]}else c.push(x)}}class P{constructor(y,b){this.i=y,this.j=b,this.h=0,this.g=null}get(){let y;return 0<this.h?(this.h--,y=this.g,this.g=y.next,y.next=null):y=this.i(),y}}function $(c){return/^[\s\xa0]*$/.test(c)}function F(){var c=m.navigator;return c&&(c=c.userAgent)?c:""}function G(c){return G[" "](c),c}G[" "]=function(){};var st=F().indexOf("Gecko")!=-1&&!(F().toLowerCase().indexOf("webkit")!=-1&&F().indexOf("Edge")==-1)&&!(F().indexOf("Trident")!=-1||F().indexOf("MSIE")!=-1)&&F().indexOf("Edge")==-1;function q(c,y,b){for(const x in c)y.call(b,c[x],x,c)}function L(c,y){for(const b in c)y.call(void 0,c[b],b,c)}function T(c){const y={};for(const b in c)y[b]=c[b];return y}const A="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function D(c,y){let b,x;for(let X=1;X<arguments.length;X++){x=arguments[X];for(b in x)c[b]=x[b];for(let ot=0;ot<A.length;ot++)b=A[ot],Object.prototype.hasOwnProperty.call(x,b)&&(c[b]=x[b])}}function O(c){var y=1;c=c.split(":");const b=[];for(;0<y&&c.length;)b.push(c.shift()),y--;return c.length&&b.push(c.join(":")),b}function N(c){m.setTimeout(()=>{throw c},0)}function w(){var c=Y;let y=null;return c.g&&(y=c.g,c.g=c.g.next,c.g||(c.h=null),y.next=null),y}class j{constructor(){this.h=this.g=null}add(y,b){const x=K.get();x.set(y,b),this.h?this.h.next=x:this.g=x,this.h=x}}var K=new P(()=>new C,c=>c.reset());class C{constructor(){this.next=this.g=this.h=null}set(y,b){this.h=y,this.g=b,this.next=null}reset(){this.next=this.g=this.h=null}}let I,nt=!1,Y=new j,M=()=>{const c=m.Promise.resolve(void 0);I=()=>{c.then(J)}};var J=()=>{for(var c;c=w();){try{c.h.call(c.g)}catch(b){N(b)}var y=K;y.j(c),100>y.h&&(y.h++,c.next=y.g,y.g=c)}nt=!1};function tt(){this.s=this.s,this.C=this.C}tt.prototype.s=!1,tt.prototype.ma=function(){this.s||(this.s=!0,this.N())},tt.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function it(c,y){this.type=c,this.g=this.target=y,this.defaultPrevented=!1}it.prototype.h=function(){this.defaultPrevented=!0};var lt=function(){if(!m.addEventListener||!Object.defineProperty)return!1;var c=!1,y=Object.defineProperty({},"passive",{get:function(){c=!0}});try{const b=()=>{};m.addEventListener("test",b,y),m.removeEventListener("test",b,y)}catch{}return c}();function et(c,y){if(it.call(this,c?c.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,c){var b=this.type=c.type,x=c.changedTouches&&c.changedTouches.length?c.changedTouches[0]:null;if(this.target=c.target||c.srcElement,this.g=y,y=c.relatedTarget){if(st){t:{try{G(y.nodeName);var X=!0;break t}catch{}X=!1}X||(y=null)}}else b=="mouseover"?y=c.fromElement:b=="mouseout"&&(y=c.toElement);this.relatedTarget=y,x?(this.clientX=x.clientX!==void 0?x.clientX:x.pageX,this.clientY=x.clientY!==void 0?x.clientY:x.pageY,this.screenX=x.screenX||0,this.screenY=x.screenY||0):(this.clientX=c.clientX!==void 0?c.clientX:c.pageX,this.clientY=c.clientY!==void 0?c.clientY:c.pageY,this.screenX=c.screenX||0,this.screenY=c.screenY||0),this.button=c.button,this.key=c.key||"",this.ctrlKey=c.ctrlKey,this.altKey=c.altKey,this.shiftKey=c.shiftKey,this.metaKey=c.metaKey,this.pointerId=c.pointerId||0,this.pointerType=typeof c.pointerType=="string"?c.pointerType:mt[c.pointerType]||"",this.state=c.state,this.i=c,c.defaultPrevented&&et.aa.h.call(this)}}U(et,it);var mt={2:"touch",3:"pen",4:"mouse"};et.prototype.h=function(){et.aa.h.call(this);var c=this.i;c.preventDefault?c.preventDefault():c.returnValue=!1};var It="closure_listenable_"+(1e6*Math.random()|0),Et=0;function Ot(c,y,b,x,X){this.listener=c,this.proxy=null,this.src=y,this.type=b,this.capture=!!x,this.ha=X,this.key=++Et,this.da=this.fa=!1}function zt(c){c.da=!0,c.listener=null,c.proxy=null,c.src=null,c.ha=null}function Yt(c){this.src=c,this.g={},this.h=0}Yt.prototype.add=function(c,y,b,x,X){var ot=c.toString();c=this.g[ot],c||(c=this.g[ot]=[],this.h++);var gt=bn(c,y,x,X);return-1<gt?(y=c[gt],b||(y.fa=!1)):(y=new Ot(y,this.src,ot,!!x,X),y.fa=b,c.push(y)),y};function ue(c,y){var b=y.type;if(b in c.g){var x=c.g[b],X=Array.prototype.indexOf.call(x,y,void 0),ot;(ot=0<=X)&&Array.prototype.splice.call(x,X,1),ot&&(zt(y),c.g[b].length==0&&(delete c.g[b],c.h--))}}function bn(c,y,b,x){for(var X=0;X<c.length;++X){var ot=c[X];if(!ot.da&&ot.listener==y&&ot.capture==!!b&&ot.ha==x)return X}return-1}var Ye="closure_lm_"+(1e6*Math.random()|0),ie={};function we(c,y,b,x,X){if(Array.isArray(y)){for(var ot=0;ot<y.length;ot++)we(c,y[ot],b,x,X);return null}return b=Xe(b),c&&c[It]?c.K(y,b,_(x)?!!x.capture:!1,X):xt(c,y,b,!1,x,X)}function xt(c,y,b,x,X,ot){if(!y)throw Error("Invalid event type");var gt=_(X)?!!X.capture:!!X,qt=ce(c);if(qt||(c[Ye]=qt=new Yt(c)),b=qt.add(y,b,x,gt,ot),b.proxy)return b;if(x=te(),b.proxy=x,x.src=c,x.listener=b,c.addEventListener)lt||(X=gt),X===void 0&&(X=!1),c.addEventListener(y.toString(),x,X);else if(c.attachEvent)c.attachEvent(re(y.toString()),x);else if(c.addListener&&c.removeListener)c.addListener(x);else throw Error("addEventListener and attachEvent are unavailable.");return b}function te(){function c(b){return y.call(c.src,c.listener,b)}const y=sn;return c}function ye(c,y,b,x,X){if(Array.isArray(y))for(var ot=0;ot<y.length;ot++)ye(c,y[ot],b,x,X);else x=_(x)?!!x.capture:!!x,b=Xe(b),c&&c[It]?(c=c.i,y=String(y).toString(),y in c.g&&(ot=c.g[y],b=bn(ot,b,x,X),-1<b&&(zt(ot[b]),Array.prototype.splice.call(ot,b,1),ot.length==0&&(delete c.g[y],c.h--)))):c&&(c=ce(c))&&(y=c.g[y.toString()],c=-1,y&&(c=bn(y,b,x,X)),(b=-1<c?y[c]:null)&&Te(b))}function Te(c){if(typeof c!="number"&&c&&!c.da){var y=c.src;if(y&&y[It])ue(y.i,c);else{var b=c.type,x=c.proxy;y.removeEventListener?y.removeEventListener(b,x,c.capture):y.detachEvent?y.detachEvent(re(b),x):y.addListener&&y.removeListener&&y.removeListener(x),(b=ce(y))?(ue(b,c),b.h==0&&(b.src=null,y[Ye]=null)):zt(c)}}}function re(c){return c in ie?ie[c]:ie[c]="on"+c}function sn(c,y){if(c.da)c=!0;else{y=new et(y,this);var b=c.listener,x=c.ha||c.src;c.fa&&Te(c),c=b.call(x,y)}return c}function ce(c){return c=c[Ye],c instanceof Yt?c:null}var Xt="__closure_events_fn_"+(1e9*Math.random()>>>0);function Xe(c){return typeof c=="function"?c:(c[Xt]||(c[Xt]=function(y){return c.handleEvent(y)}),c[Xt])}function Kt(){tt.call(this),this.i=new Yt(this),this.M=this,this.F=null}U(Kt,tt),Kt.prototype[It]=!0,Kt.prototype.removeEventListener=function(c,y,b,x){ye(this,c,y,b,x)};function Bt(c,y){var b,x=c.F;if(x)for(b=[];x;x=x.F)b.push(x);if(c=c.M,x=y.type||y,typeof y=="string")y=new it(y,c);else if(y instanceof it)y.target=y.target||c;else{var X=y;y=new it(x,c),D(y,X)}if(X=!0,b)for(var ot=b.length-1;0<=ot;ot--){var gt=y.g=b[ot];X=$t(gt,x,!0,y)&&X}if(gt=y.g=c,X=$t(gt,x,!0,y)&&X,X=$t(gt,x,!1,y)&&X,b)for(ot=0;ot<b.length;ot++)gt=y.g=b[ot],X=$t(gt,x,!1,y)&&X}Kt.prototype.N=function(){if(Kt.aa.N.call(this),this.i){var c=this.i,y;for(y in c.g){for(var b=c.g[y],x=0;x<b.length;x++)zt(b[x]);delete c.g[y],c.h--}}this.F=null},Kt.prototype.K=function(c,y,b,x){return this.i.add(String(c),y,!1,b,x)},Kt.prototype.L=function(c,y,b,x){return this.i.add(String(c),y,!0,b,x)};function $t(c,y,b,x){if(y=c.i.g[String(y)],!y)return!0;y=y.concat();for(var X=!0,ot=0;ot<y.length;++ot){var gt=y[ot];if(gt&&!gt.da&&gt.capture==b){var qt=gt.listener,qe=gt.ha||gt.src;gt.fa&&ue(c.i,gt),X=qt.call(qe,x)!==!1&&X}}return X&&!x.defaultPrevented}function me(c,y,b){if(typeof c=="function")b&&(c=v(c,b));else if(c&&typeof c.handleEvent=="function")c=v(c.handleEvent,c);else throw Error("Invalid listener argument");return 2147483647<Number(y)?-1:m.setTimeout(c,y||0)}function Ve(c){c.g=me(()=>{c.g=null,c.i&&(c.i=!1,Ve(c))},c.l);const y=c.h;c.h=null,c.m.apply(null,y)}class Sn extends tt{constructor(y,b){super(),this.m=y,this.l=b,this.h=null,this.i=!1,this.g=null}j(y){this.h=arguments,this.g?this.i=!0:Ve(this)}N(){super.N(),this.g&&(m.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Ne(c){tt.call(this),this.h=c,this.g={}}U(Ne,tt);var an=[];function Ke(c){q(c.g,function(y,b){this.g.hasOwnProperty(b)&&Te(y)},c),c.g={}}Ne.prototype.N=function(){Ne.aa.N.call(this),Ke(this)},Ne.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var ze=m.JSON.stringify,_i=m.JSON.parse,ji=class{stringify(c){return m.JSON.stringify(c,void 0)}parse(c){return m.JSON.parse(c,void 0)}};function Fi(){}Fi.prototype.h=null;function vr(c){return c.h||(c.h=c.i())}function ai(){}var li={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function Ze(){it.call(this,"d")}U(Ze,it);function On(){it.call(this,"c")}U(On,it);var ln={},oi=null;function ui(){return oi=oi||new Kt}ln.La="serverreachability";function Vn(c){it.call(this,ln.La,c)}U(Vn,it);function pn(c){const y=ui();Bt(y,new Vn(y))}ln.STAT_EVENT="statevent";function Io(c,y){it.call(this,ln.STAT_EVENT,c),this.stat=y}U(Io,it);function ge(c){const y=ui();Bt(y,new Io(y,c))}ln.Ma="timingevent";function Be(c,y){it.call(this,ln.Ma,c),this.size=y}U(Be,it);function Me(c,y){if(typeof c!="function")throw Error("Fn must not be null and must be a function");return m.setTimeout(function(){c()},y)}function Qn(){this.g=!0}Qn.prototype.xa=function(){this.g=!1};function tl(c,y,b,x,X,ot){c.info(function(){if(c.g)if(ot)for(var gt="",qt=ot.split("&"),qe=0;qe<qt.length;qe++){var Ht=qt[qe].split("=");if(1<Ht.length){var Je=Ht[0];Ht=Ht[1];var He=Je.split("_");gt=2<=He.length&&He[1]=="type"?gt+(Je+"="+Ht+"&"):gt+(Je+"=redacted&")}}else gt=null;else gt=ot;return"XMLHTTP REQ ("+x+") [attempt "+X+"]: "+y+`
`+b+`
`+gt})}function Fc(c,y,b,x,X,ot,gt){c.info(function(){return"XMLHTTP RESP ("+x+") [ attempt "+X+"]: "+y+`
`+b+`
`+ot+" "+gt})}function Er(c,y,b,x){c.info(function(){return"XMLHTTP TEXT ("+y+"): "+rs(c,b)+(x?" "+x:"")})}function Oo(c,y){c.info(function(){return"TIMEOUT: "+y})}Qn.prototype.info=function(){};function rs(c,y){if(!c.g)return y;if(!y)return null;try{var b=JSON.parse(y);if(b){for(c=0;c<b.length;c++)if(Array.isArray(b[c])){var x=b[c];if(!(2>x.length)){var X=x[1];if(Array.isArray(X)&&!(1>X.length)){var ot=X[0];if(ot!="noop"&&ot!="stop"&&ot!="close")for(var gt=1;gt<X.length;gt++)X[gt]=""}}}}return ze(b)}catch{return y}}var Tr={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},Gi={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},vi;function Ei(){}U(Ei,Fi),Ei.prototype.g=function(){return new XMLHttpRequest},Ei.prototype.i=function(){return{}},vi=new Ei;function Rn(c,y,b,x){this.j=c,this.i=y,this.l=b,this.R=x||1,this.U=new Ne(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new Ce}function Ce(){this.i=null,this.g="",this.h=!1}var el={},Ys={};function ci(c,y,b){c.L=1,c.v=us(Pn(y)),c.m=b,c.P=!0,Qi(c,null)}function Qi(c,y){c.F=Date.now(),ss(c),c.A=Pn(c.v);var b=c.A,x=c.R;Array.isArray(x)||(x=[String(x)]),ll(b.i,"t",x),c.C=0,b=c.j.J,c.h=new Ce,c.g=Qo(c.j,b?y:null,!c.m),0<c.O&&(c.M=new Sn(v(c.Y,c,c.g),c.O)),y=c.U,b=c.g,x=c.ca;var X="readystatechange";Array.isArray(X)||(X&&(an[0]=X.toString()),X=an);for(var ot=0;ot<X.length;ot++){var gt=we(b,X[ot],x||y.handleEvent,!1,y.h||y);if(!gt)break;y.g[gt.key]=gt}y=c.H?T(c.H):{},c.m?(c.u||(c.u="POST"),y["Content-Type"]="application/x-www-form-urlencoded",c.g.ea(c.A,c.u,c.m,y)):(c.u="GET",c.g.ea(c.A,c.u,null,y)),pn(),tl(c.i,c.u,c.A,c.l,c.R,c.m)}Rn.prototype.ca=function(c){c=c.target;const y=this.M;y&&Zn(c)==3?y.j():this.Y(c)},Rn.prototype.Y=function(c){try{if(c==this.g)t:{const He=Zn(this.g);var y=this.g.Ba();const tr=this.g.Z();if(!(3>He)&&(He!=3||this.g&&(this.h.h||this.g.oa()||ko(this.g)))){this.J||He!=4||y==7||(y==8||0>=tr?pn(3):pn(2)),Ar(this);var b=this.g.Z();this.X=b;e:if(Vo(this)){var x=ko(this.g);c="";var X=x.length,ot=Zn(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){on(this),Ti(this);var gt="";break e}this.h.i=new m.TextDecoder}for(y=0;y<X;y++)this.h.h=!0,c+=this.h.i.decode(x[y],{stream:!(ot&&y==X-1)});x.length=0,this.h.g+=c,this.C=0,gt=this.h.g}else gt=this.g.oa();if(this.o=b==200,Fc(this.i,this.u,this.A,this.l,this.R,He,b),this.o){if(this.T&&!this.K){e:{if(this.g){var qt,qe=this.g;if((qt=qe.g?qe.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!$(qt)){var Ht=qt;break e}}Ht=null}if(b=Ht)Er(this.i,this.l,b,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,as(this,b);else{this.o=!1,this.s=3,ge(12),on(this),Ti(this);break t}}if(this.P){b=!0;let un;for(;!this.J&&this.C<gt.length;)if(un=No(this,gt),un==Ys){He==4&&(this.s=4,ge(14),b=!1),Er(this.i,this.l,null,"[Incomplete Response]");break}else if(un==el){this.s=4,ge(15),Er(this.i,this.l,gt,"[Invalid Chunk]"),b=!1;break}else Er(this.i,this.l,un,null),as(this,un);if(Vo(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),He!=4||gt.length!=0||this.h.h||(this.s=1,ge(16),b=!1),this.o=this.o&&b,!b)Er(this.i,this.l,gt,"[Invalid Chunked Response]"),on(this),Ti(this);else if(0<gt.length&&!this.W){this.W=!0;var Je=this.j;Je.g==this&&Je.ba&&!Je.M&&(Je.j.info("Great, no buffering proxy detected. Bytes received: "+gt.length),ys(Je),Je.M=!0,ge(11))}}else Er(this.i,this.l,gt,null),as(this,gt);He==4&&on(this),this.o&&!this.J&&(He==4?jo(this.j,this):(this.o=!1,ss(this)))}else Kc(this.g),b==400&&0<gt.indexOf("Unknown SID")?(this.s=3,ge(12)):(this.s=0,ge(13)),on(this),Ti(this)}}}catch{}finally{}};function Vo(c){return c.g?c.u=="GET"&&c.L!=2&&c.j.Ca:!1}function No(c,y){var b=c.C,x=y.indexOf(`
`,b);return x==-1?Ys:(b=Number(y.substring(b,x)),isNaN(b)?el:(x+=1,x+b>y.length?Ys:(y=y.slice(x,x+b),c.C=x+b,y)))}Rn.prototype.cancel=function(){this.J=!0,on(this)};function ss(c){c.S=Date.now()+c.I,Mo(c,c.I)}function Mo(c,y){if(c.B!=null)throw Error("WatchDog timer not null");c.B=Me(v(c.ba,c),y)}function Ar(c){c.B&&(m.clearTimeout(c.B),c.B=null)}Rn.prototype.ba=function(){this.B=null;const c=Date.now();0<=c-this.S?(Oo(this.i,this.A),this.L!=2&&(pn(),ge(17)),on(this),this.s=2,Ti(this)):Mo(this,this.S-c)};function Ti(c){c.j.G==0||c.J||jo(c.j,c)}function on(c){Ar(c);var y=c.M;y&&typeof y.ma=="function"&&y.ma(),c.M=null,Ke(c.U),c.g&&(y=c.g,c.g=null,y.abort(),y.ma())}function as(c,y){try{var b=c.j;if(b.G!=0&&(b.g==c||nl(b.h,c))){if(!c.K&&nl(b.h,c)&&b.G==3){try{var x=b.Da.g.parse(y)}catch{x=null}if(Array.isArray(x)&&x.length==3){var X=x;if(X[0]==0){t:if(!b.u){if(b.g)if(b.g.F+3e3<c.F)sa(b),ia(b);else break t;hl(b),ge(18)}}else b.za=X[1],0<b.za-b.T&&37500>X[2]&&b.F&&b.v==0&&!b.C&&(b.C=Me(v(b.Za,b),6e3));if(1>=Ks(b.h)&&b.ca){try{b.ca()}catch{}b.ca=void 0}}else Wi(b,11)}else if((c.K||b.g==c)&&sa(b),!$(y))for(X=b.Da.g.parse(y),y=0;y<X.length;y++){let Ht=X[y];if(b.T=Ht[0],Ht=Ht[1],b.G==2)if(Ht[0]=="c"){b.K=Ht[1],b.ia=Ht[2];const Je=Ht[3];Je!=null&&(b.la=Je,b.j.info("VER="+b.la));const He=Ht[4];He!=null&&(b.Aa=He,b.j.info("SVER="+b.Aa));const tr=Ht[5];tr!=null&&typeof tr=="number"&&0<tr&&(x=1.5*tr,b.L=x,b.j.info("backChannelRequestTimeoutMs_="+x)),x=b;const un=c.g;if(un){const Di=un.g?un.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(Di){var ot=x.h;ot.g||Di.indexOf("spdy")==-1&&Di.indexOf("quic")==-1&&Di.indexOf("h2")==-1||(ot.j=ot.l,ot.g=new Set,ot.h&&(Zs(ot,ot.h),ot.h=null))}if(x.D){const ml=un.g?un.g.getResponseHeader("X-HTTP-Session-Id"):null;ml&&(x.ya=ml,se(x.I,x.D,ml))}}b.G=3,b.l&&b.l.ua(),b.ba&&(b.R=Date.now()-c.F,b.j.info("Handshake RTT: "+b.R+"ms")),x=b;var gt=c;if(x.qa=Go(x,x.J?x.ia:null,x.W),gt.K){wn(x.h,gt);var qt=gt,qe=x.L;qe&&(qt.I=qe),qt.B&&(Ar(qt),ss(qt)),x.g=gt}else qo(x);0<b.i.length&&ra(b)}else Ht[0]!="stop"&&Ht[0]!="close"||Wi(b,7);else b.G==3&&(Ht[0]=="stop"||Ht[0]=="close"?Ht[0]=="stop"?Wi(b,7):cl(b):Ht[0]!="noop"&&b.l&&b.l.ta(Ht),b.v=0)}}pn(4)}catch{}}var xo=class{constructor(c,y){this.g=c,this.map=y}};function Yi(c){this.l=c||10,m.PerformanceNavigationTiming?(c=m.performance.getEntriesByType("navigation"),c=0<c.length&&(c[0].nextHopProtocol=="hq"||c[0].nextHopProtocol=="h2")):c=!!(m.chrome&&m.chrome.loadTimes&&m.chrome.loadTimes()&&m.chrome.loadTimes().wasFetchedViaSpdy),this.j=c?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function Xs(c){return c.h?!0:c.g?c.g.size>=c.j:!1}function Ks(c){return c.h?1:c.g?c.g.size:0}function nl(c,y){return c.h?c.h==y:c.g?c.g.has(y):!1}function Zs(c,y){c.g?c.g.add(y):c.h=y}function wn(c,y){c.h&&c.h==y?c.h=null:c.g&&c.g.has(y)&&c.g.delete(y)}Yi.prototype.cancel=function(){if(this.i=il(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const c of this.g.values())c.cancel();this.g.clear()}};function il(c){if(c.h!=null)return c.i.concat(c.h.D);if(c.g!=null&&c.g.size!==0){let y=c.i;for(const b of c.g.values())y=y.concat(b.D);return y}return B(c.i)}function Gc(c){if(c.V&&typeof c.V=="function")return c.V();if(typeof Map<"u"&&c instanceof Map||typeof Set<"u"&&c instanceof Set)return Array.from(c.values());if(typeof c=="string")return c.split("");if(g(c)){for(var y=[],b=c.length,x=0;x<b;x++)y.push(c[x]);return y}y=[],b=0;for(x in c)y[b++]=c[x];return y}function $s(c){if(c.na&&typeof c.na=="function")return c.na();if(!c.V||typeof c.V!="function"){if(typeof Map<"u"&&c instanceof Map)return Array.from(c.keys());if(!(typeof Set<"u"&&c instanceof Set)){if(g(c)||typeof c=="string"){var y=[];c=c.length;for(var b=0;b<c;b++)y.push(b);return y}y=[],b=0;for(const x in c)y[b++]=x;return y}}}function rl(c,y){if(c.forEach&&typeof c.forEach=="function")c.forEach(y,void 0);else if(g(c)||typeof c=="string")Array.prototype.forEach.call(c,y,void 0);else for(var b=$s(c),x=Gc(c),X=x.length,ot=0;ot<X;ot++)y.call(void 0,x[ot],b&&b[ot],c)}var ls=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function Qc(c,y){if(c){c=c.split("&");for(var b=0;b<c.length;b++){var x=c[b].indexOf("="),X=null;if(0<=x){var ot=c[b].substring(0,x);X=c[b].substring(x+1)}else ot=c[b];y(ot,X?decodeURIComponent(X.replace(/\+/g," ")):"")}}}function xe(c){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,c instanceof xe){this.h=c.h,os(this,c.j),this.o=c.o,this.g=c.g,br(this,c.s),this.l=c.l;var y=c.i,b=new Ki;b.i=y.i,y.g&&(b.g=new Map(y.g),b.h=y.h),Xi(this,b),this.m=c.m}else c&&(y=String(c).match(ls))?(this.h=!1,os(this,y[1]||"",!0),this.o=Yn(y[2]||""),this.g=Yn(y[3]||"",!0),br(this,y[4]),this.l=Yn(y[5]||"",!0),Xi(this,y[6]||"",!0),this.m=Yn(y[7]||"")):(this.h=!1,this.i=new Ki(null,this.h))}xe.prototype.toString=function(){var c=[],y=this.j;y&&c.push(cs(y,sl,!0),":");var b=this.g;return(b||y=="file")&&(c.push("//"),(y=this.o)&&c.push(cs(y,sl,!0),"@"),c.push(encodeURIComponent(String(b)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),b=this.s,b!=null&&c.push(":",String(b))),(b=this.l)&&(this.g&&b.charAt(0)!="/"&&c.push("/"),c.push(cs(b,b.charAt(0)=="/"?Yc:al,!0))),(b=this.i.toString())&&c.push("?",b),(b=this.m)&&c.push("#",cs(b,Js)),c.join("")};function Pn(c){return new xe(c)}function os(c,y,b){c.j=b?Yn(y,!0):y,c.j&&(c.j=c.j.replace(/:$/,""))}function br(c,y){if(y){if(y=Number(y),isNaN(y)||0>y)throw Error("Bad port number "+y);c.s=y}else c.s=null}function Xi(c,y,b){y instanceof Ki?(c.i=y,Lo(c.i,c.h)):(b||(y=cs(y,Xc)),c.i=new Ki(y,c.h))}function se(c,y,b){c.i.set(y,b)}function us(c){return se(c,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),c}function Yn(c,y){return c?y?decodeURI(c.replace(/%25/g,"%2525")):decodeURIComponent(c):""}function cs(c,y,b){return typeof c=="string"?(c=encodeURI(c).replace(y,Uo),b&&(c=c.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),c):null}function Uo(c){return c=c.charCodeAt(0),"%"+(c>>4&15).toString(16)+(c&15).toString(16)}var sl=/[#\/\?@]/g,al=/[#\?:]/g,Yc=/[#\?]/g,Xc=/[#\?@]/g,Js=/#/g;function Ki(c,y){this.h=this.g=null,this.i=c||null,this.j=!!y}function Xn(c){c.g||(c.g=new Map,c.h=0,c.i&&Qc(c.i,function(y,b){c.add(decodeURIComponent(y.replace(/\+/g," ")),b)}))}a=Ki.prototype,a.add=function(c,y){Xn(this),this.i=null,c=Ai(this,c);var b=this.g.get(c);return b||this.g.set(c,b=[]),b.push(y),this.h+=1,this};function Zi(c,y){Xn(c),y=Ai(c,y),c.g.has(y)&&(c.i=null,c.h-=c.g.get(y).length,c.g.delete(y))}function $i(c,y){return Xn(c),y=Ai(c,y),c.g.has(y)}a.forEach=function(c,y){Xn(this),this.g.forEach(function(b,x){b.forEach(function(X){c.call(y,X,x,this)},this)},this)},a.na=function(){Xn(this);const c=Array.from(this.g.values()),y=Array.from(this.g.keys()),b=[];for(let x=0;x<y.length;x++){const X=c[x];for(let ot=0;ot<X.length;ot++)b.push(y[x])}return b},a.V=function(c){Xn(this);let y=[];if(typeof c=="string")$i(this,c)&&(y=y.concat(this.g.get(Ai(this,c))));else{c=Array.from(this.g.values());for(let b=0;b<c.length;b++)y=y.concat(c[b])}return y},a.set=function(c,y){return Xn(this),this.i=null,c=Ai(this,c),$i(this,c)&&(this.h-=this.g.get(c).length),this.g.set(c,[y]),this.h+=1,this},a.get=function(c,y){return c?(c=this.V(c),0<c.length?String(c[0]):y):y};function ll(c,y,b){Zi(c,y),0<b.length&&(c.i=null,c.g.set(Ai(c,y),B(b)),c.h+=b.length)}a.toString=function(){if(this.i)return this.i;if(!this.g)return"";const c=[],y=Array.from(this.g.keys());for(var b=0;b<y.length;b++){var x=y[b];const ot=encodeURIComponent(String(x)),gt=this.V(x);for(x=0;x<gt.length;x++){var X=ot;gt[x]!==""&&(X+="="+encodeURIComponent(String(gt[x]))),c.push(X)}}return this.i=c.join("&")};function Ai(c,y){return y=String(y),c.j&&(y=y.toLowerCase()),y}function Lo(c,y){y&&!c.j&&(Xn(c),c.i=null,c.g.forEach(function(b,x){var X=x.toLowerCase();x!=X&&(Zi(this,x),ll(this,X,b))},c)),c.j=y}function fs(c,y){const b=new Qn;if(m.Image){const x=new Image;x.onload=R(Kn,b,"TestLoadImage: loaded",!0,y,x),x.onerror=R(Kn,b,"TestLoadImage: error",!1,y,x),x.onabort=R(Kn,b,"TestLoadImage: abort",!1,y,x),x.ontimeout=R(Kn,b,"TestLoadImage: timeout",!1,y,x),m.setTimeout(function(){x.ontimeout&&x.ontimeout()},1e4),x.src=c}else y(!1)}function fi(c,y){const b=new Qn,x=new AbortController,X=setTimeout(()=>{x.abort(),Kn(b,"TestPingServer: timeout",!1,y)},1e4);fetch(c,{signal:x.signal}).then(ot=>{clearTimeout(X),ot.ok?Kn(b,"TestPingServer: ok",!0,y):Kn(b,"TestPingServer: server error",!1,y)}).catch(()=>{clearTimeout(X),Kn(b,"TestPingServer: error",!1,y)})}function Kn(c,y,b,x,X){try{X&&(X.onload=null,X.onerror=null,X.onabort=null,X.ontimeout=null),x(b)}catch{}}function hs(){this.g=new ji}function bi(c,y,b){const x=b||"";try{rl(c,function(X,ot){let gt=X;_(X)&&(gt=ze(X)),y.push(x+ot+"="+encodeURIComponent(gt))})}catch(X){throw y.push(x+"type="+encodeURIComponent("_badmap")),X}}function Sr(c){this.l=c.Ub||null,this.j=c.eb||!1}U(Sr,Fi),Sr.prototype.g=function(){return new Ji(this.l,this.j)},Sr.prototype.i=function(c){return function(){return c}}({});function Ji(c,y){Kt.call(this),this.D=c,this.o=y,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}U(Ji,Kt),a=Ji.prototype,a.open=function(c,y){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=c,this.A=y,this.readyState=1,Ri(this)},a.send=function(c){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const y={headers:this.u,method:this.B,credentials:this.m,cache:void 0};c&&(y.body=c),(this.D||m).fetch(new Request(this.A,y)).then(this.Sa.bind(this),this.ga.bind(this))},a.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,Si(this)),this.readyState=0},a.Sa=function(c){if(this.g&&(this.l=c,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=c.headers,this.readyState=2,Ri(this)),this.g&&(this.readyState=3,Ri(this),this.g)))if(this.responseType==="arraybuffer")c.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof m.ReadableStream<"u"&&"body"in c){if(this.j=c.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;ol(this)}else c.text().then(this.Ra.bind(this),this.ga.bind(this))};function ol(c){c.j.read().then(c.Pa.bind(c)).catch(c.ga.bind(c))}a.Pa=function(c){if(this.g){if(this.o&&c.value)this.response.push(c.value);else if(!this.o){var y=c.value?c.value:new Uint8Array(0);(y=this.v.decode(y,{stream:!c.done}))&&(this.response=this.responseText+=y)}c.done?Si(this):Ri(this),this.readyState==3&&ol(this)}},a.Ra=function(c){this.g&&(this.response=this.responseText=c,Si(this))},a.Qa=function(c){this.g&&(this.response=c,Si(this))},a.ga=function(){this.g&&Si(this)};function Si(c){c.readyState=4,c.l=null,c.j=null,c.v=null,Ri(c)}a.setRequestHeader=function(c,y){this.u.append(c,y)},a.getResponseHeader=function(c){return this.h&&this.h.get(c.toLowerCase())||""},a.getAllResponseHeaders=function(){if(!this.h)return"";const c=[],y=this.h.entries();for(var b=y.next();!b.done;)b=b.value,c.push(b[0]+": "+b[1]),b=y.next();return c.join(`\r
`)};function Ri(c){c.onreadystatechange&&c.onreadystatechange.call(c)}Object.defineProperty(Ji.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(c){this.m=c?"include":"same-origin"}});function ul(c){let y="";return q(c,function(b,x){y+=x,y+=":",y+=b,y+=`\r
`}),y}function $e(c,y,b){t:{for(x in b){var x=!1;break t}x=!0}x||(b=ul(b),typeof c=="string"?b!=null&&encodeURIComponent(String(b)):se(c,y,b))}function Jt(c){Kt.call(this),this.headers=new Map,this.o=c||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}U(Jt,Kt);var Ws=/^https?$/i,ds=["POST","PUT"];a=Jt.prototype,a.Ha=function(c){this.J=c},a.ea=function(c,y,b,x){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+c);y=y?y.toUpperCase():"GET",this.D=c,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():vi.g(),this.v=this.o?vr(this.o):vr(vi),this.g.onreadystatechange=v(this.Ea,this);try{this.B=!0,this.g.open(y,String(c),!0),this.B=!1}catch(ot){Po(this,ot);return}if(c=b||"",b=new Map(this.headers),x)if(Object.getPrototypeOf(x)===Object.prototype)for(var X in x)b.set(X,x[X]);else if(typeof x.keys=="function"&&typeof x.get=="function")for(const ot of x.keys())b.set(ot,x.get(ot));else throw Error("Unknown input type for opt_headers: "+String(x));x=Array.from(b.keys()).find(ot=>ot.toLowerCase()=="content-type"),X=m.FormData&&c instanceof m.FormData,!(0<=Array.prototype.indexOf.call(ds,y,void 0))||x||X||b.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[ot,gt]of b)this.g.setRequestHeader(ot,gt);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{ms(this),this.u=!0,this.g.send(c),this.u=!1}catch(ot){Po(this,ot)}};function Po(c,y){c.h=!1,c.g&&(c.j=!0,c.g.abort(),c.j=!1),c.l=y,c.m=5,ta(c),wi(c)}function ta(c){c.A||(c.A=!0,Bt(c,"complete"),Bt(c,"error"))}a.abort=function(c){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=c||7,Bt(this,"complete"),Bt(this,"abort"),wi(this))},a.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),wi(this,!0)),Jt.aa.N.call(this)},a.Ea=function(){this.s||(this.B||this.u||this.j?ea(this):this.bb())},a.bb=function(){ea(this)};function ea(c){if(c.h&&typeof h<"u"&&(!c.v[1]||Zn(c)!=4||c.Z()!=2)){if(c.u&&Zn(c)==4)me(c.Ea,0,c);else if(Bt(c,"readystatechange"),Zn(c)==4){c.h=!1;try{const gt=c.Z();t:switch(gt){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var y=!0;break t;default:y=!1}var b;if(!(b=y)){var x;if(x=gt===0){var X=String(c.D).match(ls)[1]||null;!X&&m.self&&m.self.location&&(X=m.self.location.protocol.slice(0,-1)),x=!Ws.test(X?X.toLowerCase():"")}b=x}if(b)Bt(c,"complete"),Bt(c,"success");else{c.m=6;try{var ot=2<Zn(c)?c.g.statusText:""}catch{ot=""}c.l=ot+" ["+c.Z()+"]",ta(c)}}finally{wi(c)}}}}function wi(c,y){if(c.g){ms(c);const b=c.g,x=c.v[0]?()=>{}:null;c.g=null,c.v=null,y||Bt(c,"ready");try{b.onreadystatechange=x}catch{}}}function ms(c){c.I&&(m.clearTimeout(c.I),c.I=null)}a.isActive=function(){return!!this.g};function Zn(c){return c.g?c.g.readyState:0}a.Z=function(){try{return 2<Zn(this)?this.g.status:-1}catch{return-1}},a.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},a.Oa=function(c){if(this.g){var y=this.g.responseText;return c&&y.indexOf(c)==0&&(y=y.substring(c.length)),_i(y)}};function ko(c){try{if(!c.g)return null;if("response"in c.g)return c.g.response;switch(c.H){case"":case"text":return c.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in c.g)return c.g.mozResponseArrayBuffer}return null}catch{return null}}function Kc(c){const y={};c=(c.g&&2<=Zn(c)&&c.g.getAllResponseHeaders()||"").split(`\r
`);for(let x=0;x<c.length;x++){if($(c[x]))continue;var b=O(c[x]);const X=b[0];if(b=b[1],typeof b!="string")continue;b=b.trim();const ot=y[X]||[];y[X]=ot,ot.push(b)}L(y,function(x){return x.join(", ")})}a.Ba=function(){return this.m},a.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function gs(c,y,b){return b&&b.internalChannelParams&&b.internalChannelParams[c]||y}function na(c){this.Aa=0,this.i=[],this.j=new Qn,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=gs("failFast",!1,c),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=gs("baseRetryDelayMs",5e3,c),this.cb=gs("retryDelaySeedMs",1e4,c),this.Wa=gs("forwardChannelMaxRetries",2,c),this.wa=gs("forwardChannelRequestTimeoutMs",2e4,c),this.pa=c&&c.xmlHttpFactory||void 0,this.Xa=c&&c.Tb||void 0,this.Ca=c&&c.useFetchStreams||!1,this.L=void 0,this.J=c&&c.supportsCrossDomainXhr||!1,this.K="",this.h=new Yi(c&&c.concurrentRequestLimit),this.Da=new hs,this.P=c&&c.fastHandshake||!1,this.O=c&&c.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=c&&c.Rb||!1,c&&c.xa&&this.j.xa(),c&&c.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&c&&c.detectBufferingProxy||!1,this.ja=void 0,c&&c.longPollingTimeout&&0<c.longPollingTimeout&&(this.ja=c.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}a=na.prototype,a.la=8,a.G=1,a.connect=function(c,y,b,x){ge(0),this.W=c,this.H=y||{},b&&x!==void 0&&(this.H.OSID=b,this.H.OAID=x),this.F=this.X,this.I=Go(this,null,this.W),ra(this)};function cl(c){if(zo(c),c.G==3){var y=c.U++,b=Pn(c.I);if(se(b,"SID",c.K),se(b,"RID",y),se(b,"TYPE","terminate"),ps(c,b),y=new Rn(c,c.j,y),y.L=2,y.v=us(Pn(b)),b=!1,m.navigator&&m.navigator.sendBeacon)try{b=m.navigator.sendBeacon(y.v.toString(),"")}catch{}!b&&m.Image&&(new Image().src=y.v,b=!0),b||(y.g=Qo(y.j,null),y.g.ea(y.v)),y.F=Date.now(),ss(y)}Fo(c)}function ia(c){c.g&&(ys(c),c.g.cancel(),c.g=null)}function zo(c){ia(c),c.u&&(m.clearTimeout(c.u),c.u=null),sa(c),c.h.cancel(),c.s&&(typeof c.s=="number"&&m.clearTimeout(c.s),c.s=null)}function ra(c){if(!Xs(c.h)&&!c.s){c.s=!0;var y=c.Ga;I||M(),nt||(I(),nt=!0),Y.add(y,c),c.B=0}}function Zc(c,y){return Ks(c.h)>=c.h.j-(c.s?1:0)?!1:c.s?(c.i=y.D.concat(c.i),!0):c.G==1||c.G==2||c.B>=(c.Va?0:c.Wa)?!1:(c.s=Me(v(c.Ga,c,y),dl(c,c.B)),c.B++,!0)}a.Ga=function(c){if(this.s)if(this.s=null,this.G==1){if(!c){this.U=Math.floor(1e5*Math.random()),c=this.U++;const X=new Rn(this,this.j,c);let ot=this.o;if(this.S&&(ot?(ot=T(ot),D(ot,this.S)):ot=this.S),this.m!==null||this.O||(X.H=ot,ot=null),this.P)t:{for(var y=0,b=0;b<this.i.length;b++){e:{var x=this.i[b];if("__data__"in x.map&&(x=x.map.__data__,typeof x=="string")){x=x.length;break e}x=void 0}if(x===void 0)break;if(y+=x,4096<y){y=b;break t}if(y===4096||b===this.i.length-1){y=b+1;break t}}y=1e3}else y=1e3;y=Bo(this,X,y),b=Pn(this.I),se(b,"RID",c),se(b,"CVER",22),this.D&&se(b,"X-HTTP-Session-Id",this.D),ps(this,b),ot&&(this.O?y="headers="+encodeURIComponent(String(ul(ot)))+"&"+y:this.m&&$e(b,this.m,ot)),Zs(this.h,X),this.Ua&&se(b,"TYPE","init"),this.P?(se(b,"$req",y),se(b,"SID","null"),X.T=!0,ci(X,b,null)):ci(X,b,y),this.G=2}}else this.G==3&&(c?fl(this,c):this.i.length==0||Xs(this.h)||fl(this))};function fl(c,y){var b;y?b=y.l:b=c.U++;const x=Pn(c.I);se(x,"SID",c.K),se(x,"RID",b),se(x,"AID",c.T),ps(c,x),c.m&&c.o&&$e(x,c.m,c.o),b=new Rn(c,c.j,b,c.B+1),c.m===null&&(b.H=c.o),y&&(c.i=y.D.concat(c.i)),y=Bo(c,b,1e3),b.I=Math.round(.5*c.wa)+Math.round(.5*c.wa*Math.random()),Zs(c.h,b),ci(b,x,y)}function ps(c,y){c.H&&q(c.H,function(b,x){se(y,x,b)}),c.l&&rl({},function(b,x){se(y,x,b)})}function Bo(c,y,b){b=Math.min(c.i.length,b);var x=c.l?v(c.l.Na,c.l,c):null;t:{var X=c.i;let ot=-1;for(;;){const gt=["count="+b];ot==-1?0<b?(ot=X[0].g,gt.push("ofs="+ot)):ot=0:gt.push("ofs="+ot);let qt=!0;for(let qe=0;qe<b;qe++){let Ht=X[qe].g;const Je=X[qe].map;if(Ht-=ot,0>Ht)ot=Math.max(0,X[qe].g-100),qt=!1;else try{bi(Je,gt,"req"+Ht+"_")}catch{x&&x(Je)}}if(qt){x=gt.join("&");break t}}}return c=c.i.splice(0,b),y.D=c,x}function qo(c){if(!c.g&&!c.u){c.Y=1;var y=c.Fa;I||M(),nt||(I(),nt=!0),Y.add(y,c),c.v=0}}function hl(c){return c.g||c.u||3<=c.v?!1:(c.Y++,c.u=Me(v(c.Fa,c),dl(c,c.v)),c.v++,!0)}a.Fa=function(){if(this.u=null,Ho(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var c=2*this.R;this.j.info("BP detection timer enabled: "+c),this.A=Me(v(this.ab,this),c)}},a.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,ge(10),ia(this),Ho(this))};function ys(c){c.A!=null&&(m.clearTimeout(c.A),c.A=null)}function Ho(c){c.g=new Rn(c,c.j,"rpc",c.Y),c.m===null&&(c.g.H=c.o),c.g.O=0;var y=Pn(c.qa);se(y,"RID","rpc"),se(y,"SID",c.K),se(y,"AID",c.T),se(y,"CI",c.F?"0":"1"),!c.F&&c.ja&&se(y,"TO",c.ja),se(y,"TYPE","xmlhttp"),ps(c,y),c.m&&c.o&&$e(y,c.m,c.o),c.L&&(c.g.I=c.L);var b=c.g;c=c.ia,b.L=1,b.v=us(Pn(y)),b.m=null,b.P=!0,Qi(b,c)}a.Za=function(){this.C!=null&&(this.C=null,ia(this),hl(this),ge(19))};function sa(c){c.C!=null&&(m.clearTimeout(c.C),c.C=null)}function jo(c,y){var b=null;if(c.g==y){sa(c),ys(c),c.g=null;var x=2}else if(nl(c.h,y))b=y.D,wn(c.h,y),x=1;else return;if(c.G!=0){if(y.o)if(x==1){b=y.m?y.m.length:0,y=Date.now()-y.F;var X=c.B;x=ui(),Bt(x,new Be(x,b)),ra(c)}else qo(c);else if(X=y.s,X==3||X==0&&0<y.X||!(x==1&&Zc(c,y)||x==2&&hl(c)))switch(b&&0<b.length&&(y=c.h,y.i=y.i.concat(b)),X){case 1:Wi(c,5);break;case 4:Wi(c,10);break;case 3:Wi(c,6);break;default:Wi(c,2)}}}function dl(c,y){let b=c.Ta+Math.floor(Math.random()*c.cb);return c.isActive()||(b*=2),b*y}function Wi(c,y){if(c.j.info("Error code "+y),y==2){var b=v(c.fb,c),x=c.Xa;const X=!x;x=new xe(x||"//www.google.com/images/cleardot.gif"),m.location&&m.location.protocol=="http"||os(x,"https"),us(x),X?fs(x.toString(),b):fi(x.toString(),b)}else ge(2);c.G=0,c.l&&c.l.sa(y),Fo(c),zo(c)}a.fb=function(c){c?(this.j.info("Successfully pinged google.com"),ge(2)):(this.j.info("Failed to ping google.com"),ge(1))};function Fo(c){if(c.G=0,c.ka=[],c.l){const y=il(c.h);(y.length!=0||c.i.length!=0)&&(k(c.ka,y),k(c.ka,c.i),c.h.i.length=0,B(c.i),c.i.length=0),c.l.ra()}}function Go(c,y,b){var x=b instanceof xe?Pn(b):new xe(b);if(x.g!="")y&&(x.g=y+"."+x.g),br(x,x.s);else{var X=m.location;x=X.protocol,y=y?y+"."+X.hostname:X.hostname,X=+X.port;var ot=new xe(null);x&&os(ot,x),y&&(ot.g=y),X&&br(ot,X),b&&(ot.l=b),x=ot}return b=c.D,y=c.ya,b&&y&&se(x,b,y),se(x,"VER",c.la),ps(c,x),x}function Qo(c,y,b){if(y&&!c.J)throw Error("Can't create secondary domain capable XhrIo object.");return y=c.Ca&&!c.pa?new Jt(new Sr({eb:b})):new Jt(c.pa),y.Ha(c.J),y}a.isActive=function(){return!!this.l&&this.l.isActive(this)};function Yo(){}a=Yo.prototype,a.ua=function(){},a.ta=function(){},a.sa=function(){},a.ra=function(){},a.isActive=function(){return!0},a.Na=function(){};function aa(){}aa.prototype.g=function(c,y){return new Cn(c,y)};function Cn(c,y){Kt.call(this),this.g=new na(y),this.l=c,this.h=y&&y.messageUrlParams||null,c=y&&y.messageHeaders||null,y&&y.clientProtocolHeaderRequired&&(c?c["X-Client-Protocol"]="webchannel":c={"X-Client-Protocol":"webchannel"}),this.g.o=c,c=y&&y.initMessageHeaders||null,y&&y.messageContentType&&(c?c["X-WebChannel-Content-Type"]=y.messageContentType:c={"X-WebChannel-Content-Type":y.messageContentType}),y&&y.va&&(c?c["X-WebChannel-Client-Profile"]=y.va:c={"X-WebChannel-Client-Profile":y.va}),this.g.S=c,(c=y&&y.Sb)&&!$(c)&&(this.g.m=c),this.v=y&&y.supportsCrossDomainXhr||!1,this.u=y&&y.sendRawJson||!1,(y=y&&y.httpSessionIdParam)&&!$(y)&&(this.g.D=y,c=this.h,c!==null&&y in c&&(c=this.h,y in c&&delete c[y])),this.j=new Ci(this)}U(Cn,Kt),Cn.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},Cn.prototype.close=function(){cl(this.g)},Cn.prototype.o=function(c){var y=this.g;if(typeof c=="string"){var b={};b.__data__=c,c=b}else this.u&&(b={},b.__data__=ze(c),c=b);y.i.push(new xo(y.Ya++,c)),y.G==3&&ra(y)},Cn.prototype.N=function(){this.g.l=null,delete this.j,cl(this.g),delete this.g,Cn.aa.N.call(this)};function Xo(c){Ze.call(this),c.__headers__&&(this.headers=c.__headers__,this.statusCode=c.__status__,delete c.__headers__,delete c.__status__);var y=c.__sm__;if(y){t:{for(const b in y){c=b;break t}c=void 0}(this.i=c)&&(c=this.i,y=y!==null&&c in y?y[c]:void 0),this.data=y}else this.data=c}U(Xo,Ze);function Ko(){On.call(this),this.status=1}U(Ko,On);function Ci(c){this.g=c}U(Ci,Yo),Ci.prototype.ua=function(){Bt(this.g,"a")},Ci.prototype.ta=function(c){Bt(this.g,new Xo(c))},Ci.prototype.sa=function(c){Bt(this.g,new Ko)},Ci.prototype.ra=function(){Bt(this.g,"b")},aa.prototype.createWebChannel=aa.prototype.g,Cn.prototype.send=Cn.prototype.o,Cn.prototype.open=Cn.prototype.m,Cn.prototype.close=Cn.prototype.close,v0=function(){return new aa},_0=function(){return ui()},y0=ln,fd={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},Tr.NO_ERROR=0,Tr.TIMEOUT=8,Tr.HTTP_ERROR=6,ic=Tr,Gi.COMPLETE="complete",p0=Gi,ai.EventType=li,li.OPEN="a",li.CLOSE="b",li.ERROR="c",li.MESSAGE="d",Kt.prototype.listen=Kt.prototype.K,io=ai,Jt.prototype.listenOnce=Jt.prototype.L,Jt.prototype.getLastError=Jt.prototype.Ka,Jt.prototype.getLastErrorCode=Jt.prototype.Ba,Jt.prototype.getStatus=Jt.prototype.Z,Jt.prototype.getResponseJson=Jt.prototype.Oa,Jt.prototype.getResponseText=Jt.prototype.oa,Jt.prototype.send=Jt.prototype.ea,Jt.prototype.setWithCredentials=Jt.prototype.Ha,g0=Jt}).apply(typeof Zu<"u"?Zu:typeof self<"u"?self:typeof window<"u"?window:{});const Gy="@firebase/firestore",Qy="4.9.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tn{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}Tn.UNAUTHENTICATED=new Tn(null),Tn.GOOGLE_CREDENTIALS=new Tn("google-credentials-uid"),Tn.FIRST_PARTY=new Tn("first-party-uid"),Tn.MOCK_USER=new Tn("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Za="12.0.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zs=new r0("@firebase/firestore");function Ua(){return zs.logLevel}function pt(a,...e){if(zs.logLevel<=Gt.DEBUG){const i=e.map(Vd);zs.debug(`Firestore (${Za}): ${a}`,...i)}}function yr(a,...e){if(zs.logLevel<=Gt.ERROR){const i=e.map(Vd);zs.error(`Firestore (${Za}): ${a}`,...i)}}function Fa(a,...e){if(zs.logLevel<=Gt.WARN){const i=e.map(Vd);zs.warn(`Firestore (${Za}): ${a}`,...i)}}function Vd(a){if(typeof a=="string")return a;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(i){return JSON.stringify(i)}(a)}catch{return a}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function St(a,e,i){let r="Unexpected state";typeof e=="string"?r=e:i=e,E0(a,r,i)}function E0(a,e,i){let r=`FIRESTORE (${Za}) INTERNAL ASSERTION FAILED: ${e} (ID: ${a.toString(16)})`;if(i!==void 0)try{r+=" CONTEXT: "+JSON.stringify(i)}catch{r+=" CONTEXT: "+i}throw yr(r),new Error(r)}function Wt(a,e,i,r){let l="Unexpected state";typeof i=="string"?l=i:r=i,a||E0(e,l,r)}function Dt(a,e){return a}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const dt={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class vt extends Hs{constructor(e,i){super(e,i),this.code=e,this.message=i,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ls{constructor(){this.promise=new Promise((e,i)=>{this.resolve=e,this.reject=i})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class T0{constructor(e,i){this.user=i,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class O2{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,i){e.enqueueRetryable(()=>i(Tn.UNAUTHENTICATED))}shutdown(){}}class V2{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,i){this.changeListener=i,e.enqueueRetryable(()=>i(this.token.user))}shutdown(){this.changeListener=null}}class N2{constructor(e){this.t=e,this.currentUser=Tn.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,i){Wt(this.o===void 0,42304);let r=this.i;const l=g=>this.i!==r?(r=this.i,i(g)):Promise.resolve();let u=new Ls;this.o=()=>{this.i++,this.currentUser=this.u(),u.resolve(),u=new Ls,e.enqueueRetryable(()=>l(this.currentUser))};const h=()=>{const g=u;e.enqueueRetryable(async()=>{await g.promise,await l(this.currentUser)})},m=g=>{pt("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=g,this.o&&(this.auth.addAuthTokenListener(this.o),h())};this.t.onInit(g=>m(g)),setTimeout(()=>{if(!this.auth){const g=this.t.getImmediate({optional:!0});g?m(g):(pt("FirebaseAuthCredentialsProvider","Auth not yet detected"),u.resolve(),u=new Ls)}},0),h()}getToken(){const e=this.i,i=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(i).then(r=>this.i!==e?(pt("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(Wt(typeof r.accessToken=="string",31837,{l:r}),new T0(r.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return Wt(e===null||typeof e=="string",2055,{h:e}),new Tn(e)}}class M2{constructor(e,i,r){this.P=e,this.T=i,this.I=r,this.type="FirstParty",this.user=Tn.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const e=this.R();return e&&this.A.set("Authorization",e),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class x2{constructor(e,i,r){this.P=e,this.T=i,this.I=r}getToken(){return Promise.resolve(new M2(this.P,this.T,this.I))}start(e,i){e.enqueueRetryable(()=>i(Tn.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class Yy{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class U2{constructor(e,i){this.V=i,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,o0(e)&&e.settings.appCheckToken&&(this.p=e.settings.appCheckToken)}start(e,i){Wt(this.o===void 0,3512);const r=u=>{u.error!=null&&pt("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${u.error.message}`);const h=u.token!==this.m;return this.m=u.token,pt("FirebaseAppCheckTokenProvider",`Received ${h?"new":"existing"} token.`),h?i(u.token):Promise.resolve()};this.o=u=>{e.enqueueRetryable(()=>r(u))};const l=u=>{pt("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=u,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit(u=>l(u)),setTimeout(()=>{if(!this.appCheck){const u=this.V.getImmediate({optional:!0});u?l(u):pt("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){if(this.p)return Promise.resolve(new Yy(this.p));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(i=>i?(Wt(typeof i.token=="string",44558,{tokenResult:i}),this.m=i.token,new Yy(i.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function L2(a){const e=typeof self<"u"&&(self.crypto||self.msCrypto),i=new Uint8Array(a);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(i);else for(let r=0;r<a;r++)i[r]=Math.floor(256*Math.random());return i}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nd{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",i=62*Math.floor(4.129032258064516);let r="";for(;r.length<20;){const l=L2(40);for(let u=0;u<l.length;++u)r.length<20&&l[u]<i&&(r+=e.charAt(l[u]%62))}return r}}function Pt(a,e){return a<e?-1:a>e?1:0}function hd(a,e){const i=Math.min(a.length,e.length);for(let r=0;r<i;r++){const l=a.charAt(r),u=e.charAt(r);if(l!==u)return Jh(l)===Jh(u)?Pt(l,u):Jh(l)?1:-1}return Pt(a.length,e.length)}const P2=55296,k2=57343;function Jh(a){const e=a.charCodeAt(0);return e>=P2&&e<=k2}function Ga(a,e,i){return a.length===e.length&&a.every((r,l)=>i(r,e[l]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Xy="__name__";class xi{constructor(e,i,r){i===void 0?i=0:i>e.length&&St(637,{offset:i,range:e.length}),r===void 0?r=e.length-i:r>e.length-i&&St(1746,{length:r,range:e.length-i}),this.segments=e,this.offset=i,this.len=r}get length(){return this.len}isEqual(e){return xi.comparator(this,e)===0}child(e){const i=this.segments.slice(this.offset,this.limit());return e instanceof xi?e.forEach(r=>{i.push(r)}):i.push(e),this.construct(i)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let i=0;i<this.length;i++)if(this.get(i)!==e.get(i))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let i=0;i<this.length;i++)if(this.get(i)!==e.get(i))return!1;return!0}forEach(e){for(let i=this.offset,r=this.limit();i<r;i++)e(this.segments[i])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,i){const r=Math.min(e.length,i.length);for(let l=0;l<r;l++){const u=xi.compareSegments(e.get(l),i.get(l));if(u!==0)return u}return Pt(e.length,i.length)}static compareSegments(e,i){const r=xi.isNumericId(e),l=xi.isNumericId(i);return r&&!l?-1:!r&&l?1:r&&l?xi.extractNumericId(e).compare(xi.extractNumericId(i)):hd(e,i)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return $r.fromString(e.substring(4,e.length-2))}}class ve extends xi{construct(e,i,r){return new ve(e,i,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const i=[];for(const r of e){if(r.indexOf("//")>=0)throw new vt(dt.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);i.push(...r.split("/").filter(l=>l.length>0))}return new ve(i)}static emptyPath(){return new ve([])}}const z2=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class mn extends xi{construct(e,i,r){return new mn(e,i,r)}static isValidIdentifier(e){return z2.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),mn.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===Xy}static keyField(){return new mn([Xy])}static fromServerFormat(e){const i=[];let r="",l=0;const u=()=>{if(r.length===0)throw new vt(dt.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);i.push(r),r=""};let h=!1;for(;l<e.length;){const m=e[l];if(m==="\\"){if(l+1===e.length)throw new vt(dt.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const g=e[l+1];if(g!=="\\"&&g!=="."&&g!=="`")throw new vt(dt.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=g,l+=2}else m==="`"?(h=!h,l++):m!=="."||h?(r+=m,l++):(u(),l++)}if(u(),h)throw new vt(dt.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new mn(i)}static emptyPath(){return new mn([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tt{constructor(e){this.path=e}static fromPath(e){return new Tt(ve.fromString(e))}static fromName(e){return new Tt(ve.fromString(e).popFirst(5))}static empty(){return new Tt(ve.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&ve.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,i){return ve.comparator(e.path,i.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new Tt(new ve(e.slice()))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function B2(a,e,i){if(!i)throw new vt(dt.INVALID_ARGUMENT,`Function ${a}() cannot be called with an empty ${e}.`)}function q2(a,e,i,r){if(e===!0&&r===!0)throw new vt(dt.INVALID_ARGUMENT,`${a} and ${i} cannot be used together.`)}function Ky(a){if(!Tt.isDocumentKey(a))throw new vt(dt.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${a} has ${a.length}.`)}function A0(a){return typeof a=="object"&&a!==null&&(Object.getPrototypeOf(a)===Object.prototype||Object.getPrototypeOf(a)===null)}function Md(a){if(a===void 0)return"undefined";if(a===null)return"null";if(typeof a=="string")return a.length>20&&(a=`${a.substring(0,20)}...`),JSON.stringify(a);if(typeof a=="number"||typeof a=="boolean")return""+a;if(typeof a=="object"){if(a instanceof Array)return"an array";{const e=function(r){return r.constructor?r.constructor.name:null}(a);return e?`a custom ${e} object`:"an object"}}return typeof a=="function"?"a function":St(12329,{type:typeof a})}function Ba(a,e){if("_delegate"in a&&(a=a._delegate),!(a instanceof e)){if(e.name===a.constructor.name)throw new vt(dt.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const i=Md(a);throw new vt(dt.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${i}`)}}return a}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ke(a,e){const i={typeString:a};return e&&(i.value=e),i}function So(a,e){if(!A0(a))throw new vt(dt.INVALID_ARGUMENT,"JSON must be an object");let i;for(const r in e)if(e[r]){const l=e[r].typeString,u="value"in e[r]?{value:e[r].value}:void 0;if(!(r in a)){i=`JSON missing required field: '${r}'`;break}const h=a[r];if(l&&typeof h!==l){i=`JSON field '${r}' must be a ${l}.`;break}if(u!==void 0&&h!==u.value){i=`Expected '${r}' field to equal '${u.value}'`;break}}if(i)throw new vt(dt.INVALID_ARGUMENT,i);return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Zy=-62135596800,$y=1e6;class de{static now(){return de.fromMillis(Date.now())}static fromDate(e){return de.fromMillis(e.getTime())}static fromMillis(e){const i=Math.floor(e/1e3),r=Math.floor((e-1e3*i)*$y);return new de(i,r)}constructor(e,i){if(this.seconds=e,this.nanoseconds=i,i<0)throw new vt(dt.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+i);if(i>=1e9)throw new vt(dt.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+i);if(e<Zy)throw new vt(dt.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new vt(dt.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/$y}_compareTo(e){return this.seconds===e.seconds?Pt(this.nanoseconds,e.nanoseconds):Pt(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:de._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(e){if(So(e,de._jsonSchema))return new de(e.seconds,e.nanoseconds)}valueOf(){const e=this.seconds-Zy;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}de._jsonSchemaVersion="firestore/timestamp/1.0",de._jsonSchema={type:ke("string",de._jsonSchemaVersion),seconds:ke("number"),nanoseconds:ke("number")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ct{static fromTimestamp(e){return new Ct(e)}static min(){return new Ct(new de(0,0))}static max(){return new Ct(new de(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const po=-1;function H2(a,e){const i=a.toTimestamp().seconds,r=a.toTimestamp().nanoseconds+1,l=Ct.fromTimestamp(r===1e9?new de(i+1,0):new de(i,r));return new Jr(l,Tt.empty(),e)}function j2(a){return new Jr(a.readTime,a.key,po)}class Jr{constructor(e,i,r){this.readTime=e,this.documentKey=i,this.largestBatchId=r}static min(){return new Jr(Ct.min(),Tt.empty(),po)}static max(){return new Jr(Ct.max(),Tt.empty(),po)}}function F2(a,e){let i=a.readTime.compareTo(e.readTime);return i!==0?i:(i=Tt.comparator(a.documentKey,e.documentKey),i!==0?i:Pt(a.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const G2="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class Q2{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function $a(a){if(a.code!==dt.FAILED_PRECONDITION||a.message!==G2)throw a;pt("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ht{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(i=>{this.isDone=!0,this.result=i,this.nextCallback&&this.nextCallback(i)},i=>{this.isDone=!0,this.error=i,this.catchCallback&&this.catchCallback(i)})}catch(e){return this.next(void 0,e)}next(e,i){return this.callbackAttached&&St(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(i,this.error):this.wrapSuccess(e,this.result):new ht((r,l)=>{this.nextCallback=u=>{this.wrapSuccess(e,u).next(r,l)},this.catchCallback=u=>{this.wrapFailure(i,u).next(r,l)}})}toPromise(){return new Promise((e,i)=>{this.next(e,i)})}wrapUserFunction(e){try{const i=e();return i instanceof ht?i:ht.resolve(i)}catch(i){return ht.reject(i)}}wrapSuccess(e,i){return e?this.wrapUserFunction(()=>e(i)):ht.resolve(i)}wrapFailure(e,i){return e?this.wrapUserFunction(()=>e(i)):ht.reject(i)}static resolve(e){return new ht((i,r)=>{i(e)})}static reject(e){return new ht((i,r)=>{r(e)})}static waitFor(e){return new ht((i,r)=>{let l=0,u=0,h=!1;e.forEach(m=>{++l,m.next(()=>{++u,h&&u===l&&i()},g=>r(g))}),h=!0,u===l&&i()})}static or(e){let i=ht.resolve(!1);for(const r of e)i=i.next(l=>l?ht.resolve(l):r());return i}static forEach(e,i){const r=[];return e.forEach((l,u)=>{r.push(i.call(this,l,u))}),this.waitFor(r)}static mapArray(e,i){return new ht((r,l)=>{const u=e.length,h=new Array(u);let m=0;for(let g=0;g<u;g++){const _=g;i(e[_]).next(p=>{h[_]=p,++m,m===u&&r(h)},p=>l(p))}})}static doWhile(e,i){return new ht((r,l)=>{const u=()=>{e()===!0?i().next(()=>{u()},l):r()};u()})}}function Y2(a){const e=a.match(/Android ([\d.]+)/i),i=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(i)}function Ja(a){return a.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Oc{constructor(e,i){this.previousValue=e,i&&(i.sequenceNumberHandler=r=>this.ae(r),this.ue=r=>i.writeSequenceNumber(r))}ae(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ue&&this.ue(e),e}}Oc.ce=-1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xd=-1;function Vc(a){return a==null}function dc(a){return a===0&&1/a==-1/0}function X2(a){return typeof a=="number"&&Number.isInteger(a)&&!dc(a)&&a<=Number.MAX_SAFE_INTEGER&&a>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const b0="";function K2(a){let e="";for(let i=0;i<a.length;i++)e.length>0&&(e=Jy(e)),e=Z2(a.get(i),e);return Jy(e)}function Z2(a,e){let i=e;const r=a.length;for(let l=0;l<r;l++){const u=a.charAt(l);switch(u){case"\0":i+="";break;case b0:i+="";break;default:i+=u}}return i}function Jy(a){return a+b0+""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Wy(a){let e=0;for(const i in a)Object.prototype.hasOwnProperty.call(a,i)&&e++;return e}function js(a,e){for(const i in a)Object.prototype.hasOwnProperty.call(a,i)&&e(i,a[i])}function S0(a){for(const e in a)if(Object.prototype.hasOwnProperty.call(a,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ee{constructor(e,i){this.comparator=e,this.root=i||dn.EMPTY}insert(e,i){return new Ee(this.comparator,this.root.insert(e,i,this.comparator).copy(null,null,dn.BLACK,null,null))}remove(e){return new Ee(this.comparator,this.root.remove(e,this.comparator).copy(null,null,dn.BLACK,null,null))}get(e){let i=this.root;for(;!i.isEmpty();){const r=this.comparator(e,i.key);if(r===0)return i.value;r<0?i=i.left:r>0&&(i=i.right)}return null}indexOf(e){let i=0,r=this.root;for(;!r.isEmpty();){const l=this.comparator(e,r.key);if(l===0)return i+r.left.size;l<0?r=r.left:(i+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((i,r)=>(e(i,r),!1))}toString(){const e=[];return this.inorderTraversal((i,r)=>(e.push(`${i}:${r}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new $u(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new $u(this.root,e,this.comparator,!1)}getReverseIterator(){return new $u(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new $u(this.root,e,this.comparator,!0)}}class $u{constructor(e,i,r,l){this.isReverse=l,this.nodeStack=[];let u=1;for(;!e.isEmpty();)if(u=i?r(e.key,i):1,i&&l&&(u*=-1),u<0)e=this.isReverse?e.left:e.right;else{if(u===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const i={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return i}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class dn{constructor(e,i,r,l,u){this.key=e,this.value=i,this.color=r??dn.RED,this.left=l??dn.EMPTY,this.right=u??dn.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,i,r,l,u){return new dn(e??this.key,i??this.value,r??this.color,l??this.left,u??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,i,r){let l=this;const u=r(e,l.key);return l=u<0?l.copy(null,null,null,l.left.insert(e,i,r),null):u===0?l.copy(null,i,null,null,null):l.copy(null,null,null,null,l.right.insert(e,i,r)),l.fixUp()}removeMin(){if(this.left.isEmpty())return dn.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,i){let r,l=this;if(i(e,l.key)<0)l.left.isEmpty()||l.left.isRed()||l.left.left.isRed()||(l=l.moveRedLeft()),l=l.copy(null,null,null,l.left.remove(e,i),null);else{if(l.left.isRed()&&(l=l.rotateRight()),l.right.isEmpty()||l.right.isRed()||l.right.left.isRed()||(l=l.moveRedRight()),i(e,l.key)===0){if(l.right.isEmpty())return dn.EMPTY;r=l.right.min(),l=l.copy(r.key,r.value,null,null,l.right.removeMin())}l=l.copy(null,null,null,null,l.right.remove(e,i))}return l.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,dn.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,dn.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),i=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,i)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw St(43730,{key:this.key,value:this.value});if(this.right.isRed())throw St(14113,{key:this.key,value:this.value});const e=this.left.check();if(e!==this.right.check())throw St(27949);return e+(this.isRed()?0:1)}}dn.EMPTY=null,dn.RED=!0,dn.BLACK=!1;dn.EMPTY=new class{constructor(){this.size=0}get key(){throw St(57766)}get value(){throw St(16141)}get color(){throw St(16727)}get left(){throw St(29726)}get right(){throw St(36894)}copy(e,i,r,l,u){return this}insert(e,i,r){return new dn(e,i)}remove(e,i){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qe{constructor(e){this.comparator=e,this.data=new Ee(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((i,r)=>(e(i),!1))}forEachInRange(e,i){const r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){const l=r.getNext();if(this.comparator(l.key,e[1])>=0)return;i(l.key)}}forEachWhile(e,i){let r;for(r=i!==void 0?this.data.getIteratorFrom(i):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){const i=this.data.getIteratorFrom(e);return i.hasNext()?i.getNext().key:null}getIterator(){return new t_(this.data.getIterator())}getIteratorFrom(e){return new t_(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let i=this;return i.size<e.size&&(i=e,e=this),e.forEach(r=>{i=i.add(r)}),i}isEqual(e){if(!(e instanceof Qe)||this.size!==e.size)return!1;const i=this.data.getIterator(),r=e.data.getIterator();for(;i.hasNext();){const l=i.getNext().key,u=r.getNext().key;if(this.comparator(l,u)!==0)return!1}return!0}toArray(){const e=[];return this.forEach(i=>{e.push(i)}),e}toString(){const e=[];return this.forEach(i=>e.push(i)),"SortedSet("+e.toString()+")"}copy(e){const i=new Qe(this.comparator);return i.data=e,i}}class t_{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yi{constructor(e){this.fields=e,e.sort(mn.comparator)}static empty(){return new yi([])}unionWith(e){let i=new Qe(mn.comparator);for(const r of this.fields)i=i.add(r);for(const r of e)i=i.add(r);return new yi(i.toArray())}covers(e){for(const i of this.fields)if(i.isPrefixOf(e))return!0;return!1}isEqual(e){return Ga(this.fields,e.fields,(i,r)=>i.isEqual(r))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class R0 extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gn{constructor(e){this.binaryString=e}static fromBase64String(e){const i=function(l){try{return atob(l)}catch(u){throw typeof DOMException<"u"&&u instanceof DOMException?new R0("Invalid base64 string: "+u):u}}(e);return new gn(i)}static fromUint8Array(e){const i=function(l){let u="";for(let h=0;h<l.length;++h)u+=String.fromCharCode(l[h]);return u}(e);return new gn(i)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(i){return btoa(i)}(this.binaryString)}toUint8Array(){return function(i){const r=new Uint8Array(i.length);for(let l=0;l<i.length;l++)r[l]=i.charCodeAt(l);return r}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Pt(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}gn.EMPTY_BYTE_STRING=new gn("");const $2=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Wr(a){if(Wt(!!a,39018),typeof a=="string"){let e=0;const i=$2.exec(a);if(Wt(!!i,46558,{timestamp:a}),i[1]){let l=i[1];l=(l+"000000000").substr(0,9),e=Number(l)}const r=new Date(a);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:Oe(a.seconds),nanos:Oe(a.nanos)}}function Oe(a){return typeof a=="number"?a:typeof a=="string"?Number(a):0}function ts(a){return typeof a=="string"?gn.fromBase64String(a):gn.fromUint8Array(a)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const w0="server_timestamp",C0="__type__",D0="__previous_value__",I0="__local_write_time__";function Ud(a){return(a?.mapValue?.fields||{})[C0]?.stringValue===w0}function Nc(a){const e=a.mapValue.fields[D0];return Ud(e)?Nc(e):e}function yo(a){const e=Wr(a.mapValue.fields[I0].timestampValue);return new de(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class J2{constructor(e,i,r,l,u,h,m,g,_,p){this.databaseId=e,this.appId=i,this.persistenceKey=r,this.host=l,this.ssl=u,this.forceLongPolling=h,this.autoDetectLongPolling=m,this.longPollingOptions=g,this.useFetchStreams=_,this.isUsingEmulator=p}}const mc="(default)";class _o{constructor(e,i){this.projectId=e,this.database=i||mc}static empty(){return new _o("","")}get isDefaultDatabase(){return this.database===mc}isEqual(e){return e instanceof _o&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const O0="__type__",W2="__max__",Ju={mapValue:{}},V0="__vector__",gc="value";function es(a){return"nullValue"in a?0:"booleanValue"in a?1:"integerValue"in a||"doubleValue"in a?2:"timestampValue"in a?3:"stringValue"in a?5:"bytesValue"in a?6:"referenceValue"in a?7:"geoPointValue"in a?8:"arrayValue"in a?9:"mapValue"in a?Ud(a)?4:eA(a)?9007199254740991:tA(a)?10:11:St(28295,{value:a})}function qi(a,e){if(a===e)return!0;const i=es(a);if(i!==es(e))return!1;switch(i){case 0:case 9007199254740991:return!0;case 1:return a.booleanValue===e.booleanValue;case 4:return yo(a).isEqual(yo(e));case 3:return function(l,u){if(typeof l.timestampValue=="string"&&typeof u.timestampValue=="string"&&l.timestampValue.length===u.timestampValue.length)return l.timestampValue===u.timestampValue;const h=Wr(l.timestampValue),m=Wr(u.timestampValue);return h.seconds===m.seconds&&h.nanos===m.nanos}(a,e);case 5:return a.stringValue===e.stringValue;case 6:return function(l,u){return ts(l.bytesValue).isEqual(ts(u.bytesValue))}(a,e);case 7:return a.referenceValue===e.referenceValue;case 8:return function(l,u){return Oe(l.geoPointValue.latitude)===Oe(u.geoPointValue.latitude)&&Oe(l.geoPointValue.longitude)===Oe(u.geoPointValue.longitude)}(a,e);case 2:return function(l,u){if("integerValue"in l&&"integerValue"in u)return Oe(l.integerValue)===Oe(u.integerValue);if("doubleValue"in l&&"doubleValue"in u){const h=Oe(l.doubleValue),m=Oe(u.doubleValue);return h===m?dc(h)===dc(m):isNaN(h)&&isNaN(m)}return!1}(a,e);case 9:return Ga(a.arrayValue.values||[],e.arrayValue.values||[],qi);case 10:case 11:return function(l,u){const h=l.mapValue.fields||{},m=u.mapValue.fields||{};if(Wy(h)!==Wy(m))return!1;for(const g in h)if(h.hasOwnProperty(g)&&(m[g]===void 0||!qi(h[g],m[g])))return!1;return!0}(a,e);default:return St(52216,{left:a})}}function vo(a,e){return(a.values||[]).find(i=>qi(i,e))!==void 0}function Qa(a,e){if(a===e)return 0;const i=es(a),r=es(e);if(i!==r)return Pt(i,r);switch(i){case 0:case 9007199254740991:return 0;case 1:return Pt(a.booleanValue,e.booleanValue);case 2:return function(u,h){const m=Oe(u.integerValue||u.doubleValue),g=Oe(h.integerValue||h.doubleValue);return m<g?-1:m>g?1:m===g?0:isNaN(m)?isNaN(g)?0:-1:1}(a,e);case 3:return e_(a.timestampValue,e.timestampValue);case 4:return e_(yo(a),yo(e));case 5:return hd(a.stringValue,e.stringValue);case 6:return function(u,h){const m=ts(u),g=ts(h);return m.compareTo(g)}(a.bytesValue,e.bytesValue);case 7:return function(u,h){const m=u.split("/"),g=h.split("/");for(let _=0;_<m.length&&_<g.length;_++){const p=Pt(m[_],g[_]);if(p!==0)return p}return Pt(m.length,g.length)}(a.referenceValue,e.referenceValue);case 8:return function(u,h){const m=Pt(Oe(u.latitude),Oe(h.latitude));return m!==0?m:Pt(Oe(u.longitude),Oe(h.longitude))}(a.geoPointValue,e.geoPointValue);case 9:return n_(a.arrayValue,e.arrayValue);case 10:return function(u,h){const m=u.fields||{},g=h.fields||{},_=m[gc]?.arrayValue,p=g[gc]?.arrayValue,E=Pt(_?.values?.length||0,p?.values?.length||0);return E!==0?E:n_(_,p)}(a.mapValue,e.mapValue);case 11:return function(u,h){if(u===Ju.mapValue&&h===Ju.mapValue)return 0;if(u===Ju.mapValue)return 1;if(h===Ju.mapValue)return-1;const m=u.fields||{},g=Object.keys(m),_=h.fields||{},p=Object.keys(_);g.sort(),p.sort();for(let E=0;E<g.length&&E<p.length;++E){const v=hd(g[E],p[E]);if(v!==0)return v;const R=Qa(m[g[E]],_[p[E]]);if(R!==0)return R}return Pt(g.length,p.length)}(a.mapValue,e.mapValue);default:throw St(23264,{he:i})}}function e_(a,e){if(typeof a=="string"&&typeof e=="string"&&a.length===e.length)return Pt(a,e);const i=Wr(a),r=Wr(e),l=Pt(i.seconds,r.seconds);return l!==0?l:Pt(i.nanos,r.nanos)}function n_(a,e){const i=a.values||[],r=e.values||[];for(let l=0;l<i.length&&l<r.length;++l){const u=Qa(i[l],r[l]);if(u)return u}return Pt(i.length,r.length)}function Ya(a){return dd(a)}function dd(a){return"nullValue"in a?"null":"booleanValue"in a?""+a.booleanValue:"integerValue"in a?""+a.integerValue:"doubleValue"in a?""+a.doubleValue:"timestampValue"in a?function(i){const r=Wr(i);return`time(${r.seconds},${r.nanos})`}(a.timestampValue):"stringValue"in a?a.stringValue:"bytesValue"in a?function(i){return ts(i).toBase64()}(a.bytesValue):"referenceValue"in a?function(i){return Tt.fromName(i).toString()}(a.referenceValue):"geoPointValue"in a?function(i){return`geo(${i.latitude},${i.longitude})`}(a.geoPointValue):"arrayValue"in a?function(i){let r="[",l=!0;for(const u of i.values||[])l?l=!1:r+=",",r+=dd(u);return r+"]"}(a.arrayValue):"mapValue"in a?function(i){const r=Object.keys(i.fields||{}).sort();let l="{",u=!0;for(const h of r)u?u=!1:l+=",",l+=`${h}:${dd(i.fields[h])}`;return l+"}"}(a.mapValue):St(61005,{value:a})}function rc(a){switch(es(a)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=Nc(a);return e?16+rc(e):16;case 5:return 2*a.stringValue.length;case 6:return ts(a.bytesValue).approximateByteSize();case 7:return a.referenceValue.length;case 9:return function(r){return(r.values||[]).reduce((l,u)=>l+rc(u),0)}(a.arrayValue);case 10:case 11:return function(r){let l=0;return js(r.fields,(u,h)=>{l+=u.length+rc(h)}),l}(a.mapValue);default:throw St(13486,{value:a})}}function md(a){return!!a&&"integerValue"in a}function Ld(a){return!!a&&"arrayValue"in a}function i_(a){return!!a&&"nullValue"in a}function r_(a){return!!a&&"doubleValue"in a&&isNaN(Number(a.doubleValue))}function sc(a){return!!a&&"mapValue"in a}function tA(a){return(a?.mapValue?.fields||{})[O0]?.stringValue===V0}function oo(a){if(a.geoPointValue)return{geoPointValue:{...a.geoPointValue}};if(a.timestampValue&&typeof a.timestampValue=="object")return{timestampValue:{...a.timestampValue}};if(a.mapValue){const e={mapValue:{fields:{}}};return js(a.mapValue.fields,(i,r)=>e.mapValue.fields[i]=oo(r)),e}if(a.arrayValue){const e={arrayValue:{values:[]}};for(let i=0;i<(a.arrayValue.values||[]).length;++i)e.arrayValue.values[i]=oo(a.arrayValue.values[i]);return e}return{...a}}function eA(a){return(((a.mapValue||{}).fields||{}).__type__||{}).stringValue===W2}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ri{constructor(e){this.value=e}static empty(){return new ri({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let i=this.value;for(let r=0;r<e.length-1;++r)if(i=(i.mapValue.fields||{})[e.get(r)],!sc(i))return null;return i=(i.mapValue.fields||{})[e.lastSegment()],i||null}}set(e,i){this.getFieldsMap(e.popLast())[e.lastSegment()]=oo(i)}setAll(e){let i=mn.emptyPath(),r={},l=[];e.forEach((h,m)=>{if(!i.isImmediateParentOf(m)){const g=this.getFieldsMap(i);this.applyChanges(g,r,l),r={},l=[],i=m.popLast()}h?r[m.lastSegment()]=oo(h):l.push(m.lastSegment())});const u=this.getFieldsMap(i);this.applyChanges(u,r,l)}delete(e){const i=this.field(e.popLast());sc(i)&&i.mapValue.fields&&delete i.mapValue.fields[e.lastSegment()]}isEqual(e){return qi(this.value,e.value)}getFieldsMap(e){let i=this.value;i.mapValue.fields||(i.mapValue={fields:{}});for(let r=0;r<e.length;++r){let l=i.mapValue.fields[e.get(r)];sc(l)&&l.mapValue.fields||(l={mapValue:{fields:{}}},i.mapValue.fields[e.get(r)]=l),i=l}return i.mapValue.fields}applyChanges(e,i,r){js(i,(l,u)=>e[l]=u);for(const l of r)delete e[l]}clone(){return new ri(oo(this.value))}}function N0(a){const e=[];return js(a.fields,(i,r)=>{const l=new mn([i]);if(sc(r)){const u=N0(r.mapValue).fields;if(u.length===0)e.push(l);else for(const h of u)e.push(l.child(h))}else e.push(l)}),new yi(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class An{constructor(e,i,r,l,u,h,m){this.key=e,this.documentType=i,this.version=r,this.readTime=l,this.createTime=u,this.data=h,this.documentState=m}static newInvalidDocument(e){return new An(e,0,Ct.min(),Ct.min(),Ct.min(),ri.empty(),0)}static newFoundDocument(e,i,r,l){return new An(e,1,i,Ct.min(),r,l,0)}static newNoDocument(e,i){return new An(e,2,i,Ct.min(),Ct.min(),ri.empty(),0)}static newUnknownDocument(e,i){return new An(e,3,i,Ct.min(),Ct.min(),ri.empty(),2)}convertToFoundDocument(e,i){return!this.createTime.isEqual(Ct.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=i,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=ri.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=ri.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Ct.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof An&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new An(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pc{constructor(e,i){this.position=e,this.inclusive=i}}function s_(a,e,i){let r=0;for(let l=0;l<a.position.length;l++){const u=e[l],h=a.position[l];if(u.field.isKeyField()?r=Tt.comparator(Tt.fromName(h.referenceValue),i.key):r=Qa(h,i.data.field(u.field)),u.dir==="desc"&&(r*=-1),r!==0)break}return r}function a_(a,e){if(a===null)return e===null;if(e===null||a.inclusive!==e.inclusive||a.position.length!==e.position.length)return!1;for(let i=0;i<a.position.length;i++)if(!qi(a.position[i],e.position[i]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yc{constructor(e,i="asc"){this.field=e,this.dir=i}}function nA(a,e){return a.dir===e.dir&&a.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class M0{}class Ge extends M0{constructor(e,i,r){super(),this.field=e,this.op=i,this.value=r}static create(e,i,r){return e.isKeyField()?i==="in"||i==="not-in"?this.createKeyFieldInFilter(e,i,r):new rA(e,i,r):i==="array-contains"?new lA(e,r):i==="in"?new oA(e,r):i==="not-in"?new uA(e,r):i==="array-contains-any"?new cA(e,r):new Ge(e,i,r)}static createKeyFieldInFilter(e,i,r){return i==="in"?new sA(e,r):new aA(e,r)}matches(e){const i=e.data.field(this.field);return this.op==="!="?i!==null&&i.nullValue===void 0&&this.matchesComparison(Qa(i,this.value)):i!==null&&es(this.value)===es(i)&&this.matchesComparison(Qa(i,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return St(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class Hi extends M0{constructor(e,i){super(),this.filters=e,this.op=i,this.Pe=null}static create(e,i){return new Hi(e,i)}matches(e){return x0(this)?this.filters.find(i=>!i.matches(e))===void 0:this.filters.find(i=>i.matches(e))!==void 0}getFlattenedFilters(){return this.Pe!==null||(this.Pe=this.filters.reduce((e,i)=>e.concat(i.getFlattenedFilters()),[])),this.Pe}getFilters(){return Object.assign([],this.filters)}}function x0(a){return a.op==="and"}function U0(a){return iA(a)&&x0(a)}function iA(a){for(const e of a.filters)if(e instanceof Hi)return!1;return!0}function gd(a){if(a instanceof Ge)return a.field.canonicalString()+a.op.toString()+Ya(a.value);if(U0(a))return a.filters.map(e=>gd(e)).join(",");{const e=a.filters.map(i=>gd(i)).join(",");return`${a.op}(${e})`}}function L0(a,e){return a instanceof Ge?function(r,l){return l instanceof Ge&&r.op===l.op&&r.field.isEqual(l.field)&&qi(r.value,l.value)}(a,e):a instanceof Hi?function(r,l){return l instanceof Hi&&r.op===l.op&&r.filters.length===l.filters.length?r.filters.reduce((u,h,m)=>u&&L0(h,l.filters[m]),!0):!1}(a,e):void St(19439)}function P0(a){return a instanceof Ge?function(i){return`${i.field.canonicalString()} ${i.op} ${Ya(i.value)}`}(a):a instanceof Hi?function(i){return i.op.toString()+" {"+i.getFilters().map(P0).join(" ,")+"}"}(a):"Filter"}class rA extends Ge{constructor(e,i,r){super(e,i,r),this.key=Tt.fromName(r.referenceValue)}matches(e){const i=Tt.comparator(e.key,this.key);return this.matchesComparison(i)}}class sA extends Ge{constructor(e,i){super(e,"in",i),this.keys=k0("in",i)}matches(e){return this.keys.some(i=>i.isEqual(e.key))}}class aA extends Ge{constructor(e,i){super(e,"not-in",i),this.keys=k0("not-in",i)}matches(e){return!this.keys.some(i=>i.isEqual(e.key))}}function k0(a,e){return(e.arrayValue?.values||[]).map(i=>Tt.fromName(i.referenceValue))}class lA extends Ge{constructor(e,i){super(e,"array-contains",i)}matches(e){const i=e.data.field(this.field);return Ld(i)&&vo(i.arrayValue,this.value)}}class oA extends Ge{constructor(e,i){super(e,"in",i)}matches(e){const i=e.data.field(this.field);return i!==null&&vo(this.value.arrayValue,i)}}class uA extends Ge{constructor(e,i){super(e,"not-in",i)}matches(e){if(vo(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const i=e.data.field(this.field);return i!==null&&i.nullValue===void 0&&!vo(this.value.arrayValue,i)}}class cA extends Ge{constructor(e,i){super(e,"array-contains-any",i)}matches(e){const i=e.data.field(this.field);return!(!Ld(i)||!i.arrayValue.values)&&i.arrayValue.values.some(r=>vo(this.value.arrayValue,r))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fA{constructor(e,i=null,r=[],l=[],u=null,h=null,m=null){this.path=e,this.collectionGroup=i,this.orderBy=r,this.filters=l,this.limit=u,this.startAt=h,this.endAt=m,this.Te=null}}function l_(a,e=null,i=[],r=[],l=null,u=null,h=null){return new fA(a,e,i,r,l,u,h)}function Pd(a){const e=Dt(a);if(e.Te===null){let i=e.path.canonicalString();e.collectionGroup!==null&&(i+="|cg:"+e.collectionGroup),i+="|f:",i+=e.filters.map(r=>gd(r)).join(","),i+="|ob:",i+=e.orderBy.map(r=>function(u){return u.field.canonicalString()+u.dir}(r)).join(","),Vc(e.limit)||(i+="|l:",i+=e.limit),e.startAt&&(i+="|lb:",i+=e.startAt.inclusive?"b:":"a:",i+=e.startAt.position.map(r=>Ya(r)).join(",")),e.endAt&&(i+="|ub:",i+=e.endAt.inclusive?"a:":"b:",i+=e.endAt.position.map(r=>Ya(r)).join(",")),e.Te=i}return e.Te}function kd(a,e){if(a.limit!==e.limit||a.orderBy.length!==e.orderBy.length)return!1;for(let i=0;i<a.orderBy.length;i++)if(!nA(a.orderBy[i],e.orderBy[i]))return!1;if(a.filters.length!==e.filters.length)return!1;for(let i=0;i<a.filters.length;i++)if(!L0(a.filters[i],e.filters[i]))return!1;return a.collectionGroup===e.collectionGroup&&!!a.path.isEqual(e.path)&&!!a_(a.startAt,e.startAt)&&a_(a.endAt,e.endAt)}function pd(a){return Tt.isDocumentKey(a.path)&&a.collectionGroup===null&&a.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mc{constructor(e,i=null,r=[],l=[],u=null,h="F",m=null,g=null){this.path=e,this.collectionGroup=i,this.explicitOrderBy=r,this.filters=l,this.limit=u,this.limitType=h,this.startAt=m,this.endAt=g,this.Ie=null,this.Ee=null,this.de=null,this.startAt,this.endAt}}function hA(a,e,i,r,l,u,h,m){return new Mc(a,e,i,r,l,u,h,m)}function zd(a){return new Mc(a)}function o_(a){return a.filters.length===0&&a.limit===null&&a.startAt==null&&a.endAt==null&&(a.explicitOrderBy.length===0||a.explicitOrderBy.length===1&&a.explicitOrderBy[0].field.isKeyField())}function dA(a){return a.collectionGroup!==null}function uo(a){const e=Dt(a);if(e.Ie===null){e.Ie=[];const i=new Set;for(const u of e.explicitOrderBy)e.Ie.push(u),i.add(u.field.canonicalString());const r=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(h){let m=new Qe(mn.comparator);return h.filters.forEach(g=>{g.getFlattenedFilters().forEach(_=>{_.isInequality()&&(m=m.add(_.field))})}),m})(e).forEach(u=>{i.has(u.canonicalString())||u.isKeyField()||e.Ie.push(new yc(u,r))}),i.has(mn.keyField().canonicalString())||e.Ie.push(new yc(mn.keyField(),r))}return e.Ie}function Pi(a){const e=Dt(a);return e.Ee||(e.Ee=mA(e,uo(a))),e.Ee}function mA(a,e){if(a.limitType==="F")return l_(a.path,a.collectionGroup,e,a.filters,a.limit,a.startAt,a.endAt);{e=e.map(l=>{const u=l.dir==="desc"?"asc":"desc";return new yc(l.field,u)});const i=a.endAt?new pc(a.endAt.position,a.endAt.inclusive):null,r=a.startAt?new pc(a.startAt.position,a.startAt.inclusive):null;return l_(a.path,a.collectionGroup,e,a.filters,a.limit,i,r)}}function yd(a,e,i){return new Mc(a.path,a.collectionGroup,a.explicitOrderBy.slice(),a.filters.slice(),e,i,a.startAt,a.endAt)}function xc(a,e){return kd(Pi(a),Pi(e))&&a.limitType===e.limitType}function z0(a){return`${Pd(Pi(a))}|lt:${a.limitType}`}function La(a){return`Query(target=${function(i){let r=i.path.canonicalString();return i.collectionGroup!==null&&(r+=" collectionGroup="+i.collectionGroup),i.filters.length>0&&(r+=`, filters: [${i.filters.map(l=>P0(l)).join(", ")}]`),Vc(i.limit)||(r+=", limit: "+i.limit),i.orderBy.length>0&&(r+=`, orderBy: [${i.orderBy.map(l=>function(h){return`${h.field.canonicalString()} (${h.dir})`}(l)).join(", ")}]`),i.startAt&&(r+=", startAt: ",r+=i.startAt.inclusive?"b:":"a:",r+=i.startAt.position.map(l=>Ya(l)).join(",")),i.endAt&&(r+=", endAt: ",r+=i.endAt.inclusive?"a:":"b:",r+=i.endAt.position.map(l=>Ya(l)).join(",")),`Target(${r})`}(Pi(a))}; limitType=${a.limitType})`}function Uc(a,e){return e.isFoundDocument()&&function(r,l){const u=l.key.path;return r.collectionGroup!==null?l.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(u):Tt.isDocumentKey(r.path)?r.path.isEqual(u):r.path.isImmediateParentOf(u)}(a,e)&&function(r,l){for(const u of uo(r))if(!u.field.isKeyField()&&l.data.field(u.field)===null)return!1;return!0}(a,e)&&function(r,l){for(const u of r.filters)if(!u.matches(l))return!1;return!0}(a,e)&&function(r,l){return!(r.startAt&&!function(h,m,g){const _=s_(h,m,g);return h.inclusive?_<=0:_<0}(r.startAt,uo(r),l)||r.endAt&&!function(h,m,g){const _=s_(h,m,g);return h.inclusive?_>=0:_>0}(r.endAt,uo(r),l))}(a,e)}function gA(a){return a.collectionGroup||(a.path.length%2==1?a.path.lastSegment():a.path.get(a.path.length-2))}function B0(a){return(e,i)=>{let r=!1;for(const l of uo(a)){const u=pA(l,e,i);if(u!==0)return u;r=r||l.field.isKeyField()}return 0}}function pA(a,e,i){const r=a.field.isKeyField()?Tt.comparator(e.key,i.key):function(u,h,m){const g=h.data.field(u),_=m.data.field(u);return g!==null&&_!==null?Qa(g,_):St(42886)}(a.field,e,i);switch(a.dir){case"asc":return r;case"desc":return-1*r;default:return St(19790,{direction:a.dir})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fs{constructor(e,i){this.mapKeyFn=e,this.equalsFn=i,this.inner={},this.innerSize=0}get(e){const i=this.mapKeyFn(e),r=this.inner[i];if(r!==void 0){for(const[l,u]of r)if(this.equalsFn(l,e))return u}}has(e){return this.get(e)!==void 0}set(e,i){const r=this.mapKeyFn(e),l=this.inner[r];if(l===void 0)return this.inner[r]=[[e,i]],void this.innerSize++;for(let u=0;u<l.length;u++)if(this.equalsFn(l[u][0],e))return void(l[u]=[e,i]);l.push([e,i]),this.innerSize++}delete(e){const i=this.mapKeyFn(e),r=this.inner[i];if(r===void 0)return!1;for(let l=0;l<r.length;l++)if(this.equalsFn(r[l][0],e))return r.length===1?delete this.inner[i]:r.splice(l,1),this.innerSize--,!0;return!1}forEach(e){js(this.inner,(i,r)=>{for(const[l,u]of r)e(l,u)})}isEmpty(){return S0(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yA=new Ee(Tt.comparator);function _r(){return yA}const q0=new Ee(Tt.comparator);function ro(...a){let e=q0;for(const i of a)e=e.insert(i.key,i);return e}function H0(a){let e=q0;return a.forEach((i,r)=>e=e.insert(i,r.overlayedDocument)),e}function xs(){return co()}function j0(){return co()}function co(){return new Fs(a=>a.toString(),(a,e)=>a.isEqual(e))}const _A=new Ee(Tt.comparator),vA=new Qe(Tt.comparator);function kt(...a){let e=vA;for(const i of a)e=e.add(i);return e}const EA=new Qe(Pt);function TA(){return EA}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Bd(a,e){if(a.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:dc(e)?"-0":e}}function F0(a){return{integerValue:""+a}}function AA(a,e){return X2(e)?F0(e):Bd(a,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Lc{constructor(){this._=void 0}}function bA(a,e,i){return a instanceof _c?function(l,u){const h={fields:{[C0]:{stringValue:w0},[I0]:{timestampValue:{seconds:l.seconds,nanos:l.nanoseconds}}}};return u&&Ud(u)&&(u=Nc(u)),u&&(h.fields[D0]=u),{mapValue:h}}(i,e):a instanceof Eo?Q0(a,e):a instanceof To?Y0(a,e):function(l,u){const h=G0(l,u),m=u_(h)+u_(l.Ae);return md(h)&&md(l.Ae)?F0(m):Bd(l.serializer,m)}(a,e)}function SA(a,e,i){return a instanceof Eo?Q0(a,e):a instanceof To?Y0(a,e):i}function G0(a,e){return a instanceof vc?function(r){return md(r)||function(u){return!!u&&"doubleValue"in u}(r)}(e)?e:{integerValue:0}:null}class _c extends Lc{}class Eo extends Lc{constructor(e){super(),this.elements=e}}function Q0(a,e){const i=X0(e);for(const r of a.elements)i.some(l=>qi(l,r))||i.push(r);return{arrayValue:{values:i}}}class To extends Lc{constructor(e){super(),this.elements=e}}function Y0(a,e){let i=X0(e);for(const r of a.elements)i=i.filter(l=>!qi(l,r));return{arrayValue:{values:i}}}class vc extends Lc{constructor(e,i){super(),this.serializer=e,this.Ae=i}}function u_(a){return Oe(a.integerValue||a.doubleValue)}function X0(a){return Ld(a)&&a.arrayValue.values?a.arrayValue.values.slice():[]}function RA(a,e){return a.field.isEqual(e.field)&&function(r,l){return r instanceof Eo&&l instanceof Eo||r instanceof To&&l instanceof To?Ga(r.elements,l.elements,qi):r instanceof vc&&l instanceof vc?qi(r.Ae,l.Ae):r instanceof _c&&l instanceof _c}(a.transform,e.transform)}class wA{constructor(e,i){this.version=e,this.transformResults=i}}class mr{constructor(e,i){this.updateTime=e,this.exists=i}static none(){return new mr}static exists(e){return new mr(void 0,e)}static updateTime(e){return new mr(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function ac(a,e){return a.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(a.updateTime):a.exists===void 0||a.exists===e.isFoundDocument()}class Pc{}function K0(a,e){if(!a.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return a.isNoDocument()?new $0(a.key,mr.none()):new Ro(a.key,a.data,mr.none());{const i=a.data,r=ri.empty();let l=new Qe(mn.comparator);for(let u of e.fields)if(!l.has(u)){let h=i.field(u);h===null&&u.length>1&&(u=u.popLast(),h=i.field(u)),h===null?r.delete(u):r.set(u,h),l=l.add(u)}return new Gs(a.key,r,new yi(l.toArray()),mr.none())}}function CA(a,e,i){a instanceof Ro?function(l,u,h){const m=l.value.clone(),g=f_(l.fieldTransforms,u,h.transformResults);m.setAll(g),u.convertToFoundDocument(h.version,m).setHasCommittedMutations()}(a,e,i):a instanceof Gs?function(l,u,h){if(!ac(l.precondition,u))return void u.convertToUnknownDocument(h.version);const m=f_(l.fieldTransforms,u,h.transformResults),g=u.data;g.setAll(Z0(l)),g.setAll(m),u.convertToFoundDocument(h.version,g).setHasCommittedMutations()}(a,e,i):function(l,u,h){u.convertToNoDocument(h.version).setHasCommittedMutations()}(0,e,i)}function fo(a,e,i,r){return a instanceof Ro?function(u,h,m,g){if(!ac(u.precondition,h))return m;const _=u.value.clone(),p=h_(u.fieldTransforms,g,h);return _.setAll(p),h.convertToFoundDocument(h.version,_).setHasLocalMutations(),null}(a,e,i,r):a instanceof Gs?function(u,h,m,g){if(!ac(u.precondition,h))return m;const _=h_(u.fieldTransforms,g,h),p=h.data;return p.setAll(Z0(u)),p.setAll(_),h.convertToFoundDocument(h.version,p).setHasLocalMutations(),m===null?null:m.unionWith(u.fieldMask.fields).unionWith(u.fieldTransforms.map(E=>E.field))}(a,e,i,r):function(u,h,m){return ac(u.precondition,h)?(h.convertToNoDocument(h.version).setHasLocalMutations(),null):m}(a,e,i)}function DA(a,e){let i=null;for(const r of a.fieldTransforms){const l=e.data.field(r.field),u=G0(r.transform,l||null);u!=null&&(i===null&&(i=ri.empty()),i.set(r.field,u))}return i||null}function c_(a,e){return a.type===e.type&&!!a.key.isEqual(e.key)&&!!a.precondition.isEqual(e.precondition)&&!!function(r,l){return r===void 0&&l===void 0||!(!r||!l)&&Ga(r,l,(u,h)=>RA(u,h))}(a.fieldTransforms,e.fieldTransforms)&&(a.type===0?a.value.isEqual(e.value):a.type!==1||a.data.isEqual(e.data)&&a.fieldMask.isEqual(e.fieldMask))}class Ro extends Pc{constructor(e,i,r,l=[]){super(),this.key=e,this.value=i,this.precondition=r,this.fieldTransforms=l,this.type=0}getFieldMask(){return null}}class Gs extends Pc{constructor(e,i,r,l,u=[]){super(),this.key=e,this.data=i,this.fieldMask=r,this.precondition=l,this.fieldTransforms=u,this.type=1}getFieldMask(){return this.fieldMask}}function Z0(a){const e=new Map;return a.fieldMask.fields.forEach(i=>{if(!i.isEmpty()){const r=a.data.field(i);e.set(i,r)}}),e}function f_(a,e,i){const r=new Map;Wt(a.length===i.length,32656,{Re:i.length,Ve:a.length});for(let l=0;l<i.length;l++){const u=a[l],h=u.transform,m=e.data.field(u.field);r.set(u.field,SA(h,m,i[l]))}return r}function h_(a,e,i){const r=new Map;for(const l of a){const u=l.transform,h=i.data.field(l.field);r.set(l.field,bA(u,h,e))}return r}class $0 extends Pc{constructor(e,i){super(),this.key=e,this.precondition=i,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class IA extends Pc{constructor(e,i){super(),this.key=e,this.precondition=i,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class OA{constructor(e,i,r,l){this.batchId=e,this.localWriteTime=i,this.baseMutations=r,this.mutations=l}applyToRemoteDocument(e,i){const r=i.mutationResults;for(let l=0;l<this.mutations.length;l++){const u=this.mutations[l];u.key.isEqual(e.key)&&CA(u,e,r[l])}}applyToLocalView(e,i){for(const r of this.baseMutations)r.key.isEqual(e.key)&&(i=fo(r,e,i,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(e.key)&&(i=fo(r,e,i,this.localWriteTime));return i}applyToLocalDocumentSet(e,i){const r=j0();return this.mutations.forEach(l=>{const u=e.get(l.key),h=u.overlayedDocument;let m=this.applyToLocalView(h,u.mutatedFields);m=i.has(l.key)?null:m;const g=K0(h,m);g!==null&&r.set(l.key,g),h.isValidDocument()||h.convertToNoDocument(Ct.min())}),r}keys(){return this.mutations.reduce((e,i)=>e.add(i.key),kt())}isEqual(e){return this.batchId===e.batchId&&Ga(this.mutations,e.mutations,(i,r)=>c_(i,r))&&Ga(this.baseMutations,e.baseMutations,(i,r)=>c_(i,r))}}class qd{constructor(e,i,r,l){this.batch=e,this.commitVersion=i,this.mutationResults=r,this.docVersions=l}static from(e,i,r){Wt(e.mutations.length===r.length,58842,{me:e.mutations.length,fe:r.length});let l=function(){return _A}();const u=e.mutations;for(let h=0;h<u.length;h++)l=l.insert(u[h].key,r[h].version);return new qd(e,i,r,l)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class VA{constructor(e,i){this.largestBatchId=e,this.mutation=i}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class NA{constructor(e,i){this.count=e,this.unchangedNames=i}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Pe,Ft;function MA(a){switch(a){case dt.OK:return St(64938);case dt.CANCELLED:case dt.UNKNOWN:case dt.DEADLINE_EXCEEDED:case dt.RESOURCE_EXHAUSTED:case dt.INTERNAL:case dt.UNAVAILABLE:case dt.UNAUTHENTICATED:return!1;case dt.INVALID_ARGUMENT:case dt.NOT_FOUND:case dt.ALREADY_EXISTS:case dt.PERMISSION_DENIED:case dt.FAILED_PRECONDITION:case dt.ABORTED:case dt.OUT_OF_RANGE:case dt.UNIMPLEMENTED:case dt.DATA_LOSS:return!0;default:return St(15467,{code:a})}}function J0(a){if(a===void 0)return yr("GRPC error has no .code"),dt.UNKNOWN;switch(a){case Pe.OK:return dt.OK;case Pe.CANCELLED:return dt.CANCELLED;case Pe.UNKNOWN:return dt.UNKNOWN;case Pe.DEADLINE_EXCEEDED:return dt.DEADLINE_EXCEEDED;case Pe.RESOURCE_EXHAUSTED:return dt.RESOURCE_EXHAUSTED;case Pe.INTERNAL:return dt.INTERNAL;case Pe.UNAVAILABLE:return dt.UNAVAILABLE;case Pe.UNAUTHENTICATED:return dt.UNAUTHENTICATED;case Pe.INVALID_ARGUMENT:return dt.INVALID_ARGUMENT;case Pe.NOT_FOUND:return dt.NOT_FOUND;case Pe.ALREADY_EXISTS:return dt.ALREADY_EXISTS;case Pe.PERMISSION_DENIED:return dt.PERMISSION_DENIED;case Pe.FAILED_PRECONDITION:return dt.FAILED_PRECONDITION;case Pe.ABORTED:return dt.ABORTED;case Pe.OUT_OF_RANGE:return dt.OUT_OF_RANGE;case Pe.UNIMPLEMENTED:return dt.UNIMPLEMENTED;case Pe.DATA_LOSS:return dt.DATA_LOSS;default:return St(39323,{code:a})}}(Ft=Pe||(Pe={}))[Ft.OK=0]="OK",Ft[Ft.CANCELLED=1]="CANCELLED",Ft[Ft.UNKNOWN=2]="UNKNOWN",Ft[Ft.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Ft[Ft.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Ft[Ft.NOT_FOUND=5]="NOT_FOUND",Ft[Ft.ALREADY_EXISTS=6]="ALREADY_EXISTS",Ft[Ft.PERMISSION_DENIED=7]="PERMISSION_DENIED",Ft[Ft.UNAUTHENTICATED=16]="UNAUTHENTICATED",Ft[Ft.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Ft[Ft.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Ft[Ft.ABORTED=10]="ABORTED",Ft[Ft.OUT_OF_RANGE=11]="OUT_OF_RANGE",Ft[Ft.UNIMPLEMENTED=12]="UNIMPLEMENTED",Ft[Ft.INTERNAL=13]="INTERNAL",Ft[Ft.UNAVAILABLE=14]="UNAVAILABLE",Ft[Ft.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function xA(){return new TextEncoder}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const UA=new $r([4294967295,4294967295],0);function d_(a){const e=xA().encode(a),i=new m0;return i.update(e),new Uint8Array(i.digest())}function m_(a){const e=new DataView(a.buffer),i=e.getUint32(0,!0),r=e.getUint32(4,!0),l=e.getUint32(8,!0),u=e.getUint32(12,!0);return[new $r([i,r],0),new $r([l,u],0)]}class Hd{constructor(e,i,r){if(this.bitmap=e,this.padding=i,this.hashCount=r,i<0||i>=8)throw new so(`Invalid padding: ${i}`);if(r<0)throw new so(`Invalid hash count: ${r}`);if(e.length>0&&this.hashCount===0)throw new so(`Invalid hash count: ${r}`);if(e.length===0&&i!==0)throw new so(`Invalid padding when bitmap length is 0: ${i}`);this.ge=8*e.length-i,this.pe=$r.fromNumber(this.ge)}ye(e,i,r){let l=e.add(i.multiply($r.fromNumber(r)));return l.compare(UA)===1&&(l=new $r([l.getBits(0),l.getBits(1)],0)),l.modulo(this.pe).toNumber()}we(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.ge===0)return!1;const i=d_(e),[r,l]=m_(i);for(let u=0;u<this.hashCount;u++){const h=this.ye(r,l,u);if(!this.we(h))return!1}return!0}static create(e,i,r){const l=e%8==0?0:8-e%8,u=new Uint8Array(Math.ceil(e/8)),h=new Hd(u,l,i);return r.forEach(m=>h.insert(m)),h}insert(e){if(this.ge===0)return;const i=d_(e),[r,l]=m_(i);for(let u=0;u<this.hashCount;u++){const h=this.ye(r,l,u);this.Se(h)}}Se(e){const i=Math.floor(e/8),r=e%8;this.bitmap[i]|=1<<r}}class so extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kc{constructor(e,i,r,l,u){this.snapshotVersion=e,this.targetChanges=i,this.targetMismatches=r,this.documentUpdates=l,this.resolvedLimboDocuments=u}static createSynthesizedRemoteEventForCurrentChange(e,i,r){const l=new Map;return l.set(e,wo.createSynthesizedTargetChangeForCurrentChange(e,i,r)),new kc(Ct.min(),l,new Ee(Pt),_r(),kt())}}class wo{constructor(e,i,r,l,u){this.resumeToken=e,this.current=i,this.addedDocuments=r,this.modifiedDocuments=l,this.removedDocuments=u}static createSynthesizedTargetChangeForCurrentChange(e,i,r){return new wo(r,i,kt(),kt(),kt())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lc{constructor(e,i,r,l){this.be=e,this.removedTargetIds=i,this.key=r,this.De=l}}class W0{constructor(e,i){this.targetId=e,this.Ce=i}}class t1{constructor(e,i,r=gn.EMPTY_BYTE_STRING,l=null){this.state=e,this.targetIds=i,this.resumeToken=r,this.cause=l}}class g_{constructor(){this.ve=0,this.Fe=p_(),this.Me=gn.EMPTY_BYTE_STRING,this.xe=!1,this.Oe=!0}get current(){return this.xe}get resumeToken(){return this.Me}get Ne(){return this.ve!==0}get Be(){return this.Oe}Le(e){e.approximateByteSize()>0&&(this.Oe=!0,this.Me=e)}ke(){let e=kt(),i=kt(),r=kt();return this.Fe.forEach((l,u)=>{switch(u){case 0:e=e.add(l);break;case 2:i=i.add(l);break;case 1:r=r.add(l);break;default:St(38017,{changeType:u})}}),new wo(this.Me,this.xe,e,i,r)}qe(){this.Oe=!1,this.Fe=p_()}Qe(e,i){this.Oe=!0,this.Fe=this.Fe.insert(e,i)}$e(e){this.Oe=!0,this.Fe=this.Fe.remove(e)}Ue(){this.ve+=1}Ke(){this.ve-=1,Wt(this.ve>=0,3241,{ve:this.ve})}We(){this.Oe=!0,this.xe=!0}}class LA{constructor(e){this.Ge=e,this.ze=new Map,this.je=_r(),this.Je=Wu(),this.He=Wu(),this.Ye=new Ee(Pt)}Ze(e){for(const i of e.be)e.De&&e.De.isFoundDocument()?this.Xe(i,e.De):this.et(i,e.key,e.De);for(const i of e.removedTargetIds)this.et(i,e.key,e.De)}tt(e){this.forEachTarget(e,i=>{const r=this.nt(i);switch(e.state){case 0:this.rt(i)&&r.Le(e.resumeToken);break;case 1:r.Ke(),r.Ne||r.qe(),r.Le(e.resumeToken);break;case 2:r.Ke(),r.Ne||this.removeTarget(i);break;case 3:this.rt(i)&&(r.We(),r.Le(e.resumeToken));break;case 4:this.rt(i)&&(this.it(i),r.Le(e.resumeToken));break;default:St(56790,{state:e.state})}})}forEachTarget(e,i){e.targetIds.length>0?e.targetIds.forEach(i):this.ze.forEach((r,l)=>{this.rt(l)&&i(l)})}st(e){const i=e.targetId,r=e.Ce.count,l=this.ot(i);if(l){const u=l.target;if(pd(u))if(r===0){const h=new Tt(u.path);this.et(i,h,An.newNoDocument(h,Ct.min()))}else Wt(r===1,20013,{expectedCount:r});else{const h=this._t(i);if(h!==r){const m=this.ut(e),g=m?this.ct(m,e,h):1;if(g!==0){this.it(i);const _=g===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ye=this.Ye.insert(i,_)}}}}}ut(e){const i=e.Ce.unchangedNames;if(!i||!i.bits)return null;const{bits:{bitmap:r="",padding:l=0},hashCount:u=0}=i;let h,m;try{h=ts(r).toUint8Array()}catch(g){if(g instanceof R0)return Fa("Decoding the base64 bloom filter in existence filter failed ("+g.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw g}try{m=new Hd(h,l,u)}catch(g){return Fa(g instanceof so?"BloomFilter error: ":"Applying bloom filter failed: ",g),null}return m.ge===0?null:m}ct(e,i,r){return i.Ce.count===r-this.Pt(e,i.targetId)?0:2}Pt(e,i){const r=this.Ge.getRemoteKeysForTarget(i);let l=0;return r.forEach(u=>{const h=this.Ge.ht(),m=`projects/${h.projectId}/databases/${h.database}/documents/${u.path.canonicalString()}`;e.mightContain(m)||(this.et(i,u,null),l++)}),l}Tt(e){const i=new Map;this.ze.forEach((u,h)=>{const m=this.ot(h);if(m){if(u.current&&pd(m.target)){const g=new Tt(m.target.path);this.It(g).has(h)||this.Et(h,g)||this.et(h,g,An.newNoDocument(g,e))}u.Be&&(i.set(h,u.ke()),u.qe())}});let r=kt();this.He.forEach((u,h)=>{let m=!0;h.forEachWhile(g=>{const _=this.ot(g);return!_||_.purpose==="TargetPurposeLimboResolution"||(m=!1,!1)}),m&&(r=r.add(u))}),this.je.forEach((u,h)=>h.setReadTime(e));const l=new kc(e,i,this.Ye,this.je,r);return this.je=_r(),this.Je=Wu(),this.He=Wu(),this.Ye=new Ee(Pt),l}Xe(e,i){if(!this.rt(e))return;const r=this.Et(e,i.key)?2:0;this.nt(e).Qe(i.key,r),this.je=this.je.insert(i.key,i),this.Je=this.Je.insert(i.key,this.It(i.key).add(e)),this.He=this.He.insert(i.key,this.dt(i.key).add(e))}et(e,i,r){if(!this.rt(e))return;const l=this.nt(e);this.Et(e,i)?l.Qe(i,1):l.$e(i),this.He=this.He.insert(i,this.dt(i).delete(e)),this.He=this.He.insert(i,this.dt(i).add(e)),r&&(this.je=this.je.insert(i,r))}removeTarget(e){this.ze.delete(e)}_t(e){const i=this.nt(e).ke();return this.Ge.getRemoteKeysForTarget(e).size+i.addedDocuments.size-i.removedDocuments.size}Ue(e){this.nt(e).Ue()}nt(e){let i=this.ze.get(e);return i||(i=new g_,this.ze.set(e,i)),i}dt(e){let i=this.He.get(e);return i||(i=new Qe(Pt),this.He=this.He.insert(e,i)),i}It(e){let i=this.Je.get(e);return i||(i=new Qe(Pt),this.Je=this.Je.insert(e,i)),i}rt(e){const i=this.ot(e)!==null;return i||pt("WatchChangeAggregator","Detected inactive target",e),i}ot(e){const i=this.ze.get(e);return i&&i.Ne?null:this.Ge.At(e)}it(e){this.ze.set(e,new g_),this.Ge.getRemoteKeysForTarget(e).forEach(i=>{this.et(e,i,null)})}Et(e,i){return this.Ge.getRemoteKeysForTarget(e).has(i)}}function Wu(){return new Ee(Tt.comparator)}function p_(){return new Ee(Tt.comparator)}const PA={asc:"ASCENDING",desc:"DESCENDING"},kA={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},zA={and:"AND",or:"OR"};class BA{constructor(e,i){this.databaseId=e,this.useProto3Json=i}}function _d(a,e){return a.useProto3Json||Vc(e)?e:{value:e}}function Ec(a,e){return a.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function e1(a,e){return a.useProto3Json?e.toBase64():e.toUint8Array()}function qA(a,e){return Ec(a,e.toTimestamp())}function ki(a){return Wt(!!a,49232),Ct.fromTimestamp(function(i){const r=Wr(i);return new de(r.seconds,r.nanos)}(a))}function jd(a,e){return vd(a,e).canonicalString()}function vd(a,e){const i=function(l){return new ve(["projects",l.projectId,"databases",l.database])}(a).child("documents");return e===void 0?i:i.child(e)}function n1(a){const e=ve.fromString(a);return Wt(l1(e),10190,{key:e.toString()}),e}function Ed(a,e){return jd(a.databaseId,e.path)}function Wh(a,e){const i=n1(e);if(i.get(1)!==a.databaseId.projectId)throw new vt(dt.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+i.get(1)+" vs "+a.databaseId.projectId);if(i.get(3)!==a.databaseId.database)throw new vt(dt.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+i.get(3)+" vs "+a.databaseId.database);return new Tt(r1(i))}function i1(a,e){return jd(a.databaseId,e)}function HA(a){const e=n1(a);return e.length===4?ve.emptyPath():r1(e)}function Td(a){return new ve(["projects",a.databaseId.projectId,"databases",a.databaseId.database]).canonicalString()}function r1(a){return Wt(a.length>4&&a.get(4)==="documents",29091,{key:a.toString()}),a.popFirst(5)}function y_(a,e,i){return{name:Ed(a,e),fields:i.value.mapValue.fields}}function jA(a,e){let i;if("targetChange"in e){e.targetChange;const r=function(_){return _==="NO_CHANGE"?0:_==="ADD"?1:_==="REMOVE"?2:_==="CURRENT"?3:_==="RESET"?4:St(39313,{state:_})}(e.targetChange.targetChangeType||"NO_CHANGE"),l=e.targetChange.targetIds||[],u=function(_,p){return _.useProto3Json?(Wt(p===void 0||typeof p=="string",58123),gn.fromBase64String(p||"")):(Wt(p===void 0||p instanceof Buffer||p instanceof Uint8Array,16193),gn.fromUint8Array(p||new Uint8Array))}(a,e.targetChange.resumeToken),h=e.targetChange.cause,m=h&&function(_){const p=_.code===void 0?dt.UNKNOWN:J0(_.code);return new vt(p,_.message||"")}(h);i=new t1(r,l,u,m||null)}else if("documentChange"in e){e.documentChange;const r=e.documentChange;r.document,r.document.name,r.document.updateTime;const l=Wh(a,r.document.name),u=ki(r.document.updateTime),h=r.document.createTime?ki(r.document.createTime):Ct.min(),m=new ri({mapValue:{fields:r.document.fields}}),g=An.newFoundDocument(l,u,h,m),_=r.targetIds||[],p=r.removedTargetIds||[];i=new lc(_,p,g.key,g)}else if("documentDelete"in e){e.documentDelete;const r=e.documentDelete;r.document;const l=Wh(a,r.document),u=r.readTime?ki(r.readTime):Ct.min(),h=An.newNoDocument(l,u),m=r.removedTargetIds||[];i=new lc([],m,h.key,h)}else if("documentRemove"in e){e.documentRemove;const r=e.documentRemove;r.document;const l=Wh(a,r.document),u=r.removedTargetIds||[];i=new lc([],u,l,null)}else{if(!("filter"in e))return St(11601,{Rt:e});{e.filter;const r=e.filter;r.targetId;const{count:l=0,unchangedNames:u}=r,h=new NA(l,u),m=r.targetId;i=new W0(m,h)}}return i}function FA(a,e){let i;if(e instanceof Ro)i={update:y_(a,e.key,e.value)};else if(e instanceof $0)i={delete:Ed(a,e.key)};else if(e instanceof Gs)i={update:y_(a,e.key,e.data),updateMask:WA(e.fieldMask)};else{if(!(e instanceof IA))return St(16599,{Vt:e.type});i={verify:Ed(a,e.key)}}return e.fieldTransforms.length>0&&(i.updateTransforms=e.fieldTransforms.map(r=>function(u,h){const m=h.transform;if(m instanceof _c)return{fieldPath:h.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(m instanceof Eo)return{fieldPath:h.field.canonicalString(),appendMissingElements:{values:m.elements}};if(m instanceof To)return{fieldPath:h.field.canonicalString(),removeAllFromArray:{values:m.elements}};if(m instanceof vc)return{fieldPath:h.field.canonicalString(),increment:m.Ae};throw St(20930,{transform:h.transform})}(0,r))),e.precondition.isNone||(i.currentDocument=function(l,u){return u.updateTime!==void 0?{updateTime:qA(l,u.updateTime)}:u.exists!==void 0?{exists:u.exists}:St(27497)}(a,e.precondition)),i}function GA(a,e){return a&&a.length>0?(Wt(e!==void 0,14353),a.map(i=>function(l,u){let h=l.updateTime?ki(l.updateTime):ki(u);return h.isEqual(Ct.min())&&(h=ki(u)),new wA(h,l.transformResults||[])}(i,e))):[]}function QA(a,e){return{documents:[i1(a,e.path)]}}function YA(a,e){const i={structuredQuery:{}},r=e.path;let l;e.collectionGroup!==null?(l=r,i.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(l=r.popLast(),i.structuredQuery.from=[{collectionId:r.lastSegment()}]),i.parent=i1(a,l);const u=function(_){if(_.length!==0)return a1(Hi.create(_,"and"))}(e.filters);u&&(i.structuredQuery.where=u);const h=function(_){if(_.length!==0)return _.map(p=>function(v){return{field:Pa(v.field),direction:ZA(v.dir)}}(p))}(e.orderBy);h&&(i.structuredQuery.orderBy=h);const m=_d(a,e.limit);return m!==null&&(i.structuredQuery.limit=m),e.startAt&&(i.structuredQuery.startAt=function(_){return{before:_.inclusive,values:_.position}}(e.startAt)),e.endAt&&(i.structuredQuery.endAt=function(_){return{before:!_.inclusive,values:_.position}}(e.endAt)),{ft:i,parent:l}}function XA(a){let e=HA(a.parent);const i=a.structuredQuery,r=i.from?i.from.length:0;let l=null;if(r>0){Wt(r===1,65062);const p=i.from[0];p.allDescendants?l=p.collectionId:e=e.child(p.collectionId)}let u=[];i.where&&(u=function(E){const v=s1(E);return v instanceof Hi&&U0(v)?v.getFilters():[v]}(i.where));let h=[];i.orderBy&&(h=function(E){return E.map(v=>function(U){return new yc(ka(U.field),function(k){switch(k){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(U.direction))}(v))}(i.orderBy));let m=null;i.limit&&(m=function(E){let v;return v=typeof E=="object"?E.value:E,Vc(v)?null:v}(i.limit));let g=null;i.startAt&&(g=function(E){const v=!!E.before,R=E.values||[];return new pc(R,v)}(i.startAt));let _=null;return i.endAt&&(_=function(E){const v=!E.before,R=E.values||[];return new pc(R,v)}(i.endAt)),hA(e,l,h,u,m,"F",g,_)}function KA(a,e){const i=function(l){switch(l){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return St(28987,{purpose:l})}}(e.purpose);return i==null?null:{"goog-listen-tags":i}}function s1(a){return a.unaryFilter!==void 0?function(i){switch(i.unaryFilter.op){case"IS_NAN":const r=ka(i.unaryFilter.field);return Ge.create(r,"==",{doubleValue:NaN});case"IS_NULL":const l=ka(i.unaryFilter.field);return Ge.create(l,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const u=ka(i.unaryFilter.field);return Ge.create(u,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const h=ka(i.unaryFilter.field);return Ge.create(h,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return St(61313);default:return St(60726)}}(a):a.fieldFilter!==void 0?function(i){return Ge.create(ka(i.fieldFilter.field),function(l){switch(l){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return St(58110);default:return St(50506)}}(i.fieldFilter.op),i.fieldFilter.value)}(a):a.compositeFilter!==void 0?function(i){return Hi.create(i.compositeFilter.filters.map(r=>s1(r)),function(l){switch(l){case"AND":return"and";case"OR":return"or";default:return St(1026)}}(i.compositeFilter.op))}(a):St(30097,{filter:a})}function ZA(a){return PA[a]}function $A(a){return kA[a]}function JA(a){return zA[a]}function Pa(a){return{fieldPath:a.canonicalString()}}function ka(a){return mn.fromServerFormat(a.fieldPath)}function a1(a){return a instanceof Ge?function(i){if(i.op==="=="){if(r_(i.value))return{unaryFilter:{field:Pa(i.field),op:"IS_NAN"}};if(i_(i.value))return{unaryFilter:{field:Pa(i.field),op:"IS_NULL"}}}else if(i.op==="!="){if(r_(i.value))return{unaryFilter:{field:Pa(i.field),op:"IS_NOT_NAN"}};if(i_(i.value))return{unaryFilter:{field:Pa(i.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Pa(i.field),op:$A(i.op),value:i.value}}}(a):a instanceof Hi?function(i){const r=i.getFilters().map(l=>a1(l));return r.length===1?r[0]:{compositeFilter:{op:JA(i.op),filters:r}}}(a):St(54877,{filter:a})}function WA(a){const e=[];return a.fields.forEach(i=>e.push(i.canonicalString())),{fieldPaths:e}}function l1(a){return a.length>=4&&a.get(0)==="projects"&&a.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yr{constructor(e,i,r,l,u=Ct.min(),h=Ct.min(),m=gn.EMPTY_BYTE_STRING,g=null){this.target=e,this.targetId=i,this.purpose=r,this.sequenceNumber=l,this.snapshotVersion=u,this.lastLimboFreeSnapshotVersion=h,this.resumeToken=m,this.expectedCount=g}withSequenceNumber(e){return new Yr(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,i){return new Yr(this.target,this.targetId,this.purpose,this.sequenceNumber,i,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new Yr(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new Yr(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tb{constructor(e){this.yt=e}}function eb(a){const e=XA({parent:a.parent,structuredQuery:a.structuredQuery});return a.limitType==="LAST"?yd(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nb{constructor(){this.Cn=new ib}addToCollectionParentIndex(e,i){return this.Cn.add(i),ht.resolve()}getCollectionParents(e,i){return ht.resolve(this.Cn.getEntries(i))}addFieldIndex(e,i){return ht.resolve()}deleteFieldIndex(e,i){return ht.resolve()}deleteAllFieldIndexes(e){return ht.resolve()}createTargetIndexes(e,i){return ht.resolve()}getDocumentsMatchingTarget(e,i){return ht.resolve(null)}getIndexType(e,i){return ht.resolve(0)}getFieldIndexes(e,i){return ht.resolve([])}getNextCollectionGroupToUpdate(e){return ht.resolve(null)}getMinOffset(e,i){return ht.resolve(Jr.min())}getMinOffsetFromCollectionGroup(e,i){return ht.resolve(Jr.min())}updateCollectionGroup(e,i,r){return ht.resolve()}updateIndexEntries(e,i){return ht.resolve()}}class ib{constructor(){this.index={}}add(e){const i=e.lastSegment(),r=e.popLast(),l=this.index[i]||new Qe(ve.comparator),u=!l.has(r);return this.index[i]=l.add(r),u}has(e){const i=e.lastSegment(),r=e.popLast(),l=this.index[i];return l&&l.has(r)}getEntries(e){return(this.index[e]||new Qe(ve.comparator)).toArray()}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const __={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},o1=41943040;class Un{static withCacheSize(e){return new Un(e,Un.DEFAULT_COLLECTION_PERCENTILE,Un.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,i,r){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=i,this.maximumSequenceNumbersToCollect=r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Un.DEFAULT_COLLECTION_PERCENTILE=10,Un.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,Un.DEFAULT=new Un(o1,Un.DEFAULT_COLLECTION_PERCENTILE,Un.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),Un.DISABLED=new Un(-1,0,0);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xa{constructor(e){this.ar=e}next(){return this.ar+=2,this.ar}static ur(){return new Xa(0)}static cr(){return new Xa(-1)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const v_="LruGarbageCollector",rb=1048576;function E_([a,e],[i,r]){const l=Pt(a,i);return l===0?Pt(e,r):l}class sb{constructor(e){this.Ir=e,this.buffer=new Qe(E_),this.Er=0}dr(){return++this.Er}Ar(e){const i=[e,this.dr()];if(this.buffer.size<this.Ir)this.buffer=this.buffer.add(i);else{const r=this.buffer.last();E_(i,r)<0&&(this.buffer=this.buffer.delete(r).add(i))}}get maxValue(){return this.buffer.last()[0]}}class ab{constructor(e,i,r){this.garbageCollector=e,this.asyncQueue=i,this.localStore=r,this.Rr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Vr(6e4)}stop(){this.Rr&&(this.Rr.cancel(),this.Rr=null)}get started(){return this.Rr!==null}Vr(e){pt(v_,`Garbage collection scheduled in ${e}ms`),this.Rr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,async()=>{this.Rr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(i){Ja(i)?pt(v_,"Ignoring IndexedDB error during garbage collection: ",i):await $a(i)}await this.Vr(3e5)})}}class lb{constructor(e,i){this.mr=e,this.params=i}calculateTargetCount(e,i){return this.mr.gr(e).next(r=>Math.floor(i/100*r))}nthSequenceNumber(e,i){if(i===0)return ht.resolve(Oc.ce);const r=new sb(i);return this.mr.forEachTarget(e,l=>r.Ar(l.sequenceNumber)).next(()=>this.mr.pr(e,l=>r.Ar(l))).next(()=>r.maxValue)}removeTargets(e,i,r){return this.mr.removeTargets(e,i,r)}removeOrphanedDocuments(e,i){return this.mr.removeOrphanedDocuments(e,i)}collect(e,i){return this.params.cacheSizeCollectionThreshold===-1?(pt("LruGarbageCollector","Garbage collection skipped; disabled"),ht.resolve(__)):this.getCacheSize(e).next(r=>r<this.params.cacheSizeCollectionThreshold?(pt("LruGarbageCollector",`Garbage collection skipped; Cache size ${r} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),__):this.yr(e,i))}getCacheSize(e){return this.mr.getCacheSize(e)}yr(e,i){let r,l,u,h,m,g,_;const p=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(E=>(E>this.params.maximumSequenceNumbersToCollect?(pt("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${E}`),l=this.params.maximumSequenceNumbersToCollect):l=E,h=Date.now(),this.nthSequenceNumber(e,l))).next(E=>(r=E,m=Date.now(),this.removeTargets(e,r,i))).next(E=>(u=E,g=Date.now(),this.removeOrphanedDocuments(e,r))).next(E=>(_=Date.now(),Ua()<=Gt.DEBUG&&pt("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${h-p}ms
	Determined least recently used ${l} in `+(m-h)+`ms
	Removed ${u} targets in `+(g-m)+`ms
	Removed ${E} documents in `+(_-g)+`ms
Total Duration: ${_-p}ms`),ht.resolve({didRun:!0,sequenceNumbersCollected:l,targetsRemoved:u,documentsRemoved:E})))}}function ob(a,e){return new lb(a,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ub{constructor(){this.changes=new Fs(e=>e.toString(),(e,i)=>e.isEqual(i)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,i){this.assertNotApplied(),this.changes.set(e,An.newInvalidDocument(e).setReadTime(i))}getEntry(e,i){this.assertNotApplied();const r=this.changes.get(i);return r!==void 0?ht.resolve(r):this.getFromCache(e,i)}getEntries(e,i){return this.getAllFromCache(e,i)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cb{constructor(e,i){this.overlayedDocument=e,this.mutatedFields=i}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fb{constructor(e,i,r,l){this.remoteDocumentCache=e,this.mutationQueue=i,this.documentOverlayCache=r,this.indexManager=l}getDocument(e,i){let r=null;return this.documentOverlayCache.getOverlay(e,i).next(l=>(r=l,this.remoteDocumentCache.getEntry(e,i))).next(l=>(r!==null&&fo(r.mutation,l,yi.empty(),de.now()),l))}getDocuments(e,i){return this.remoteDocumentCache.getEntries(e,i).next(r=>this.getLocalViewOfDocuments(e,r,kt()).next(()=>r))}getLocalViewOfDocuments(e,i,r=kt()){const l=xs();return this.populateOverlays(e,l,i).next(()=>this.computeViews(e,i,l,r).next(u=>{let h=ro();return u.forEach((m,g)=>{h=h.insert(m,g.overlayedDocument)}),h}))}getOverlayedDocuments(e,i){const r=xs();return this.populateOverlays(e,r,i).next(()=>this.computeViews(e,i,r,kt()))}populateOverlays(e,i,r){const l=[];return r.forEach(u=>{i.has(u)||l.push(u)}),this.documentOverlayCache.getOverlays(e,l).next(u=>{u.forEach((h,m)=>{i.set(h,m)})})}computeViews(e,i,r,l){let u=_r();const h=co(),m=function(){return co()}();return i.forEach((g,_)=>{const p=r.get(_.key);l.has(_.key)&&(p===void 0||p.mutation instanceof Gs)?u=u.insert(_.key,_):p!==void 0?(h.set(_.key,p.mutation.getFieldMask()),fo(p.mutation,_,p.mutation.getFieldMask(),de.now())):h.set(_.key,yi.empty())}),this.recalculateAndSaveOverlays(e,u).next(g=>(g.forEach((_,p)=>h.set(_,p)),i.forEach((_,p)=>m.set(_,new cb(p,h.get(_)??null))),m))}recalculateAndSaveOverlays(e,i){const r=co();let l=new Ee((h,m)=>h-m),u=kt();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,i).next(h=>{for(const m of h)m.keys().forEach(g=>{const _=i.get(g);if(_===null)return;let p=r.get(g)||yi.empty();p=m.applyToLocalView(_,p),r.set(g,p);const E=(l.get(m.batchId)||kt()).add(g);l=l.insert(m.batchId,E)})}).next(()=>{const h=[],m=l.getReverseIterator();for(;m.hasNext();){const g=m.getNext(),_=g.key,p=g.value,E=j0();p.forEach(v=>{if(!u.has(v)){const R=K0(i.get(v),r.get(v));R!==null&&E.set(v,R),u=u.add(v)}}),h.push(this.documentOverlayCache.saveOverlays(e,_,E))}return ht.waitFor(h)}).next(()=>r)}recalculateAndSaveOverlaysForDocumentKeys(e,i){return this.remoteDocumentCache.getEntries(e,i).next(r=>this.recalculateAndSaveOverlays(e,r))}getDocumentsMatchingQuery(e,i,r,l){return function(h){return Tt.isDocumentKey(h.path)&&h.collectionGroup===null&&h.filters.length===0}(i)?this.getDocumentsMatchingDocumentQuery(e,i.path):dA(i)?this.getDocumentsMatchingCollectionGroupQuery(e,i,r,l):this.getDocumentsMatchingCollectionQuery(e,i,r,l)}getNextDocuments(e,i,r,l){return this.remoteDocumentCache.getAllFromCollectionGroup(e,i,r,l).next(u=>{const h=l-u.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,i,r.largestBatchId,l-u.size):ht.resolve(xs());let m=po,g=u;return h.next(_=>ht.forEach(_,(p,E)=>(m<E.largestBatchId&&(m=E.largestBatchId),u.get(p)?ht.resolve():this.remoteDocumentCache.getEntry(e,p).next(v=>{g=g.insert(p,v)}))).next(()=>this.populateOverlays(e,_,u)).next(()=>this.computeViews(e,g,_,kt())).next(p=>({batchId:m,changes:H0(p)})))})}getDocumentsMatchingDocumentQuery(e,i){return this.getDocument(e,new Tt(i)).next(r=>{let l=ro();return r.isFoundDocument()&&(l=l.insert(r.key,r)),l})}getDocumentsMatchingCollectionGroupQuery(e,i,r,l){const u=i.collectionGroup;let h=ro();return this.indexManager.getCollectionParents(e,u).next(m=>ht.forEach(m,g=>{const _=function(E,v){return new Mc(v,null,E.explicitOrderBy.slice(),E.filters.slice(),E.limit,E.limitType,E.startAt,E.endAt)}(i,g.child(u));return this.getDocumentsMatchingCollectionQuery(e,_,r,l).next(p=>{p.forEach((E,v)=>{h=h.insert(E,v)})})}).next(()=>h))}getDocumentsMatchingCollectionQuery(e,i,r,l){let u;return this.documentOverlayCache.getOverlaysForCollection(e,i.path,r.largestBatchId).next(h=>(u=h,this.remoteDocumentCache.getDocumentsMatchingQuery(e,i,r,u,l))).next(h=>{u.forEach((g,_)=>{const p=_.getKey();h.get(p)===null&&(h=h.insert(p,An.newInvalidDocument(p)))});let m=ro();return h.forEach((g,_)=>{const p=u.get(g);p!==void 0&&fo(p.mutation,_,yi.empty(),de.now()),Uc(i,_)&&(m=m.insert(g,_))}),m})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hb{constructor(e){this.serializer=e,this.Lr=new Map,this.kr=new Map}getBundleMetadata(e,i){return ht.resolve(this.Lr.get(i))}saveBundleMetadata(e,i){return this.Lr.set(i.id,function(l){return{id:l.id,version:l.version,createTime:ki(l.createTime)}}(i)),ht.resolve()}getNamedQuery(e,i){return ht.resolve(this.kr.get(i))}saveNamedQuery(e,i){return this.kr.set(i.name,function(l){return{name:l.name,query:eb(l.bundledQuery),readTime:ki(l.readTime)}}(i)),ht.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class db{constructor(){this.overlays=new Ee(Tt.comparator),this.qr=new Map}getOverlay(e,i){return ht.resolve(this.overlays.get(i))}getOverlays(e,i){const r=xs();return ht.forEach(i,l=>this.getOverlay(e,l).next(u=>{u!==null&&r.set(l,u)})).next(()=>r)}saveOverlays(e,i,r){return r.forEach((l,u)=>{this.St(e,i,u)}),ht.resolve()}removeOverlaysForBatchId(e,i,r){const l=this.qr.get(r);return l!==void 0&&(l.forEach(u=>this.overlays=this.overlays.remove(u)),this.qr.delete(r)),ht.resolve()}getOverlaysForCollection(e,i,r){const l=xs(),u=i.length+1,h=new Tt(i.child("")),m=this.overlays.getIteratorFrom(h);for(;m.hasNext();){const g=m.getNext().value,_=g.getKey();if(!i.isPrefixOf(_.path))break;_.path.length===u&&g.largestBatchId>r&&l.set(g.getKey(),g)}return ht.resolve(l)}getOverlaysForCollectionGroup(e,i,r,l){let u=new Ee((_,p)=>_-p);const h=this.overlays.getIterator();for(;h.hasNext();){const _=h.getNext().value;if(_.getKey().getCollectionGroup()===i&&_.largestBatchId>r){let p=u.get(_.largestBatchId);p===null&&(p=xs(),u=u.insert(_.largestBatchId,p)),p.set(_.getKey(),_)}}const m=xs(),g=u.getIterator();for(;g.hasNext()&&(g.getNext().value.forEach((_,p)=>m.set(_,p)),!(m.size()>=l)););return ht.resolve(m)}St(e,i,r){const l=this.overlays.get(r.key);if(l!==null){const h=this.qr.get(l.largestBatchId).delete(r.key);this.qr.set(l.largestBatchId,h)}this.overlays=this.overlays.insert(r.key,new VA(i,r));let u=this.qr.get(i);u===void 0&&(u=kt(),this.qr.set(i,u)),this.qr.set(i,u.add(r.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mb{constructor(){this.sessionToken=gn.EMPTY_BYTE_STRING}getSessionToken(e){return ht.resolve(this.sessionToken)}setSessionToken(e,i){return this.sessionToken=i,ht.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fd{constructor(){this.Qr=new Qe(nn.$r),this.Ur=new Qe(nn.Kr)}isEmpty(){return this.Qr.isEmpty()}addReference(e,i){const r=new nn(e,i);this.Qr=this.Qr.add(r),this.Ur=this.Ur.add(r)}Wr(e,i){e.forEach(r=>this.addReference(r,i))}removeReference(e,i){this.Gr(new nn(e,i))}zr(e,i){e.forEach(r=>this.removeReference(r,i))}jr(e){const i=new Tt(new ve([])),r=new nn(i,e),l=new nn(i,e+1),u=[];return this.Ur.forEachInRange([r,l],h=>{this.Gr(h),u.push(h.key)}),u}Jr(){this.Qr.forEach(e=>this.Gr(e))}Gr(e){this.Qr=this.Qr.delete(e),this.Ur=this.Ur.delete(e)}Hr(e){const i=new Tt(new ve([])),r=new nn(i,e),l=new nn(i,e+1);let u=kt();return this.Ur.forEachInRange([r,l],h=>{u=u.add(h.key)}),u}containsKey(e){const i=new nn(e,0),r=this.Qr.firstAfterOrEqual(i);return r!==null&&e.isEqual(r.key)}}class nn{constructor(e,i){this.key=e,this.Yr=i}static $r(e,i){return Tt.comparator(e.key,i.key)||Pt(e.Yr,i.Yr)}static Kr(e,i){return Pt(e.Yr,i.Yr)||Tt.comparator(e.key,i.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gb{constructor(e,i){this.indexManager=e,this.referenceDelegate=i,this.mutationQueue=[],this.tr=1,this.Zr=new Qe(nn.$r)}checkEmpty(e){return ht.resolve(this.mutationQueue.length===0)}addMutationBatch(e,i,r,l){const u=this.tr;this.tr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const h=new OA(u,i,r,l);this.mutationQueue.push(h);for(const m of l)this.Zr=this.Zr.add(new nn(m.key,u)),this.indexManager.addToCollectionParentIndex(e,m.key.path.popLast());return ht.resolve(h)}lookupMutationBatch(e,i){return ht.resolve(this.Xr(i))}getNextMutationBatchAfterBatchId(e,i){const r=i+1,l=this.ei(r),u=l<0?0:l;return ht.resolve(this.mutationQueue.length>u?this.mutationQueue[u]:null)}getHighestUnacknowledgedBatchId(){return ht.resolve(this.mutationQueue.length===0?xd:this.tr-1)}getAllMutationBatches(e){return ht.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,i){const r=new nn(i,0),l=new nn(i,Number.POSITIVE_INFINITY),u=[];return this.Zr.forEachInRange([r,l],h=>{const m=this.Xr(h.Yr);u.push(m)}),ht.resolve(u)}getAllMutationBatchesAffectingDocumentKeys(e,i){let r=new Qe(Pt);return i.forEach(l=>{const u=new nn(l,0),h=new nn(l,Number.POSITIVE_INFINITY);this.Zr.forEachInRange([u,h],m=>{r=r.add(m.Yr)})}),ht.resolve(this.ti(r))}getAllMutationBatchesAffectingQuery(e,i){const r=i.path,l=r.length+1;let u=r;Tt.isDocumentKey(u)||(u=u.child(""));const h=new nn(new Tt(u),0);let m=new Qe(Pt);return this.Zr.forEachWhile(g=>{const _=g.key.path;return!!r.isPrefixOf(_)&&(_.length===l&&(m=m.add(g.Yr)),!0)},h),ht.resolve(this.ti(m))}ti(e){const i=[];return e.forEach(r=>{const l=this.Xr(r);l!==null&&i.push(l)}),i}removeMutationBatch(e,i){Wt(this.ni(i.batchId,"removed")===0,55003),this.mutationQueue.shift();let r=this.Zr;return ht.forEach(i.mutations,l=>{const u=new nn(l.key,i.batchId);return r=r.delete(u),this.referenceDelegate.markPotentiallyOrphaned(e,l.key)}).next(()=>{this.Zr=r})}ir(e){}containsKey(e,i){const r=new nn(i,0),l=this.Zr.firstAfterOrEqual(r);return ht.resolve(i.isEqual(l&&l.key))}performConsistencyCheck(e){return this.mutationQueue.length,ht.resolve()}ni(e,i){return this.ei(e)}ei(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Xr(e){const i=this.ei(e);return i<0||i>=this.mutationQueue.length?null:this.mutationQueue[i]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pb{constructor(e){this.ri=e,this.docs=function(){return new Ee(Tt.comparator)}(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,i){const r=i.key,l=this.docs.get(r),u=l?l.size:0,h=this.ri(i);return this.docs=this.docs.insert(r,{document:i.mutableCopy(),size:h}),this.size+=h-u,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){const i=this.docs.get(e);i&&(this.docs=this.docs.remove(e),this.size-=i.size)}getEntry(e,i){const r=this.docs.get(i);return ht.resolve(r?r.document.mutableCopy():An.newInvalidDocument(i))}getEntries(e,i){let r=_r();return i.forEach(l=>{const u=this.docs.get(l);r=r.insert(l,u?u.document.mutableCopy():An.newInvalidDocument(l))}),ht.resolve(r)}getDocumentsMatchingQuery(e,i,r,l){let u=_r();const h=i.path,m=new Tt(h.child("__id-9223372036854775808__")),g=this.docs.getIteratorFrom(m);for(;g.hasNext();){const{key:_,value:{document:p}}=g.getNext();if(!h.isPrefixOf(_.path))break;_.path.length>h.length+1||F2(j2(p),r)<=0||(l.has(p.key)||Uc(i,p))&&(u=u.insert(p.key,p.mutableCopy()))}return ht.resolve(u)}getAllFromCollectionGroup(e,i,r,l){St(9500)}ii(e,i){return ht.forEach(this.docs,r=>i(r))}newChangeBuffer(e){return new yb(this)}getSize(e){return ht.resolve(this.size)}}class yb extends ub{constructor(e){super(),this.Nr=e}applyChanges(e){const i=[];return this.changes.forEach((r,l)=>{l.isValidDocument()?i.push(this.Nr.addEntry(e,l)):this.Nr.removeEntry(r)}),ht.waitFor(i)}getFromCache(e,i){return this.Nr.getEntry(e,i)}getAllFromCache(e,i){return this.Nr.getEntries(e,i)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _b{constructor(e){this.persistence=e,this.si=new Fs(i=>Pd(i),kd),this.lastRemoteSnapshotVersion=Ct.min(),this.highestTargetId=0,this.oi=0,this._i=new Fd,this.targetCount=0,this.ai=Xa.ur()}forEachTarget(e,i){return this.si.forEach((r,l)=>i(l)),ht.resolve()}getLastRemoteSnapshotVersion(e){return ht.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return ht.resolve(this.oi)}allocateTargetId(e){return this.highestTargetId=this.ai.next(),ht.resolve(this.highestTargetId)}setTargetsMetadata(e,i,r){return r&&(this.lastRemoteSnapshotVersion=r),i>this.oi&&(this.oi=i),ht.resolve()}Pr(e){this.si.set(e.target,e);const i=e.targetId;i>this.highestTargetId&&(this.ai=new Xa(i),this.highestTargetId=i),e.sequenceNumber>this.oi&&(this.oi=e.sequenceNumber)}addTargetData(e,i){return this.Pr(i),this.targetCount+=1,ht.resolve()}updateTargetData(e,i){return this.Pr(i),ht.resolve()}removeTargetData(e,i){return this.si.delete(i.target),this._i.jr(i.targetId),this.targetCount-=1,ht.resolve()}removeTargets(e,i,r){let l=0;const u=[];return this.si.forEach((h,m)=>{m.sequenceNumber<=i&&r.get(m.targetId)===null&&(this.si.delete(h),u.push(this.removeMatchingKeysForTargetId(e,m.targetId)),l++)}),ht.waitFor(u).next(()=>l)}getTargetCount(e){return ht.resolve(this.targetCount)}getTargetData(e,i){const r=this.si.get(i)||null;return ht.resolve(r)}addMatchingKeys(e,i,r){return this._i.Wr(i,r),ht.resolve()}removeMatchingKeys(e,i,r){this._i.zr(i,r);const l=this.persistence.referenceDelegate,u=[];return l&&i.forEach(h=>{u.push(l.markPotentiallyOrphaned(e,h))}),ht.waitFor(u)}removeMatchingKeysForTargetId(e,i){return this._i.jr(i),ht.resolve()}getMatchingKeysForTargetId(e,i){const r=this._i.Hr(i);return ht.resolve(r)}containsKey(e,i){return ht.resolve(this._i.containsKey(i))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class u1{constructor(e,i){this.ui={},this.overlays={},this.ci=new Oc(0),this.li=!1,this.li=!0,this.hi=new mb,this.referenceDelegate=e(this),this.Pi=new _b(this),this.indexManager=new nb,this.remoteDocumentCache=function(l){return new pb(l)}(r=>this.referenceDelegate.Ti(r)),this.serializer=new tb(i),this.Ii=new hb(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.li=!1,Promise.resolve()}get started(){return this.li}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let i=this.overlays[e.toKey()];return i||(i=new db,this.overlays[e.toKey()]=i),i}getMutationQueue(e,i){let r=this.ui[e.toKey()];return r||(r=new gb(i,this.referenceDelegate),this.ui[e.toKey()]=r),r}getGlobalsCache(){return this.hi}getTargetCache(){return this.Pi}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ii}runTransaction(e,i,r){pt("MemoryPersistence","Starting transaction:",e);const l=new vb(this.ci.next());return this.referenceDelegate.Ei(),r(l).next(u=>this.referenceDelegate.di(l).next(()=>u)).toPromise().then(u=>(l.raiseOnCommittedEvent(),u))}Ai(e,i){return ht.or(Object.values(this.ui).map(r=>()=>r.containsKey(e,i)))}}class vb extends Q2{constructor(e){super(),this.currentSequenceNumber=e}}class Gd{constructor(e){this.persistence=e,this.Ri=new Fd,this.Vi=null}static mi(e){return new Gd(e)}get fi(){if(this.Vi)return this.Vi;throw St(60996)}addReference(e,i,r){return this.Ri.addReference(r,i),this.fi.delete(r.toString()),ht.resolve()}removeReference(e,i,r){return this.Ri.removeReference(r,i),this.fi.add(r.toString()),ht.resolve()}markPotentiallyOrphaned(e,i){return this.fi.add(i.toString()),ht.resolve()}removeTarget(e,i){this.Ri.jr(i.targetId).forEach(l=>this.fi.add(l.toString()));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,i.targetId).next(l=>{l.forEach(u=>this.fi.add(u.toString()))}).next(()=>r.removeTargetData(e,i))}Ei(){this.Vi=new Set}di(e){const i=this.persistence.getRemoteDocumentCache().newChangeBuffer();return ht.forEach(this.fi,r=>{const l=Tt.fromPath(r);return this.gi(e,l).next(u=>{u||i.removeEntry(l,Ct.min())})}).next(()=>(this.Vi=null,i.apply(e)))}updateLimboDocument(e,i){return this.gi(e,i).next(r=>{r?this.fi.delete(i.toString()):this.fi.add(i.toString())})}Ti(e){return 0}gi(e,i){return ht.or([()=>ht.resolve(this.Ri.containsKey(i)),()=>this.persistence.getTargetCache().containsKey(e,i),()=>this.persistence.Ai(e,i)])}}class Tc{constructor(e,i){this.persistence=e,this.pi=new Fs(r=>K2(r.path),(r,l)=>r.isEqual(l)),this.garbageCollector=ob(this,i)}static mi(e,i){return new Tc(e,i)}Ei(){}di(e){return ht.resolve()}forEachTarget(e,i){return this.persistence.getTargetCache().forEachTarget(e,i)}gr(e){const i=this.wr(e);return this.persistence.getTargetCache().getTargetCount(e).next(r=>i.next(l=>r+l))}wr(e){let i=0;return this.pr(e,r=>{i++}).next(()=>i)}pr(e,i){return ht.forEach(this.pi,(r,l)=>this.br(e,r,l).next(u=>u?ht.resolve():i(l)))}removeTargets(e,i,r){return this.persistence.getTargetCache().removeTargets(e,i,r)}removeOrphanedDocuments(e,i){let r=0;const l=this.persistence.getRemoteDocumentCache(),u=l.newChangeBuffer();return l.ii(e,h=>this.br(e,h,i).next(m=>{m||(r++,u.removeEntry(h,Ct.min()))})).next(()=>u.apply(e)).next(()=>r)}markPotentiallyOrphaned(e,i){return this.pi.set(i,e.currentSequenceNumber),ht.resolve()}removeTarget(e,i){const r=i.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,r)}addReference(e,i,r){return this.pi.set(r,e.currentSequenceNumber),ht.resolve()}removeReference(e,i,r){return this.pi.set(r,e.currentSequenceNumber),ht.resolve()}updateLimboDocument(e,i){return this.pi.set(i,e.currentSequenceNumber),ht.resolve()}Ti(e){let i=e.key.toString().length;return e.isFoundDocument()&&(i+=rc(e.data.value)),i}br(e,i,r){return ht.or([()=>this.persistence.Ai(e,i),()=>this.persistence.getTargetCache().containsKey(e,i),()=>{const l=this.pi.get(i);return ht.resolve(l!==void 0&&l>r)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qd{constructor(e,i,r,l){this.targetId=e,this.fromCache=i,this.Es=r,this.ds=l}static As(e,i){let r=kt(),l=kt();for(const u of i.docChanges)switch(u.type){case 0:r=r.add(u.doc.key);break;case 1:l=l.add(u.doc.key)}return new Qd(e,i.fromCache,r,l)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Eb{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tb{constructor(){this.Rs=!1,this.Vs=!1,this.fs=100,this.gs=function(){return mT()?8:Y2(hT())>0?6:4}()}initialize(e,i){this.ps=e,this.indexManager=i,this.Rs=!0}getDocumentsMatchingQuery(e,i,r,l){const u={result:null};return this.ys(e,i).next(h=>{u.result=h}).next(()=>{if(!u.result)return this.ws(e,i,l,r).next(h=>{u.result=h})}).next(()=>{if(u.result)return;const h=new Eb;return this.Ss(e,i,h).next(m=>{if(u.result=m,this.Vs)return this.bs(e,i,h,m.size)})}).next(()=>u.result)}bs(e,i,r,l){return r.documentReadCount<this.fs?(Ua()<=Gt.DEBUG&&pt("QueryEngine","SDK will not create cache indexes for query:",La(i),"since it only creates cache indexes for collection contains","more than or equal to",this.fs,"documents"),ht.resolve()):(Ua()<=Gt.DEBUG&&pt("QueryEngine","Query:",La(i),"scans",r.documentReadCount,"local documents and returns",l,"documents as results."),r.documentReadCount>this.gs*l?(Ua()<=Gt.DEBUG&&pt("QueryEngine","The SDK decides to create cache indexes for query:",La(i),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,Pi(i))):ht.resolve())}ys(e,i){if(o_(i))return ht.resolve(null);let r=Pi(i);return this.indexManager.getIndexType(e,r).next(l=>l===0?null:(i.limit!==null&&l===1&&(i=yd(i,null,"F"),r=Pi(i)),this.indexManager.getDocumentsMatchingTarget(e,r).next(u=>{const h=kt(...u);return this.ps.getDocuments(e,h).next(m=>this.indexManager.getMinOffset(e,r).next(g=>{const _=this.Ds(i,m);return this.Cs(i,_,h,g.readTime)?this.ys(e,yd(i,null,"F")):this.vs(e,_,i,g)}))})))}ws(e,i,r,l){return o_(i)||l.isEqual(Ct.min())?ht.resolve(null):this.ps.getDocuments(e,r).next(u=>{const h=this.Ds(i,u);return this.Cs(i,h,r,l)?ht.resolve(null):(Ua()<=Gt.DEBUG&&pt("QueryEngine","Re-using previous result from %s to execute query: %s",l.toString(),La(i)),this.vs(e,h,i,H2(l,po)).next(m=>m))})}Ds(e,i){let r=new Qe(B0(e));return i.forEach((l,u)=>{Uc(e,u)&&(r=r.add(u))}),r}Cs(e,i,r,l){if(e.limit===null)return!1;if(r.size!==i.size)return!0;const u=e.limitType==="F"?i.last():i.first();return!!u&&(u.hasPendingWrites||u.version.compareTo(l)>0)}Ss(e,i,r){return Ua()<=Gt.DEBUG&&pt("QueryEngine","Using full collection scan to execute query:",La(i)),this.ps.getDocumentsMatchingQuery(e,i,Jr.min(),r)}vs(e,i,r,l){return this.ps.getDocumentsMatchingQuery(e,r,l).next(u=>(i.forEach(h=>{u=u.insert(h.key,h)}),u))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Yd="LocalStore",Ab=3e8;class bb{constructor(e,i,r,l){this.persistence=e,this.Fs=i,this.serializer=l,this.Ms=new Ee(Pt),this.xs=new Fs(u=>Pd(u),kd),this.Os=new Map,this.Ns=e.getRemoteDocumentCache(),this.Pi=e.getTargetCache(),this.Ii=e.getBundleCache(),this.Bs(r)}Bs(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new fb(this.Ns,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Ns.setIndexManager(this.indexManager),this.Fs.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",i=>e.collect(i,this.Ms))}}function Sb(a,e,i,r){return new bb(a,e,i,r)}async function c1(a,e){const i=Dt(a);return await i.persistence.runTransaction("Handle user change","readonly",r=>{let l;return i.mutationQueue.getAllMutationBatches(r).next(u=>(l=u,i.Bs(e),i.mutationQueue.getAllMutationBatches(r))).next(u=>{const h=[],m=[];let g=kt();for(const _ of l){h.push(_.batchId);for(const p of _.mutations)g=g.add(p.key)}for(const _ of u){m.push(_.batchId);for(const p of _.mutations)g=g.add(p.key)}return i.localDocuments.getDocuments(r,g).next(_=>({Ls:_,removedBatchIds:h,addedBatchIds:m}))})})}function Rb(a,e){const i=Dt(a);return i.persistence.runTransaction("Acknowledge batch","readwrite-primary",r=>{const l=e.batch.keys(),u=i.Ns.newChangeBuffer({trackRemovals:!0});return function(m,g,_,p){const E=_.batch,v=E.keys();let R=ht.resolve();return v.forEach(U=>{R=R.next(()=>p.getEntry(g,U)).next(B=>{const k=_.docVersions.get(U);Wt(k!==null,48541),B.version.compareTo(k)<0&&(E.applyToRemoteDocument(B,_),B.isValidDocument()&&(B.setReadTime(_.commitVersion),p.addEntry(B)))})}),R.next(()=>m.mutationQueue.removeMutationBatch(g,E))}(i,r,e,u).next(()=>u.apply(r)).next(()=>i.mutationQueue.performConsistencyCheck(r)).next(()=>i.documentOverlayCache.removeOverlaysForBatchId(r,l,e.batch.batchId)).next(()=>i.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,function(m){let g=kt();for(let _=0;_<m.mutationResults.length;++_)m.mutationResults[_].transformResults.length>0&&(g=g.add(m.batch.mutations[_].key));return g}(e))).next(()=>i.localDocuments.getDocuments(r,l))})}function f1(a){const e=Dt(a);return e.persistence.runTransaction("Get last remote snapshot version","readonly",i=>e.Pi.getLastRemoteSnapshotVersion(i))}function wb(a,e){const i=Dt(a),r=e.snapshotVersion;let l=i.Ms;return i.persistence.runTransaction("Apply remote event","readwrite-primary",u=>{const h=i.Ns.newChangeBuffer({trackRemovals:!0});l=i.Ms;const m=[];e.targetChanges.forEach((p,E)=>{const v=l.get(E);if(!v)return;m.push(i.Pi.removeMatchingKeys(u,p.removedDocuments,E).next(()=>i.Pi.addMatchingKeys(u,p.addedDocuments,E)));let R=v.withSequenceNumber(u.currentSequenceNumber);e.targetMismatches.get(E)!==null?R=R.withResumeToken(gn.EMPTY_BYTE_STRING,Ct.min()).withLastLimboFreeSnapshotVersion(Ct.min()):p.resumeToken.approximateByteSize()>0&&(R=R.withResumeToken(p.resumeToken,r)),l=l.insert(E,R),function(B,k,P){return B.resumeToken.approximateByteSize()===0||k.snapshotVersion.toMicroseconds()-B.snapshotVersion.toMicroseconds()>=Ab?!0:P.addedDocuments.size+P.modifiedDocuments.size+P.removedDocuments.size>0}(v,R,p)&&m.push(i.Pi.updateTargetData(u,R))});let g=_r(),_=kt();if(e.documentUpdates.forEach(p=>{e.resolvedLimboDocuments.has(p)&&m.push(i.persistence.referenceDelegate.updateLimboDocument(u,p))}),m.push(Cb(u,h,e.documentUpdates).next(p=>{g=p.ks,_=p.qs})),!r.isEqual(Ct.min())){const p=i.Pi.getLastRemoteSnapshotVersion(u).next(E=>i.Pi.setTargetsMetadata(u,u.currentSequenceNumber,r));m.push(p)}return ht.waitFor(m).next(()=>h.apply(u)).next(()=>i.localDocuments.getLocalViewOfDocuments(u,g,_)).next(()=>g)}).then(u=>(i.Ms=l,u))}function Cb(a,e,i){let r=kt(),l=kt();return i.forEach(u=>r=r.add(u)),e.getEntries(a,r).next(u=>{let h=_r();return i.forEach((m,g)=>{const _=u.get(m);g.isFoundDocument()!==_.isFoundDocument()&&(l=l.add(m)),g.isNoDocument()&&g.version.isEqual(Ct.min())?(e.removeEntry(m,g.readTime),h=h.insert(m,g)):!_.isValidDocument()||g.version.compareTo(_.version)>0||g.version.compareTo(_.version)===0&&_.hasPendingWrites?(e.addEntry(g),h=h.insert(m,g)):pt(Yd,"Ignoring outdated watch update for ",m,". Current version:",_.version," Watch version:",g.version)}),{ks:h,qs:l}})}function Db(a,e){const i=Dt(a);return i.persistence.runTransaction("Get next mutation batch","readonly",r=>(e===void 0&&(e=xd),i.mutationQueue.getNextMutationBatchAfterBatchId(r,e)))}function Ib(a,e){const i=Dt(a);return i.persistence.runTransaction("Allocate target","readwrite",r=>{let l;return i.Pi.getTargetData(r,e).next(u=>u?(l=u,ht.resolve(l)):i.Pi.allocateTargetId(r).next(h=>(l=new Yr(e,h,"TargetPurposeListen",r.currentSequenceNumber),i.Pi.addTargetData(r,l).next(()=>l))))}).then(r=>{const l=i.Ms.get(r.targetId);return(l===null||r.snapshotVersion.compareTo(l.snapshotVersion)>0)&&(i.Ms=i.Ms.insert(r.targetId,r),i.xs.set(e,r.targetId)),r})}async function Ad(a,e,i){const r=Dt(a),l=r.Ms.get(e),u=i?"readwrite":"readwrite-primary";try{i||await r.persistence.runTransaction("Release target",u,h=>r.persistence.referenceDelegate.removeTarget(h,l))}catch(h){if(!Ja(h))throw h;pt(Yd,`Failed to update sequence numbers for target ${e}: ${h}`)}r.Ms=r.Ms.remove(e),r.xs.delete(l.target)}function T_(a,e,i){const r=Dt(a);let l=Ct.min(),u=kt();return r.persistence.runTransaction("Execute query","readwrite",h=>function(g,_,p){const E=Dt(g),v=E.xs.get(p);return v!==void 0?ht.resolve(E.Ms.get(v)):E.Pi.getTargetData(_,p)}(r,h,Pi(e)).next(m=>{if(m)return l=m.lastLimboFreeSnapshotVersion,r.Pi.getMatchingKeysForTargetId(h,m.targetId).next(g=>{u=g})}).next(()=>r.Fs.getDocumentsMatchingQuery(h,e,i?l:Ct.min(),i?u:kt())).next(m=>(Ob(r,gA(e),m),{documents:m,Qs:u})))}function Ob(a,e,i){let r=a.Os.get(e)||Ct.min();i.forEach((l,u)=>{u.readTime.compareTo(r)>0&&(r=u.readTime)}),a.Os.set(e,r)}class A_{constructor(){this.activeTargetIds=TA()}zs(e){this.activeTargetIds=this.activeTargetIds.add(e)}js(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Gs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class Vb{constructor(){this.Mo=new A_,this.xo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,i,r){}addLocalQueryTarget(e,i=!0){return i&&this.Mo.zs(e),this.xo[e]||"not-current"}updateQueryState(e,i,r){this.xo[e]=i}removeLocalQueryTarget(e){this.Mo.js(e)}isLocalQueryTarget(e){return this.Mo.activeTargetIds.has(e)}clearQueryState(e){delete this.xo[e]}getAllActiveQueryTargets(){return this.Mo.activeTargetIds}isActiveQueryTarget(e){return this.Mo.activeTargetIds.has(e)}start(){return this.Mo=new A_,Promise.resolve()}handleUserChange(e,i,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nb{Oo(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const b_="ConnectivityMonitor";class S_{constructor(){this.No=()=>this.Bo(),this.Lo=()=>this.ko(),this.qo=[],this.Qo()}Oo(e){this.qo.push(e)}shutdown(){window.removeEventListener("online",this.No),window.removeEventListener("offline",this.Lo)}Qo(){window.addEventListener("online",this.No),window.addEventListener("offline",this.Lo)}Bo(){pt(b_,"Network connectivity changed: AVAILABLE");for(const e of this.qo)e(0)}ko(){pt(b_,"Network connectivity changed: UNAVAILABLE");for(const e of this.qo)e(1)}static v(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let tc=null;function bd(){return tc===null?tc=function(){return 268435456+Math.round(2147483648*Math.random())}():tc++,"0x"+tc.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const td="RestConnection",Mb={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class xb{get $o(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const i=e.ssl?"https":"http",r=encodeURIComponent(this.databaseId.projectId),l=encodeURIComponent(this.databaseId.database);this.Uo=i+"://"+e.host,this.Ko=`projects/${r}/databases/${l}`,this.Wo=this.databaseId.database===mc?`project_id=${r}`:`project_id=${r}&database_id=${l}`}Go(e,i,r,l,u){const h=bd(),m=this.zo(e,i.toUriEncodedString());pt(td,`Sending RPC '${e}' ${h}:`,m,r);const g={"google-cloud-resource-prefix":this.Ko,"x-goog-request-params":this.Wo};this.jo(g,l,u);const{host:_}=new URL(m),p=bo(_);return this.Jo(e,m,g,r,p).then(E=>(pt(td,`Received RPC '${e}' ${h}: `,E),E),E=>{throw Fa(td,`RPC '${e}' ${h} failed with error: `,E,"url: ",m,"request:",r),E})}Ho(e,i,r,l,u,h){return this.Go(e,i,r,l,u)}jo(e,i,r){e["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+Za}(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),i&&i.headers.forEach((l,u)=>e[u]=l),r&&r.headers.forEach((l,u)=>e[u]=l)}zo(e,i){const r=Mb[e];return`${this.Uo}/v1/${i}:${r}`}terminate(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ub{constructor(e){this.Yo=e.Yo,this.Zo=e.Zo}Xo(e){this.e_=e}t_(e){this.n_=e}r_(e){this.i_=e}onMessage(e){this.s_=e}close(){this.Zo()}send(e){this.Yo(e)}o_(){this.e_()}__(){this.n_()}a_(e){this.i_(e)}u_(e){this.s_(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vn="WebChannelConnection";class Lb extends xb{constructor(e){super(e),this.c_=[],this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Jo(e,i,r,l,u){const h=bd();return new Promise((m,g)=>{const _=new g0;_.setWithCredentials(!0),_.listenOnce(p0.COMPLETE,()=>{try{switch(_.getLastErrorCode()){case ic.NO_ERROR:const E=_.getResponseJson();pt(vn,`XHR for RPC '${e}' ${h} received:`,JSON.stringify(E)),m(E);break;case ic.TIMEOUT:pt(vn,`RPC '${e}' ${h} timed out`),g(new vt(dt.DEADLINE_EXCEEDED,"Request time out"));break;case ic.HTTP_ERROR:const v=_.getStatus();if(pt(vn,`RPC '${e}' ${h} failed with status:`,v,"response text:",_.getResponseText()),v>0){let R=_.getResponseJson();Array.isArray(R)&&(R=R[0]);const U=R?.error;if(U&&U.status&&U.message){const B=function(P){const $=P.toLowerCase().replace(/_/g,"-");return Object.values(dt).indexOf($)>=0?$:dt.UNKNOWN}(U.status);g(new vt(B,U.message))}else g(new vt(dt.UNKNOWN,"Server responded with status "+_.getStatus()))}else g(new vt(dt.UNAVAILABLE,"Connection failed."));break;default:St(9055,{l_:e,streamId:h,h_:_.getLastErrorCode(),P_:_.getLastError()})}}finally{pt(vn,`RPC '${e}' ${h} completed.`)}});const p=JSON.stringify(l);pt(vn,`RPC '${e}' ${h} sending request:`,l),_.send(i,"POST",p,r,15)})}T_(e,i,r){const l=bd(),u=[this.Uo,"/","google.firestore.v1.Firestore","/",e,"/channel"],h=v0(),m=_0(),g={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},_=this.longPollingOptions.timeoutSeconds;_!==void 0&&(g.longPollingTimeout=Math.round(1e3*_)),this.useFetchStreams&&(g.useFetchStreams=!0),this.jo(g.initMessageHeaders,i,r),g.encodeInitMessageHeaders=!0;const p=u.join("");pt(vn,`Creating RPC '${e}' stream ${l}: ${p}`,g);const E=h.createWebChannel(p,g);this.I_(E);let v=!1,R=!1;const U=new Ub({Yo:k=>{R?pt(vn,`Not sending because RPC '${e}' stream ${l} is closed:`,k):(v||(pt(vn,`Opening RPC '${e}' stream ${l} transport.`),E.open(),v=!0),pt(vn,`RPC '${e}' stream ${l} sending:`,k),E.send(k))},Zo:()=>E.close()}),B=(k,P,$)=>{k.listen(P,F=>{try{$(F)}catch(G){setTimeout(()=>{throw G},0)}})};return B(E,io.EventType.OPEN,()=>{R||(pt(vn,`RPC '${e}' stream ${l} transport opened.`),U.o_())}),B(E,io.EventType.CLOSE,()=>{R||(R=!0,pt(vn,`RPC '${e}' stream ${l} transport closed`),U.a_(),this.E_(E))}),B(E,io.EventType.ERROR,k=>{R||(R=!0,Fa(vn,`RPC '${e}' stream ${l} transport errored. Name:`,k.name,"Message:",k.message),U.a_(new vt(dt.UNAVAILABLE,"The operation could not be completed")))}),B(E,io.EventType.MESSAGE,k=>{if(!R){const P=k.data[0];Wt(!!P,16349);const $=P,F=$?.error||$[0]?.error;if(F){pt(vn,`RPC '${e}' stream ${l} received error:`,F);const G=F.status;let st=function(T){const A=Pe[T];if(A!==void 0)return J0(A)}(G),q=F.message;st===void 0&&(st=dt.INTERNAL,q="Unknown error status: "+G+" with message "+F.message),R=!0,U.a_(new vt(st,q)),E.close()}else pt(vn,`RPC '${e}' stream ${l} received:`,P),U.u_(P)}}),B(m,y0.STAT_EVENT,k=>{k.stat===fd.PROXY?pt(vn,`RPC '${e}' stream ${l} detected buffering proxy`):k.stat===fd.NOPROXY&&pt(vn,`RPC '${e}' stream ${l} detected no buffering proxy`)}),setTimeout(()=>{U.__()},0),U}terminate(){this.c_.forEach(e=>e.close()),this.c_=[]}I_(e){this.c_.push(e)}E_(e){this.c_=this.c_.filter(i=>i===e)}}function ed(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function zc(a){return new BA(a,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class h1{constructor(e,i,r=1e3,l=1.5,u=6e4){this.Mi=e,this.timerId=i,this.d_=r,this.A_=l,this.R_=u,this.V_=0,this.m_=null,this.f_=Date.now(),this.reset()}reset(){this.V_=0}g_(){this.V_=this.R_}p_(e){this.cancel();const i=Math.floor(this.V_+this.y_()),r=Math.max(0,Date.now()-this.f_),l=Math.max(0,i-r);l>0&&pt("ExponentialBackoff",`Backing off for ${l} ms (base delay: ${this.V_} ms, delay with jitter: ${i} ms, last attempt: ${r} ms ago)`),this.m_=this.Mi.enqueueAfterDelay(this.timerId,l,()=>(this.f_=Date.now(),e())),this.V_*=this.A_,this.V_<this.d_&&(this.V_=this.d_),this.V_>this.R_&&(this.V_=this.R_)}w_(){this.m_!==null&&(this.m_.skipDelay(),this.m_=null)}cancel(){this.m_!==null&&(this.m_.cancel(),this.m_=null)}y_(){return(Math.random()-.5)*this.V_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const R_="PersistentStream";class d1{constructor(e,i,r,l,u,h,m,g){this.Mi=e,this.S_=r,this.b_=l,this.connection=u,this.authCredentialsProvider=h,this.appCheckCredentialsProvider=m,this.listener=g,this.state=0,this.D_=0,this.C_=null,this.v_=null,this.stream=null,this.F_=0,this.M_=new h1(e,i)}x_(){return this.state===1||this.state===5||this.O_()}O_(){return this.state===2||this.state===3}start(){this.F_=0,this.state!==4?this.auth():this.N_()}async stop(){this.x_()&&await this.close(0)}B_(){this.state=0,this.M_.reset()}L_(){this.O_()&&this.C_===null&&(this.C_=this.Mi.enqueueAfterDelay(this.S_,6e4,()=>this.k_()))}q_(e){this.Q_(),this.stream.send(e)}async k_(){if(this.O_())return this.close(0)}Q_(){this.C_&&(this.C_.cancel(),this.C_=null)}U_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(e,i){this.Q_(),this.U_(),this.M_.cancel(),this.D_++,e!==4?this.M_.reset():i&&i.code===dt.RESOURCE_EXHAUSTED?(yr(i.toString()),yr("Using maximum backoff delay to prevent overloading the backend."),this.M_.g_()):i&&i.code===dt.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.K_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.r_(i)}K_(){}auth(){this.state=1;const e=this.W_(this.D_),i=this.D_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([r,l])=>{this.D_===i&&this.G_(r,l)},r=>{e(()=>{const l=new vt(dt.UNKNOWN,"Fetching auth token failed: "+r.message);return this.z_(l)})})}G_(e,i){const r=this.W_(this.D_);this.stream=this.j_(e,i),this.stream.Xo(()=>{r(()=>this.listener.Xo())}),this.stream.t_(()=>{r(()=>(this.state=2,this.v_=this.Mi.enqueueAfterDelay(this.b_,1e4,()=>(this.O_()&&(this.state=3),Promise.resolve())),this.listener.t_()))}),this.stream.r_(l=>{r(()=>this.z_(l))}),this.stream.onMessage(l=>{r(()=>++this.F_==1?this.J_(l):this.onNext(l))})}N_(){this.state=5,this.M_.p_(async()=>{this.state=0,this.start()})}z_(e){return pt(R_,`close with error: ${e}`),this.stream=null,this.close(4,e)}W_(e){return i=>{this.Mi.enqueueAndForget(()=>this.D_===e?i():(pt(R_,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class Pb extends d1{constructor(e,i,r,l,u,h){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",i,r,l,h),this.serializer=u}j_(e,i){return this.connection.T_("Listen",e,i)}J_(e){return this.onNext(e)}onNext(e){this.M_.reset();const i=jA(this.serializer,e),r=function(u){if(!("targetChange"in u))return Ct.min();const h=u.targetChange;return h.targetIds&&h.targetIds.length?Ct.min():h.readTime?ki(h.readTime):Ct.min()}(e);return this.listener.H_(i,r)}Y_(e){const i={};i.database=Td(this.serializer),i.addTarget=function(u,h){let m;const g=h.target;if(m=pd(g)?{documents:QA(u,g)}:{query:YA(u,g).ft},m.targetId=h.targetId,h.resumeToken.approximateByteSize()>0){m.resumeToken=e1(u,h.resumeToken);const _=_d(u,h.expectedCount);_!==null&&(m.expectedCount=_)}else if(h.snapshotVersion.compareTo(Ct.min())>0){m.readTime=Ec(u,h.snapshotVersion.toTimestamp());const _=_d(u,h.expectedCount);_!==null&&(m.expectedCount=_)}return m}(this.serializer,e);const r=KA(this.serializer,e);r&&(i.labels=r),this.q_(i)}Z_(e){const i={};i.database=Td(this.serializer),i.removeTarget=e,this.q_(i)}}class kb extends d1{constructor(e,i,r,l,u,h){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",i,r,l,h),this.serializer=u}get X_(){return this.F_>0}start(){this.lastStreamToken=void 0,super.start()}K_(){this.X_&&this.ea([])}j_(e,i){return this.connection.T_("Write",e,i)}J_(e){return Wt(!!e.streamToken,31322),this.lastStreamToken=e.streamToken,Wt(!e.writeResults||e.writeResults.length===0,55816),this.listener.ta()}onNext(e){Wt(!!e.streamToken,12678),this.lastStreamToken=e.streamToken,this.M_.reset();const i=GA(e.writeResults,e.commitTime),r=ki(e.commitTime);return this.listener.na(r,i)}ra(){const e={};e.database=Td(this.serializer),this.q_(e)}ea(e){const i={streamToken:this.lastStreamToken,writes:e.map(r=>FA(this.serializer,r))};this.q_(i)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zb{}class Bb extends zb{constructor(e,i,r,l){super(),this.authCredentials=e,this.appCheckCredentials=i,this.connection=r,this.serializer=l,this.ia=!1}sa(){if(this.ia)throw new vt(dt.FAILED_PRECONDITION,"The client has already been terminated.")}Go(e,i,r,l){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([u,h])=>this.connection.Go(e,vd(i,r),l,u,h)).catch(u=>{throw u.name==="FirebaseError"?(u.code===dt.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),u):new vt(dt.UNKNOWN,u.toString())})}Ho(e,i,r,l,u){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([h,m])=>this.connection.Ho(e,vd(i,r),l,h,m,u)).catch(h=>{throw h.name==="FirebaseError"?(h.code===dt.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),h):new vt(dt.UNKNOWN,h.toString())})}terminate(){this.ia=!0,this.connection.terminate()}}class qb{constructor(e,i){this.asyncQueue=e,this.onlineStateHandler=i,this.state="Unknown",this.oa=0,this._a=null,this.aa=!0}ua(){this.oa===0&&(this.ca("Unknown"),this._a=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this._a=null,this.la("Backend didn't respond within 10 seconds."),this.ca("Offline"),Promise.resolve())))}ha(e){this.state==="Online"?this.ca("Unknown"):(this.oa++,this.oa>=1&&(this.Pa(),this.la(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.ca("Offline")))}set(e){this.Pa(),this.oa=0,e==="Online"&&(this.aa=!1),this.ca(e)}ca(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}la(e){const i=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.aa?(yr(i),this.aa=!1):pt("OnlineStateTracker",i)}Pa(){this._a!==null&&(this._a.cancel(),this._a=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Bs="RemoteStore";class Hb{constructor(e,i,r,l,u){this.localStore=e,this.datastore=i,this.asyncQueue=r,this.remoteSyncer={},this.Ta=[],this.Ia=new Map,this.Ea=new Set,this.da=[],this.Aa=u,this.Aa.Oo(h=>{r.enqueueAndForget(async()=>{Qs(this)&&(pt(Bs,"Restarting streams for network reachability change."),await async function(g){const _=Dt(g);_.Ea.add(4),await Co(_),_.Ra.set("Unknown"),_.Ea.delete(4),await Bc(_)}(this))})}),this.Ra=new qb(r,l)}}async function Bc(a){if(Qs(a))for(const e of a.da)await e(!0)}async function Co(a){for(const e of a.da)await e(!1)}function m1(a,e){const i=Dt(a);i.Ia.has(e.targetId)||(i.Ia.set(e.targetId,e),$d(i)?Zd(i):Wa(i).O_()&&Kd(i,e))}function Xd(a,e){const i=Dt(a),r=Wa(i);i.Ia.delete(e),r.O_()&&g1(i,e),i.Ia.size===0&&(r.O_()?r.L_():Qs(i)&&i.Ra.set("Unknown"))}function Kd(a,e){if(a.Va.Ue(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(Ct.min())>0){const i=a.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(i)}Wa(a).Y_(e)}function g1(a,e){a.Va.Ue(e),Wa(a).Z_(e)}function Zd(a){a.Va=new LA({getRemoteKeysForTarget:e=>a.remoteSyncer.getRemoteKeysForTarget(e),At:e=>a.Ia.get(e)||null,ht:()=>a.datastore.serializer.databaseId}),Wa(a).start(),a.Ra.ua()}function $d(a){return Qs(a)&&!Wa(a).x_()&&a.Ia.size>0}function Qs(a){return Dt(a).Ea.size===0}function p1(a){a.Va=void 0}async function jb(a){a.Ra.set("Online")}async function Fb(a){a.Ia.forEach((e,i)=>{Kd(a,e)})}async function Gb(a,e){p1(a),$d(a)?(a.Ra.ha(e),Zd(a)):a.Ra.set("Unknown")}async function Qb(a,e,i){if(a.Ra.set("Online"),e instanceof t1&&e.state===2&&e.cause)try{await async function(l,u){const h=u.cause;for(const m of u.targetIds)l.Ia.has(m)&&(await l.remoteSyncer.rejectListen(m,h),l.Ia.delete(m),l.Va.removeTarget(m))}(a,e)}catch(r){pt(Bs,"Failed to remove targets %s: %s ",e.targetIds.join(","),r),await Ac(a,r)}else if(e instanceof lc?a.Va.Ze(e):e instanceof W0?a.Va.st(e):a.Va.tt(e),!i.isEqual(Ct.min()))try{const r=await f1(a.localStore);i.compareTo(r)>=0&&await function(u,h){const m=u.Va.Tt(h);return m.targetChanges.forEach((g,_)=>{if(g.resumeToken.approximateByteSize()>0){const p=u.Ia.get(_);p&&u.Ia.set(_,p.withResumeToken(g.resumeToken,h))}}),m.targetMismatches.forEach((g,_)=>{const p=u.Ia.get(g);if(!p)return;u.Ia.set(g,p.withResumeToken(gn.EMPTY_BYTE_STRING,p.snapshotVersion)),g1(u,g);const E=new Yr(p.target,g,_,p.sequenceNumber);Kd(u,E)}),u.remoteSyncer.applyRemoteEvent(m)}(a,i)}catch(r){pt(Bs,"Failed to raise snapshot:",r),await Ac(a,r)}}async function Ac(a,e,i){if(!Ja(e))throw e;a.Ea.add(1),await Co(a),a.Ra.set("Offline"),i||(i=()=>f1(a.localStore)),a.asyncQueue.enqueueRetryable(async()=>{pt(Bs,"Retrying IndexedDB access"),await i(),a.Ea.delete(1),await Bc(a)})}function y1(a,e){return e().catch(i=>Ac(a,i,e))}async function qc(a){const e=Dt(a),i=ns(e);let r=e.Ta.length>0?e.Ta[e.Ta.length-1].batchId:xd;for(;Yb(e);)try{const l=await Db(e.localStore,r);if(l===null){e.Ta.length===0&&i.L_();break}r=l.batchId,Xb(e,l)}catch(l){await Ac(e,l)}_1(e)&&v1(e)}function Yb(a){return Qs(a)&&a.Ta.length<10}function Xb(a,e){a.Ta.push(e);const i=ns(a);i.O_()&&i.X_&&i.ea(e.mutations)}function _1(a){return Qs(a)&&!ns(a).x_()&&a.Ta.length>0}function v1(a){ns(a).start()}async function Kb(a){ns(a).ra()}async function Zb(a){const e=ns(a);for(const i of a.Ta)e.ea(i.mutations)}async function $b(a,e,i){const r=a.Ta.shift(),l=qd.from(r,e,i);await y1(a,()=>a.remoteSyncer.applySuccessfulWrite(l)),await qc(a)}async function Jb(a,e){e&&ns(a).X_&&await async function(r,l){if(function(h){return MA(h)&&h!==dt.ABORTED}(l.code)){const u=r.Ta.shift();ns(r).B_(),await y1(r,()=>r.remoteSyncer.rejectFailedWrite(u.batchId,l)),await qc(r)}}(a,e),_1(a)&&v1(a)}async function w_(a,e){const i=Dt(a);i.asyncQueue.verifyOperationInProgress(),pt(Bs,"RemoteStore received new credentials");const r=Qs(i);i.Ea.add(3),await Co(i),r&&i.Ra.set("Unknown"),await i.remoteSyncer.handleCredentialChange(e),i.Ea.delete(3),await Bc(i)}async function Wb(a,e){const i=Dt(a);e?(i.Ea.delete(2),await Bc(i)):e||(i.Ea.add(2),await Co(i),i.Ra.set("Unknown"))}function Wa(a){return a.ma||(a.ma=function(i,r,l){const u=Dt(i);return u.sa(),new Pb(r,u.connection,u.authCredentials,u.appCheckCredentials,u.serializer,l)}(a.datastore,a.asyncQueue,{Xo:jb.bind(null,a),t_:Fb.bind(null,a),r_:Gb.bind(null,a),H_:Qb.bind(null,a)}),a.da.push(async e=>{e?(a.ma.B_(),$d(a)?Zd(a):a.Ra.set("Unknown")):(await a.ma.stop(),p1(a))})),a.ma}function ns(a){return a.fa||(a.fa=function(i,r,l){const u=Dt(i);return u.sa(),new kb(r,u.connection,u.authCredentials,u.appCheckCredentials,u.serializer,l)}(a.datastore,a.asyncQueue,{Xo:()=>Promise.resolve(),t_:Kb.bind(null,a),r_:Jb.bind(null,a),ta:Zb.bind(null,a),na:$b.bind(null,a)}),a.da.push(async e=>{e?(a.fa.B_(),await qc(a)):(await a.fa.stop(),a.Ta.length>0&&(pt(Bs,`Stopping write stream with ${a.Ta.length} pending writes`),a.Ta=[]))})),a.fa}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jd{constructor(e,i,r,l,u){this.asyncQueue=e,this.timerId=i,this.targetTimeMs=r,this.op=l,this.removalCallback=u,this.deferred=new Ls,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(h=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,i,r,l,u){const h=Date.now()+r,m=new Jd(e,i,h,l,u);return m.start(r),m}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new vt(dt.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function Wd(a,e){if(yr("AsyncQueue",`${e}: ${a}`),Ja(a))return new vt(dt.UNAVAILABLE,`${e}: ${a}`);throw a}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qa{static emptySet(e){return new qa(e.comparator)}constructor(e){this.comparator=e?(i,r)=>e(i,r)||Tt.comparator(i.key,r.key):(i,r)=>Tt.comparator(i.key,r.key),this.keyedMap=ro(),this.sortedSet=new Ee(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const i=this.keyedMap.get(e);return i?this.sortedSet.indexOf(i):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((i,r)=>(e(i),!1))}add(e){const i=this.delete(e.key);return i.copy(i.keyedMap.insert(e.key,e),i.sortedSet.insert(e,null))}delete(e){const i=this.get(e);return i?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(i)):this}isEqual(e){if(!(e instanceof qa)||this.size!==e.size)return!1;const i=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;i.hasNext();){const l=i.getNext().key,u=r.getNext().key;if(!l.isEqual(u))return!1}return!0}toString(){const e=[];return this.forEach(i=>{e.push(i.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,i){const r=new qa;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=i,r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class C_{constructor(){this.ga=new Ee(Tt.comparator)}track(e){const i=e.doc.key,r=this.ga.get(i);r?e.type!==0&&r.type===3?this.ga=this.ga.insert(i,e):e.type===3&&r.type!==1?this.ga=this.ga.insert(i,{type:r.type,doc:e.doc}):e.type===2&&r.type===2?this.ga=this.ga.insert(i,{type:2,doc:e.doc}):e.type===2&&r.type===0?this.ga=this.ga.insert(i,{type:0,doc:e.doc}):e.type===1&&r.type===0?this.ga=this.ga.remove(i):e.type===1&&r.type===2?this.ga=this.ga.insert(i,{type:1,doc:r.doc}):e.type===0&&r.type===1?this.ga=this.ga.insert(i,{type:2,doc:e.doc}):St(63341,{Rt:e,pa:r}):this.ga=this.ga.insert(i,e)}ya(){const e=[];return this.ga.inorderTraversal((i,r)=>{e.push(r)}),e}}class Ka{constructor(e,i,r,l,u,h,m,g,_){this.query=e,this.docs=i,this.oldDocs=r,this.docChanges=l,this.mutatedKeys=u,this.fromCache=h,this.syncStateChanged=m,this.excludesMetadataChanges=g,this.hasCachedResults=_}static fromInitialDocuments(e,i,r,l,u){const h=[];return i.forEach(m=>{h.push({type:0,doc:m})}),new Ka(e,i,qa.emptySet(i),h,r,l,!0,!1,u)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&xc(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const i=this.docChanges,r=e.docChanges;if(i.length!==r.length)return!1;for(let l=0;l<i.length;l++)if(i[l].type!==r[l].type||!i[l].doc.isEqual(r[l].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tS{constructor(){this.wa=void 0,this.Sa=[]}ba(){return this.Sa.some(e=>e.Da())}}class eS{constructor(){this.queries=D_(),this.onlineState="Unknown",this.Ca=new Set}terminate(){(function(i,r){const l=Dt(i),u=l.queries;l.queries=D_(),u.forEach((h,m)=>{for(const g of m.Sa)g.onError(r)})})(this,new vt(dt.ABORTED,"Firestore shutting down"))}}function D_(){return new Fs(a=>z0(a),xc)}async function nS(a,e){const i=Dt(a);let r=3;const l=e.query;let u=i.queries.get(l);u?!u.ba()&&e.Da()&&(r=2):(u=new tS,r=e.Da()?0:1);try{switch(r){case 0:u.wa=await i.onListen(l,!0);break;case 1:u.wa=await i.onListen(l,!1);break;case 2:await i.onFirstRemoteStoreListen(l)}}catch(h){const m=Wd(h,`Initialization of query '${La(e.query)}' failed`);return void e.onError(m)}i.queries.set(l,u),u.Sa.push(e),e.va(i.onlineState),u.wa&&e.Fa(u.wa)&&tm(i)}async function iS(a,e){const i=Dt(a),r=e.query;let l=3;const u=i.queries.get(r);if(u){const h=u.Sa.indexOf(e);h>=0&&(u.Sa.splice(h,1),u.Sa.length===0?l=e.Da()?0:1:!u.ba()&&e.Da()&&(l=2))}switch(l){case 0:return i.queries.delete(r),i.onUnlisten(r,!0);case 1:return i.queries.delete(r),i.onUnlisten(r,!1);case 2:return i.onLastRemoteStoreUnlisten(r);default:return}}function rS(a,e){const i=Dt(a);let r=!1;for(const l of e){const u=l.query,h=i.queries.get(u);if(h){for(const m of h.Sa)m.Fa(l)&&(r=!0);h.wa=l}}r&&tm(i)}function sS(a,e,i){const r=Dt(a),l=r.queries.get(e);if(l)for(const u of l.Sa)u.onError(i);r.queries.delete(e)}function tm(a){a.Ca.forEach(e=>{e.next()})}var Sd,I_;(I_=Sd||(Sd={})).Ma="default",I_.Cache="cache";class aS{constructor(e,i,r){this.query=e,this.xa=i,this.Oa=!1,this.Na=null,this.onlineState="Unknown",this.options=r||{}}Fa(e){if(!this.options.includeMetadataChanges){const r=[];for(const l of e.docChanges)l.type!==3&&r.push(l);e=new Ka(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let i=!1;return this.Oa?this.Ba(e)&&(this.xa.next(e),i=!0):this.La(e,this.onlineState)&&(this.ka(e),i=!0),this.Na=e,i}onError(e){this.xa.error(e)}va(e){this.onlineState=e;let i=!1;return this.Na&&!this.Oa&&this.La(this.Na,e)&&(this.ka(this.Na),i=!0),i}La(e,i){if(!e.fromCache||!this.Da())return!0;const r=i!=="Offline";return(!this.options.qa||!r)&&(!e.docs.isEmpty()||e.hasCachedResults||i==="Offline")}Ba(e){if(e.docChanges.length>0)return!0;const i=this.Na&&this.Na.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!i)&&this.options.includeMetadataChanges===!0}ka(e){e=Ka.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Oa=!0,this.xa.next(e)}Da(){return this.options.source!==Sd.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class E1{constructor(e){this.key=e}}class T1{constructor(e){this.key=e}}class lS{constructor(e,i){this.query=e,this.Ya=i,this.Za=null,this.hasCachedResults=!1,this.current=!1,this.Xa=kt(),this.mutatedKeys=kt(),this.eu=B0(e),this.tu=new qa(this.eu)}get nu(){return this.Ya}ru(e,i){const r=i?i.iu:new C_,l=i?i.tu:this.tu;let u=i?i.mutatedKeys:this.mutatedKeys,h=l,m=!1;const g=this.query.limitType==="F"&&l.size===this.query.limit?l.last():null,_=this.query.limitType==="L"&&l.size===this.query.limit?l.first():null;if(e.inorderTraversal((p,E)=>{const v=l.get(p),R=Uc(this.query,E)?E:null,U=!!v&&this.mutatedKeys.has(v.key),B=!!R&&(R.hasLocalMutations||this.mutatedKeys.has(R.key)&&R.hasCommittedMutations);let k=!1;v&&R?v.data.isEqual(R.data)?U!==B&&(r.track({type:3,doc:R}),k=!0):this.su(v,R)||(r.track({type:2,doc:R}),k=!0,(g&&this.eu(R,g)>0||_&&this.eu(R,_)<0)&&(m=!0)):!v&&R?(r.track({type:0,doc:R}),k=!0):v&&!R&&(r.track({type:1,doc:v}),k=!0,(g||_)&&(m=!0)),k&&(R?(h=h.add(R),u=B?u.add(p):u.delete(p)):(h=h.delete(p),u=u.delete(p)))}),this.query.limit!==null)for(;h.size>this.query.limit;){const p=this.query.limitType==="F"?h.last():h.first();h=h.delete(p.key),u=u.delete(p.key),r.track({type:1,doc:p})}return{tu:h,iu:r,Cs:m,mutatedKeys:u}}su(e,i){return e.hasLocalMutations&&i.hasCommittedMutations&&!i.hasLocalMutations}applyChanges(e,i,r,l){const u=this.tu;this.tu=e.tu,this.mutatedKeys=e.mutatedKeys;const h=e.iu.ya();h.sort((p,E)=>function(R,U){const B=k=>{switch(k){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return St(20277,{Rt:k})}};return B(R)-B(U)}(p.type,E.type)||this.eu(p.doc,E.doc)),this.ou(r),l=l??!1;const m=i&&!l?this._u():[],g=this.Xa.size===0&&this.current&&!l?1:0,_=g!==this.Za;return this.Za=g,h.length!==0||_?{snapshot:new Ka(this.query,e.tu,u,h,e.mutatedKeys,g===0,_,!1,!!r&&r.resumeToken.approximateByteSize()>0),au:m}:{au:m}}va(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({tu:this.tu,iu:new C_,mutatedKeys:this.mutatedKeys,Cs:!1},!1)):{au:[]}}uu(e){return!this.Ya.has(e)&&!!this.tu.has(e)&&!this.tu.get(e).hasLocalMutations}ou(e){e&&(e.addedDocuments.forEach(i=>this.Ya=this.Ya.add(i)),e.modifiedDocuments.forEach(i=>{}),e.removedDocuments.forEach(i=>this.Ya=this.Ya.delete(i)),this.current=e.current)}_u(){if(!this.current)return[];const e=this.Xa;this.Xa=kt(),this.tu.forEach(r=>{this.uu(r.key)&&(this.Xa=this.Xa.add(r.key))});const i=[];return e.forEach(r=>{this.Xa.has(r)||i.push(new T1(r))}),this.Xa.forEach(r=>{e.has(r)||i.push(new E1(r))}),i}cu(e){this.Ya=e.Qs,this.Xa=kt();const i=this.ru(e.documents);return this.applyChanges(i,!0)}lu(){return Ka.fromInitialDocuments(this.query,this.tu,this.mutatedKeys,this.Za===0,this.hasCachedResults)}}const em="SyncEngine";class oS{constructor(e,i,r){this.query=e,this.targetId=i,this.view=r}}class uS{constructor(e){this.key=e,this.hu=!1}}class cS{constructor(e,i,r,l,u,h){this.localStore=e,this.remoteStore=i,this.eventManager=r,this.sharedClientState=l,this.currentUser=u,this.maxConcurrentLimboResolutions=h,this.Pu={},this.Tu=new Fs(m=>z0(m),xc),this.Iu=new Map,this.Eu=new Set,this.du=new Ee(Tt.comparator),this.Au=new Map,this.Ru=new Fd,this.Vu={},this.mu=new Map,this.fu=Xa.cr(),this.onlineState="Unknown",this.gu=void 0}get isPrimaryClient(){return this.gu===!0}}async function fS(a,e,i=!0){const r=C1(a);let l;const u=r.Tu.get(e);return u?(r.sharedClientState.addLocalQueryTarget(u.targetId),l=u.view.lu()):l=await A1(r,e,i,!0),l}async function hS(a,e){const i=C1(a);await A1(i,e,!0,!1)}async function A1(a,e,i,r){const l=await Ib(a.localStore,Pi(e)),u=l.targetId,h=a.sharedClientState.addLocalQueryTarget(u,i);let m;return r&&(m=await dS(a,e,u,h==="current",l.resumeToken)),a.isPrimaryClient&&i&&m1(a.remoteStore,l),m}async function dS(a,e,i,r,l){a.pu=(E,v,R)=>async function(B,k,P,$){let F=k.view.ru(P);F.Cs&&(F=await T_(B.localStore,k.query,!1).then(({documents:L})=>k.view.ru(L,F)));const G=$&&$.targetChanges.get(k.targetId),st=$&&$.targetMismatches.get(k.targetId)!=null,q=k.view.applyChanges(F,B.isPrimaryClient,G,st);return V_(B,k.targetId,q.au),q.snapshot}(a,E,v,R);const u=await T_(a.localStore,e,!0),h=new lS(e,u.Qs),m=h.ru(u.documents),g=wo.createSynthesizedTargetChangeForCurrentChange(i,r&&a.onlineState!=="Offline",l),_=h.applyChanges(m,a.isPrimaryClient,g);V_(a,i,_.au);const p=new oS(e,i,h);return a.Tu.set(e,p),a.Iu.has(i)?a.Iu.get(i).push(e):a.Iu.set(i,[e]),_.snapshot}async function mS(a,e,i){const r=Dt(a),l=r.Tu.get(e),u=r.Iu.get(l.targetId);if(u.length>1)return r.Iu.set(l.targetId,u.filter(h=>!xc(h,e))),void r.Tu.delete(e);r.isPrimaryClient?(r.sharedClientState.removeLocalQueryTarget(l.targetId),r.sharedClientState.isActiveQueryTarget(l.targetId)||await Ad(r.localStore,l.targetId,!1).then(()=>{r.sharedClientState.clearQueryState(l.targetId),i&&Xd(r.remoteStore,l.targetId),Rd(r,l.targetId)}).catch($a)):(Rd(r,l.targetId),await Ad(r.localStore,l.targetId,!0))}async function gS(a,e){const i=Dt(a),r=i.Tu.get(e),l=i.Iu.get(r.targetId);i.isPrimaryClient&&l.length===1&&(i.sharedClientState.removeLocalQueryTarget(r.targetId),Xd(i.remoteStore,r.targetId))}async function pS(a,e,i){const r=bS(a);try{const l=await function(h,m){const g=Dt(h),_=de.now(),p=m.reduce((R,U)=>R.add(U.key),kt());let E,v;return g.persistence.runTransaction("Locally write mutations","readwrite",R=>{let U=_r(),B=kt();return g.Ns.getEntries(R,p).next(k=>{U=k,U.forEach((P,$)=>{$.isValidDocument()||(B=B.add(P))})}).next(()=>g.localDocuments.getOverlayedDocuments(R,U)).next(k=>{E=k;const P=[];for(const $ of m){const F=DA($,E.get($.key).overlayedDocument);F!=null&&P.push(new Gs($.key,F,N0(F.value.mapValue),mr.exists(!0)))}return g.mutationQueue.addMutationBatch(R,_,P,m)}).next(k=>{v=k;const P=k.applyToLocalDocumentSet(E,B);return g.documentOverlayCache.saveOverlays(R,k.batchId,P)})}).then(()=>({batchId:v.batchId,changes:H0(E)}))}(r.localStore,e);r.sharedClientState.addPendingMutation(l.batchId),function(h,m,g){let _=h.Vu[h.currentUser.toKey()];_||(_=new Ee(Pt)),_=_.insert(m,g),h.Vu[h.currentUser.toKey()]=_}(r,l.batchId,i),await Do(r,l.changes),await qc(r.remoteStore)}catch(l){const u=Wd(l,"Failed to persist write");i.reject(u)}}async function b1(a,e){const i=Dt(a);try{const r=await wb(i.localStore,e);e.targetChanges.forEach((l,u)=>{const h=i.Au.get(u);h&&(Wt(l.addedDocuments.size+l.modifiedDocuments.size+l.removedDocuments.size<=1,22616),l.addedDocuments.size>0?h.hu=!0:l.modifiedDocuments.size>0?Wt(h.hu,14607):l.removedDocuments.size>0&&(Wt(h.hu,42227),h.hu=!1))}),await Do(i,r,e)}catch(r){await $a(r)}}function O_(a,e,i){const r=Dt(a);if(r.isPrimaryClient&&i===0||!r.isPrimaryClient&&i===1){const l=[];r.Tu.forEach((u,h)=>{const m=h.view.va(e);m.snapshot&&l.push(m.snapshot)}),function(h,m){const g=Dt(h);g.onlineState=m;let _=!1;g.queries.forEach((p,E)=>{for(const v of E.Sa)v.va(m)&&(_=!0)}),_&&tm(g)}(r.eventManager,e),l.length&&r.Pu.H_(l),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}async function yS(a,e,i){const r=Dt(a);r.sharedClientState.updateQueryState(e,"rejected",i);const l=r.Au.get(e),u=l&&l.key;if(u){let h=new Ee(Tt.comparator);h=h.insert(u,An.newNoDocument(u,Ct.min()));const m=kt().add(u),g=new kc(Ct.min(),new Map,new Ee(Pt),h,m);await b1(r,g),r.du=r.du.remove(u),r.Au.delete(e),nm(r)}else await Ad(r.localStore,e,!1).then(()=>Rd(r,e,i)).catch($a)}async function _S(a,e){const i=Dt(a),r=e.batch.batchId;try{const l=await Rb(i.localStore,e);R1(i,r,null),S1(i,r),i.sharedClientState.updateMutationState(r,"acknowledged"),await Do(i,l)}catch(l){await $a(l)}}async function vS(a,e,i){const r=Dt(a);try{const l=await function(h,m){const g=Dt(h);return g.persistence.runTransaction("Reject batch","readwrite-primary",_=>{let p;return g.mutationQueue.lookupMutationBatch(_,m).next(E=>(Wt(E!==null,37113),p=E.keys(),g.mutationQueue.removeMutationBatch(_,E))).next(()=>g.mutationQueue.performConsistencyCheck(_)).next(()=>g.documentOverlayCache.removeOverlaysForBatchId(_,p,m)).next(()=>g.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(_,p)).next(()=>g.localDocuments.getDocuments(_,p))})}(r.localStore,e);R1(r,e,i),S1(r,e),r.sharedClientState.updateMutationState(e,"rejected",i),await Do(r,l)}catch(l){await $a(l)}}function S1(a,e){(a.mu.get(e)||[]).forEach(i=>{i.resolve()}),a.mu.delete(e)}function R1(a,e,i){const r=Dt(a);let l=r.Vu[r.currentUser.toKey()];if(l){const u=l.get(e);u&&(i?u.reject(i):u.resolve(),l=l.remove(e)),r.Vu[r.currentUser.toKey()]=l}}function Rd(a,e,i=null){a.sharedClientState.removeLocalQueryTarget(e);for(const r of a.Iu.get(e))a.Tu.delete(r),i&&a.Pu.yu(r,i);a.Iu.delete(e),a.isPrimaryClient&&a.Ru.jr(e).forEach(r=>{a.Ru.containsKey(r)||w1(a,r)})}function w1(a,e){a.Eu.delete(e.path.canonicalString());const i=a.du.get(e);i!==null&&(Xd(a.remoteStore,i),a.du=a.du.remove(e),a.Au.delete(i),nm(a))}function V_(a,e,i){for(const r of i)r instanceof E1?(a.Ru.addReference(r.key,e),ES(a,r)):r instanceof T1?(pt(em,"Document no longer in limbo: "+r.key),a.Ru.removeReference(r.key,e),a.Ru.containsKey(r.key)||w1(a,r.key)):St(19791,{wu:r})}function ES(a,e){const i=e.key,r=i.path.canonicalString();a.du.get(i)||a.Eu.has(r)||(pt(em,"New document in limbo: "+i),a.Eu.add(r),nm(a))}function nm(a){for(;a.Eu.size>0&&a.du.size<a.maxConcurrentLimboResolutions;){const e=a.Eu.values().next().value;a.Eu.delete(e);const i=new Tt(ve.fromString(e)),r=a.fu.next();a.Au.set(r,new uS(i)),a.du=a.du.insert(i,r),m1(a.remoteStore,new Yr(Pi(zd(i.path)),r,"TargetPurposeLimboResolution",Oc.ce))}}async function Do(a,e,i){const r=Dt(a),l=[],u=[],h=[];r.Tu.isEmpty()||(r.Tu.forEach((m,g)=>{h.push(r.pu(g,e,i).then(_=>{if((_||i)&&r.isPrimaryClient){const p=_?!_.fromCache:i?.targetChanges.get(g.targetId)?.current;r.sharedClientState.updateQueryState(g.targetId,p?"current":"not-current")}if(_){l.push(_);const p=Qd.As(g.targetId,_);u.push(p)}}))}),await Promise.all(h),r.Pu.H_(l),await async function(g,_){const p=Dt(g);try{await p.persistence.runTransaction("notifyLocalViewChanges","readwrite",E=>ht.forEach(_,v=>ht.forEach(v.Es,R=>p.persistence.referenceDelegate.addReference(E,v.targetId,R)).next(()=>ht.forEach(v.ds,R=>p.persistence.referenceDelegate.removeReference(E,v.targetId,R)))))}catch(E){if(!Ja(E))throw E;pt(Yd,"Failed to update sequence numbers: "+E)}for(const E of _){const v=E.targetId;if(!E.fromCache){const R=p.Ms.get(v),U=R.snapshotVersion,B=R.withLastLimboFreeSnapshotVersion(U);p.Ms=p.Ms.insert(v,B)}}}(r.localStore,u))}async function TS(a,e){const i=Dt(a);if(!i.currentUser.isEqual(e)){pt(em,"User change. New user:",e.toKey());const r=await c1(i.localStore,e);i.currentUser=e,function(u,h){u.mu.forEach(m=>{m.forEach(g=>{g.reject(new vt(dt.CANCELLED,h))})}),u.mu.clear()}(i,"'waitForPendingWrites' promise is rejected due to a user change."),i.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),await Do(i,r.Ls)}}function AS(a,e){const i=Dt(a),r=i.Au.get(e);if(r&&r.hu)return kt().add(r.key);{let l=kt();const u=i.Iu.get(e);if(!u)return l;for(const h of u){const m=i.Tu.get(h);l=l.unionWith(m.view.nu)}return l}}function C1(a){const e=Dt(a);return e.remoteStore.remoteSyncer.applyRemoteEvent=b1.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=AS.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=yS.bind(null,e),e.Pu.H_=rS.bind(null,e.eventManager),e.Pu.yu=sS.bind(null,e.eventManager),e}function bS(a){const e=Dt(a);return e.remoteStore.remoteSyncer.applySuccessfulWrite=_S.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=vS.bind(null,e),e}class bc{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=zc(e.databaseInfo.databaseId),this.sharedClientState=this.Du(e),this.persistence=this.Cu(e),await this.persistence.start(),this.localStore=this.vu(e),this.gcScheduler=this.Fu(e,this.localStore),this.indexBackfillerScheduler=this.Mu(e,this.localStore)}Fu(e,i){return null}Mu(e,i){return null}vu(e){return Sb(this.persistence,new Tb,e.initialUser,this.serializer)}Cu(e){return new u1(Gd.mi,this.serializer)}Du(e){return new Vb}async terminate(){this.gcScheduler?.stop(),this.indexBackfillerScheduler?.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}bc.provider={build:()=>new bc};class SS extends bc{constructor(e){super(),this.cacheSizeBytes=e}Fu(e,i){Wt(this.persistence.referenceDelegate instanceof Tc,46915);const r=this.persistence.referenceDelegate.garbageCollector;return new ab(r,e.asyncQueue,i)}Cu(e){const i=this.cacheSizeBytes!==void 0?Un.withCacheSize(this.cacheSizeBytes):Un.DEFAULT;return new u1(r=>Tc.mi(r,i),this.serializer)}}class wd{async initialize(e,i){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(i),this.remoteStore=this.createRemoteStore(i),this.eventManager=this.createEventManager(i),this.syncEngine=this.createSyncEngine(i,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=r=>O_(this.syncEngine,r,1),this.remoteStore.remoteSyncer.handleCredentialChange=TS.bind(null,this.syncEngine),await Wb(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return function(){return new eS}()}createDatastore(e){const i=zc(e.databaseInfo.databaseId),r=function(u){return new Lb(u)}(e.databaseInfo);return function(u,h,m,g){return new Bb(u,h,m,g)}(e.authCredentials,e.appCheckCredentials,r,i)}createRemoteStore(e){return function(r,l,u,h,m){return new Hb(r,l,u,h,m)}(this.localStore,this.datastore,e.asyncQueue,i=>O_(this.syncEngine,i,0),function(){return S_.v()?new S_:new Nb}())}createSyncEngine(e,i){return function(l,u,h,m,g,_,p){const E=new cS(l,u,h,m,g,_);return p&&(E.gu=!0),E}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,i)}async terminate(){await async function(i){const r=Dt(i);pt(Bs,"RemoteStore shutting down."),r.Ea.add(5),await Co(r),r.Aa.shutdown(),r.Ra.set("Unknown")}(this.remoteStore),this.datastore?.terminate(),this.eventManager?.terminate()}}wd.provider={build:()=>new wd};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class RS{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Ou(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Ou(this.observer.error,e):yr("Uncaught Error in snapshot listener:",e.toString()))}Nu(){this.muted=!0}Ou(e,i){setTimeout(()=>{this.muted||e(i)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const is="FirestoreClient";class wS{constructor(e,i,r,l,u){this.authCredentials=e,this.appCheckCredentials=i,this.asyncQueue=r,this.databaseInfo=l,this.user=Tn.UNAUTHENTICATED,this.clientId=Nd.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=u,this.authCredentials.start(r,async h=>{pt(is,"Received user=",h.uid),await this.authCredentialListener(h),this.user=h}),this.appCheckCredentials.start(r,h=>(pt(is,"Received new app check token=",h),this.appCheckCredentialListener(h,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new Ls;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(i){const r=Wd(i,"Failed to shutdown persistence");e.reject(r)}}),e.promise}}async function nd(a,e){a.asyncQueue.verifyOperationInProgress(),pt(is,"Initializing OfflineComponentProvider");const i=a.configuration;await e.initialize(i);let r=i.initialUser;a.setCredentialChangeListener(async l=>{r.isEqual(l)||(await c1(e.localStore,l),r=l)}),e.persistence.setDatabaseDeletedListener(()=>a.terminate()),a._offlineComponents=e}async function N_(a,e){a.asyncQueue.verifyOperationInProgress();const i=await CS(a);pt(is,"Initializing OnlineComponentProvider"),await e.initialize(i,a.configuration),a.setCredentialChangeListener(r=>w_(e.remoteStore,r)),a.setAppCheckTokenChangeListener((r,l)=>w_(e.remoteStore,l)),a._onlineComponents=e}async function CS(a){if(!a._offlineComponents)if(a._uninitializedComponentsProvider){pt(is,"Using user provided OfflineComponentProvider");try{await nd(a,a._uninitializedComponentsProvider._offline)}catch(e){const i=e;if(!function(l){return l.name==="FirebaseError"?l.code===dt.FAILED_PRECONDITION||l.code===dt.UNIMPLEMENTED:!(typeof DOMException<"u"&&l instanceof DOMException)||l.code===22||l.code===20||l.code===11}(i))throw i;Fa("Error using user provided cache. Falling back to memory cache: "+i),await nd(a,new bc)}}else pt(is,"Using default OfflineComponentProvider"),await nd(a,new SS(void 0));return a._offlineComponents}async function D1(a){return a._onlineComponents||(a._uninitializedComponentsProvider?(pt(is,"Using user provided OnlineComponentProvider"),await N_(a,a._uninitializedComponentsProvider._online)):(pt(is,"Using default OnlineComponentProvider"),await N_(a,new wd))),a._onlineComponents}function DS(a){return D1(a).then(e=>e.syncEngine)}async function M_(a){const e=await D1(a),i=e.eventManager;return i.onListen=fS.bind(null,e.syncEngine),i.onUnlisten=mS.bind(null,e.syncEngine),i.onFirstRemoteStoreListen=hS.bind(null,e.syncEngine),i.onLastRemoteStoreUnlisten=gS.bind(null,e.syncEngine),i}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function I1(a){const e={};return a.timeoutSeconds!==void 0&&(e.timeoutSeconds=a.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const x_=new Map;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const O1="firestore.googleapis.com",U_=!0;class L_{constructor(e){if(e.host===void 0){if(e.ssl!==void 0)throw new vt(dt.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=O1,this.ssl=U_}else this.host=e.host,this.ssl=e.ssl??U_;if(this.isUsingEmulator=e.emulatorOptions!==void 0,this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=o1;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<rb)throw new vt(dt.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}q2("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=I1(e.experimentalLongPollingOptions??{}),function(r){if(r.timeoutSeconds!==void 0){if(isNaN(r.timeoutSeconds))throw new vt(dt.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (must not be NaN)`);if(r.timeoutSeconds<5)throw new vt(dt.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (minimum allowed value is 5)`);if(r.timeoutSeconds>30)throw new vt(dt.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(r,l){return r.timeoutSeconds===l.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class im{constructor(e,i,r,l){this._authCredentials=e,this._appCheckCredentials=i,this._databaseId=r,this._app=l,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new L_({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new vt(dt.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new vt(dt.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new L_(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=function(r){if(!r)return new O2;switch(r.type){case"firstParty":return new x2(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new vt(dt.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(i){const r=x_.get(i);r&&(pt("ComponentProvider","Removing Datastore"),x_.delete(i),r.terminate())}(this),Promise.resolve()}}function IS(a,e,i,r={}){a=Ba(a,im);const l=bo(e),u=a._getSettings(),h={...u,emulatorOptions:a._getEmulatorOptions()},m=`${e}:${i}`;l&&(t0(`https://${m}`),n0("Firestore",!0)),u.host!==O1&&u.host!==m&&Fa("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const g={...u,host:m,ssl:l,emulatorOptions:r};if(!fc(g,h)&&(a._setSettings(g),r.mockUserToken)){let _,p;if(typeof r.mockUserToken=="string")_=r.mockUserToken,p=Tn.MOCK_USER;else{_=e0(r.mockUserToken,a._app?.options.projectId);const E=r.mockUserToken.sub||r.mockUserToken.user_id;if(!E)throw new vt(dt.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");p=new Tn(E)}a._authCredentials=new V2(new T0(_,p))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hc{constructor(e,i,r){this.converter=i,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new Hc(this.firestore,e,this._query)}}class rn{constructor(e,i,r){this.converter=i,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Ao(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new rn(this.firestore,e,this._key)}toJSON(){return{type:rn._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(e,i,r){if(So(i,rn._jsonSchema))return new rn(e,r||null,new Tt(ve.fromString(i.referencePath)))}}rn._jsonSchemaVersion="firestore/documentReference/1.0",rn._jsonSchema={type:ke("string",rn._jsonSchemaVersion),referencePath:ke("string")};class Ao extends Hc{constructor(e,i,r){super(e,i,zd(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new rn(this.firestore,null,new Tt(e))}withConverter(e){return new Ao(this.firestore,e,this._path)}}function P_(a,e,...i){if(a=gr(a),arguments.length===1&&(e=Nd.newId()),B2("doc","path",e),a instanceof im){const r=ve.fromString(e,...i);return Ky(r),new rn(a,null,new Tt(r))}{if(!(a instanceof rn||a instanceof Ao))throw new vt(dt.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=a._path.child(ve.fromString(e,...i));return Ky(r),new rn(a.firestore,a instanceof Ao?a.converter:null,new Tt(r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const k_="AsyncQueue";class z_{constructor(e=Promise.resolve()){this.Xu=[],this.ec=!1,this.tc=[],this.nc=null,this.rc=!1,this.sc=!1,this.oc=[],this.M_=new h1(this,"async_queue_retry"),this._c=()=>{const r=ed();r&&pt(k_,"Visibility state changed to "+r.visibilityState),this.M_.w_()},this.ac=e;const i=ed();i&&typeof i.addEventListener=="function"&&i.addEventListener("visibilitychange",this._c)}get isShuttingDown(){return this.ec}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.uc(),this.cc(e)}enterRestrictedMode(e){if(!this.ec){this.ec=!0,this.sc=e||!1;const i=ed();i&&typeof i.removeEventListener=="function"&&i.removeEventListener("visibilitychange",this._c)}}enqueue(e){if(this.uc(),this.ec)return new Promise(()=>{});const i=new Ls;return this.cc(()=>this.ec&&this.sc?Promise.resolve():(e().then(i.resolve,i.reject),i.promise)).then(()=>i.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Xu.push(e),this.lc()))}async lc(){if(this.Xu.length!==0){try{await this.Xu[0](),this.Xu.shift(),this.M_.reset()}catch(e){if(!Ja(e))throw e;pt(k_,"Operation failed with retryable error: "+e)}this.Xu.length>0&&this.M_.p_(()=>this.lc())}}cc(e){const i=this.ac.then(()=>(this.rc=!0,e().catch(r=>{throw this.nc=r,this.rc=!1,yr("INTERNAL UNHANDLED ERROR: ",B_(r)),r}).then(r=>(this.rc=!1,r))));return this.ac=i,i}enqueueAfterDelay(e,i,r){this.uc(),this.oc.indexOf(e)>-1&&(i=0);const l=Jd.createAndSchedule(this,e,i,r,u=>this.hc(u));return this.tc.push(l),l}uc(){this.nc&&St(47125,{Pc:B_(this.nc)})}verifyOperationInProgress(){}async Tc(){let e;do e=this.ac,await e;while(e!==this.ac)}Ic(e){for(const i of this.tc)if(i.timerId===e)return!0;return!1}Ec(e){return this.Tc().then(()=>{this.tc.sort((i,r)=>i.targetTimeMs-r.targetTimeMs);for(const i of this.tc)if(i.skipDelay(),e!=="all"&&i.timerId===e)break;return this.Tc()})}dc(e){this.oc.push(e)}hc(e){const i=this.tc.indexOf(e);this.tc.splice(i,1)}}function B_(a){let e=a.message||"";return a.stack&&(e=a.stack.includes(a.message)?a.stack:a.message+`
`+a.stack),e}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function q_(a){return function(i,r){if(typeof i!="object"||i===null)return!1;const l=i;for(const u of r)if(u in l&&typeof l[u]=="function")return!0;return!1}(a,["next","error","complete"])}class Sc extends im{constructor(e,i,r,l){super(e,i,r,l),this.type="firestore",this._queue=new z_,this._persistenceKey=l?.name||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new z_(e),this._firestoreClient=void 0,await e}}}function OS(a,e){const i=typeof a=="object"?a:f0(),r=typeof a=="string"?a:mc,l=l0(i,"firestore").getImmediate({identifier:r});if(!l._initialized){const u=J_("firestore");u&&IS(l,...u)}return l}function V1(a){if(a._terminated)throw new vt(dt.FAILED_PRECONDITION,"The client has already been terminated.");return a._firestoreClient||VS(a),a._firestoreClient}function VS(a){const e=a._freezeSettings(),i=function(l,u,h,m){return new J2(l,u,h,m.host,m.ssl,m.experimentalForceLongPolling,m.experimentalAutoDetectLongPolling,I1(m.experimentalLongPollingOptions),m.useFetchStreams,m.isUsingEmulator)}(a._databaseId,a._app?.options.appId||"",a._persistenceKey,e);a._componentsProvider||e.localCache?._offlineComponentProvider&&e.localCache?._onlineComponentProvider&&(a._componentsProvider={_offline:e.localCache._offlineComponentProvider,_online:e.localCache._onlineComponentProvider}),a._firestoreClient=new wS(a._authCredentials,a._appCheckCredentials,a._queue,i,a._componentsProvider&&function(l){const u=l?._online.build();return{_offline:l?._offline.build(u),_online:u}}(a._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class si{constructor(e){this._byteString=e}static fromBase64String(e){try{return new si(gn.fromBase64String(e))}catch(i){throw new vt(dt.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+i)}}static fromUint8Array(e){return new si(gn.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}toJSON(){return{type:si._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(e){if(So(e,si._jsonSchema))return si.fromBase64String(e.bytes)}}si._jsonSchemaVersion="firestore/bytes/1.0",si._jsonSchema={type:ke("string",si._jsonSchemaVersion),bytes:ke("string")};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rm{constructor(...e){for(let i=0;i<e.length;++i)if(e[i].length===0)throw new vt(dt.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new mn(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class N1{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zi{constructor(e,i){if(!isFinite(e)||e<-90||e>90)throw new vt(dt.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(i)||i<-180||i>180)throw new vt(dt.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+i);this._lat=e,this._long=i}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}_compareTo(e){return Pt(this._lat,e._lat)||Pt(this._long,e._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:zi._jsonSchemaVersion}}static fromJSON(e){if(So(e,zi._jsonSchema))return new zi(e.latitude,e.longitude)}}zi._jsonSchemaVersion="firestore/geoPoint/1.0",zi._jsonSchema={type:ke("string",zi._jsonSchemaVersion),latitude:ke("number"),longitude:ke("number")};/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bi{constructor(e){this._values=(e||[]).map(i=>i)}toArray(){return this._values.map(e=>e)}isEqual(e){return function(r,l){if(r.length!==l.length)return!1;for(let u=0;u<r.length;++u)if(r[u]!==l[u])return!1;return!0}(this._values,e._values)}toJSON(){return{type:Bi._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(e){if(So(e,Bi._jsonSchema)){if(Array.isArray(e.vectorValues)&&e.vectorValues.every(i=>typeof i=="number"))return new Bi(e.vectorValues);throw new vt(dt.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}Bi._jsonSchemaVersion="firestore/vectorValue/1.0",Bi._jsonSchema={type:ke("string",Bi._jsonSchemaVersion),vectorValues:ke("object")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const NS=/^__.*__$/;class MS{constructor(e,i,r){this.data=e,this.fieldMask=i,this.fieldTransforms=r}toMutation(e,i){return this.fieldMask!==null?new Gs(e,this.data,this.fieldMask,i,this.fieldTransforms):new Ro(e,this.data,i,this.fieldTransforms)}}function M1(a){switch(a){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw St(40011,{Ac:a})}}class sm{constructor(e,i,r,l,u,h){this.settings=e,this.databaseId=i,this.serializer=r,this.ignoreUndefinedProperties=l,u===void 0&&this.Rc(),this.fieldTransforms=u||[],this.fieldMask=h||[]}get path(){return this.settings.path}get Ac(){return this.settings.Ac}Vc(e){return new sm({...this.settings,...e},this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}mc(e){const i=this.path?.child(e),r=this.Vc({path:i,fc:!1});return r.gc(e),r}yc(e){const i=this.path?.child(e),r=this.Vc({path:i,fc:!1});return r.Rc(),r}wc(e){return this.Vc({path:void 0,fc:!0})}Sc(e){return Rc(e,this.settings.methodName,this.settings.bc||!1,this.path,this.settings.Dc)}contains(e){return this.fieldMask.find(i=>e.isPrefixOf(i))!==void 0||this.fieldTransforms.find(i=>e.isPrefixOf(i.field))!==void 0}Rc(){if(this.path)for(let e=0;e<this.path.length;e++)this.gc(this.path.get(e))}gc(e){if(e.length===0)throw this.Sc("Document fields must not be empty");if(M1(this.Ac)&&NS.test(e))throw this.Sc('Document fields cannot begin and end with "__"')}}class xS{constructor(e,i,r){this.databaseId=e,this.ignoreUndefinedProperties=i,this.serializer=r||zc(e)}Cc(e,i,r,l=!1){return new sm({Ac:e,methodName:i,Dc:r,path:mn.emptyPath(),fc:!1,bc:l},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function US(a){const e=a._freezeSettings(),i=zc(a._databaseId);return new xS(a._databaseId,!!e.ignoreUndefinedProperties,i)}function LS(a,e,i,r,l,u={}){const h=a.Cc(u.merge||u.mergeFields?2:0,e,i,l);P1("Data must be an object, but it was:",h,r);const m=U1(r,h);let g,_;if(u.merge)g=new yi(h.fieldMask),_=h.fieldTransforms;else if(u.mergeFields){const p=[];for(const E of u.mergeFields){const v=PS(e,E,i);if(!h.contains(v))throw new vt(dt.INVALID_ARGUMENT,`Field '${v}' is specified in your field mask but missing from your input data.`);zS(p,v)||p.push(v)}g=new yi(p),_=h.fieldTransforms.filter(E=>g.covers(E.field))}else g=null,_=h.fieldTransforms;return new MS(new ri(m),g,_)}function x1(a,e){if(L1(a=gr(a)))return P1("Unsupported field value:",e,a),U1(a,e);if(a instanceof N1)return function(r,l){if(!M1(l.Ac))throw l.Sc(`${r._methodName}() can only be used with update() and set()`);if(!l.path)throw l.Sc(`${r._methodName}() is not currently supported inside arrays`);const u=r._toFieldTransform(l);u&&l.fieldTransforms.push(u)}(a,e),null;if(a===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),a instanceof Array){if(e.settings.fc&&e.Ac!==4)throw e.Sc("Nested arrays are not supported");return function(r,l){const u=[];let h=0;for(const m of r){let g=x1(m,l.wc(h));g==null&&(g={nullValue:"NULL_VALUE"}),u.push(g),h++}return{arrayValue:{values:u}}}(a,e)}return function(r,l){if((r=gr(r))===null)return{nullValue:"NULL_VALUE"};if(typeof r=="number")return AA(l.serializer,r);if(typeof r=="boolean")return{booleanValue:r};if(typeof r=="string")return{stringValue:r};if(r instanceof Date){const u=de.fromDate(r);return{timestampValue:Ec(l.serializer,u)}}if(r instanceof de){const u=new de(r.seconds,1e3*Math.floor(r.nanoseconds/1e3));return{timestampValue:Ec(l.serializer,u)}}if(r instanceof zi)return{geoPointValue:{latitude:r.latitude,longitude:r.longitude}};if(r instanceof si)return{bytesValue:e1(l.serializer,r._byteString)};if(r instanceof rn){const u=l.databaseId,h=r.firestore._databaseId;if(!h.isEqual(u))throw l.Sc(`Document reference is for database ${h.projectId}/${h.database} but should be for database ${u.projectId}/${u.database}`);return{referenceValue:jd(r.firestore._databaseId||l.databaseId,r._key.path)}}if(r instanceof Bi)return function(h,m){return{mapValue:{fields:{[O0]:{stringValue:V0},[gc]:{arrayValue:{values:h.toArray().map(_=>{if(typeof _!="number")throw m.Sc("VectorValues must only contain numeric values.");return Bd(m.serializer,_)})}}}}}}(r,l);throw l.Sc(`Unsupported field value: ${Md(r)}`)}(a,e)}function U1(a,e){const i={};return S0(a)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):js(a,(r,l)=>{const u=x1(l,e.mc(r));u!=null&&(i[r]=u)}),{mapValue:{fields:i}}}function L1(a){return!(typeof a!="object"||a===null||a instanceof Array||a instanceof Date||a instanceof de||a instanceof zi||a instanceof si||a instanceof rn||a instanceof N1||a instanceof Bi)}function P1(a,e,i){if(!L1(i)||!A0(i)){const r=Md(i);throw r==="an object"?e.Sc(a+" a custom object"):e.Sc(a+" "+r)}}function PS(a,e,i){if((e=gr(e))instanceof rm)return e._internalPath;if(typeof e=="string")return k1(a,e);throw Rc("Field path arguments must be of type string or ",a,!1,void 0,i)}const kS=new RegExp("[~\\*/\\[\\]]");function k1(a,e,i){if(e.search(kS)>=0)throw Rc(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,a,!1,void 0,i);try{return new rm(...e.split("."))._internalPath}catch{throw Rc(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,a,!1,void 0,i)}}function Rc(a,e,i,r,l){const u=r&&!r.isEmpty(),h=l!==void 0;let m=`Function ${e}() called with invalid data`;i&&(m+=" (via `toFirestore()`)"),m+=". ";let g="";return(u||h)&&(g+=" (found",u&&(g+=` in field ${r}`),h&&(g+=` in document ${l}`),g+=")"),new vt(dt.INVALID_ARGUMENT,m+a+g)}function zS(a,e){return a.some(i=>i.isEqual(e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class z1{constructor(e,i,r,l,u){this._firestore=e,this._userDataWriter=i,this._key=r,this._document=l,this._converter=u}get id(){return this._key.path.lastSegment()}get ref(){return new rn(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new BS(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const i=this._document.data.field(B1("DocumentSnapshot.get",e));if(i!==null)return this._userDataWriter.convertValue(i)}}}class BS extends z1{data(){return super.data()}}function B1(a,e){return typeof e=="string"?k1(a,e):e instanceof rm?e._internalPath:e._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function qS(a){if(a.limitType==="L"&&a.explicitOrderBy.length===0)throw new vt(dt.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class HS{convertValue(e,i="none"){switch(es(e)){case 0:return null;case 1:return e.booleanValue;case 2:return Oe(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,i);case 5:return e.stringValue;case 6:return this.convertBytes(ts(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,i);case 11:return this.convertObject(e.mapValue,i);case 10:return this.convertVectorValue(e.mapValue);default:throw St(62114,{value:e})}}convertObject(e,i){return this.convertObjectMap(e.fields,i)}convertObjectMap(e,i="none"){const r={};return js(e,(l,u)=>{r[l]=this.convertValue(u,i)}),r}convertVectorValue(e){const i=e.fields?.[gc].arrayValue?.values?.map(r=>Oe(r.doubleValue));return new Bi(i)}convertGeoPoint(e){return new zi(Oe(e.latitude),Oe(e.longitude))}convertArray(e,i){return(e.values||[]).map(r=>this.convertValue(r,i))}convertServerTimestamp(e,i){switch(i){case"previous":const r=Nc(e);return r==null?null:this.convertValue(r,i);case"estimate":return this.convertTimestamp(yo(e));default:return null}}convertTimestamp(e){const i=Wr(e);return new de(i.seconds,i.nanos)}convertDocumentKey(e,i){const r=ve.fromString(e);Wt(l1(r),9688,{name:e});const l=new _o(r.get(1),r.get(3)),u=new Tt(r.popFirst(5));return l.isEqual(i)||yr(`Document ${u} contains a document reference within a different database (${l.projectId}/${l.database}) which is not supported. It will be treated as a reference in the current database (${i.projectId}/${i.database}) instead.`),u}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function jS(a,e,i){let r;return r=a?i&&(i.merge||i.mergeFields)?a.toFirestore(e,i):a.toFirestore(e):e,r}class ao{constructor(e,i){this.hasPendingWrites=e,this.fromCache=i}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class Ps extends z1{constructor(e,i,r,l,u,h){super(e,i,r,l,h),this._firestore=e,this._firestoreImpl=e,this.metadata=u}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const i=new oc(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(i,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,i={}){if(this._document){const r=this._document.data.field(B1("DocumentSnapshot.get",e));if(r!==null)return this._userDataWriter.convertValue(r,i.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new vt(dt.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e=this._document,i={};return i.type=Ps._jsonSchemaVersion,i.bundle="",i.bundleSource="DocumentSnapshot",i.bundleName=this._key.toString(),!e||!e.isValidDocument()||!e.isFoundDocument()?i:(this._userDataWriter.convertObjectMap(e.data.value.mapValue.fields,"previous"),i.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),i)}}Ps._jsonSchemaVersion="firestore/documentSnapshot/1.0",Ps._jsonSchema={type:ke("string",Ps._jsonSchemaVersion),bundleSource:ke("string","DocumentSnapshot"),bundleName:ke("string"),bundle:ke("string")};class oc extends Ps{data(e={}){return super.data(e)}}class Ha{constructor(e,i,r,l){this._firestore=e,this._userDataWriter=i,this._snapshot=l,this.metadata=new ao(l.hasPendingWrites,l.fromCache),this.query=r}get docs(){const e=[];return this.forEach(i=>e.push(i)),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,i){this._snapshot.docs.forEach(r=>{e.call(i,new oc(this._firestore,this._userDataWriter,r.key,r,new ao(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const i=!!e.includeMetadataChanges;if(i&&this._snapshot.excludesMetadataChanges)throw new vt(dt.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===i||(this._cachedChanges=function(l,u){if(l._snapshot.oldDocs.isEmpty()){let h=0;return l._snapshot.docChanges.map(m=>{const g=new oc(l._firestore,l._userDataWriter,m.doc.key,m.doc,new ao(l._snapshot.mutatedKeys.has(m.doc.key),l._snapshot.fromCache),l.query.converter);return m.doc,{type:"added",doc:g,oldIndex:-1,newIndex:h++}})}{let h=l._snapshot.oldDocs;return l._snapshot.docChanges.filter(m=>u||m.type!==3).map(m=>{const g=new oc(l._firestore,l._userDataWriter,m.doc.key,m.doc,new ao(l._snapshot.mutatedKeys.has(m.doc.key),l._snapshot.fromCache),l.query.converter);let _=-1,p=-1;return m.type!==0&&(_=h.indexOf(m.doc.key),h=h.delete(m.doc.key)),m.type!==1&&(h=h.add(m.doc),p=h.indexOf(m.doc.key)),{type:FS(m.type),doc:g,oldIndex:_,newIndex:p}})}}(this,i),this._cachedChangesIncludeMetadataChanges=i),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new vt(dt.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e={};e.type=Ha._jsonSchemaVersion,e.bundleSource="QuerySnapshot",e.bundleName=Nd.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const i=[],r=[],l=[];return this.docs.forEach(u=>{u._document!==null&&(i.push(u._document),r.push(this._userDataWriter.convertObjectMap(u._document.data.value.mapValue.fields,"previous")),l.push(u.ref.path))}),e.bundle=(this._firestore,this.query._query,e.bundleName,"NOT SUPPORTED"),e}}function FS(a){switch(a){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return St(61501,{type:a})}}Ha._jsonSchemaVersion="firestore/querySnapshot/1.0",Ha._jsonSchema={type:ke("string",Ha._jsonSchemaVersion),bundleSource:ke("string","QuerySnapshot"),bundleName:ke("string"),bundle:ke("string")};class q1 extends HS{constructor(e){super(),this.firestore=e}convertBytes(e){return new si(e)}convertReference(e){const i=this.convertDocumentKey(e,this.firestore._databaseId);return new rn(this.firestore,null,i)}}function GS(a,e,i){a=Ba(a,rn);const r=Ba(a.firestore,Sc),l=jS(a.converter,e,i);return YS(r,[LS(US(r),"setDoc",a._key,l,a.converter!==null,i).toMutation(a._key,mr.none())])}function QS(a,...e){a=gr(a);let i={includeMetadataChanges:!1,source:"default"},r=0;typeof e[r]!="object"||q_(e[r])||(i=e[r++]);const l={includeMetadataChanges:i.includeMetadataChanges,source:i.source};if(q_(e[r])){const g=e[r];e[r]=g.next?.bind(g),e[r+1]=g.error?.bind(g),e[r+2]=g.complete?.bind(g)}let u,h,m;if(a instanceof rn)h=Ba(a.firestore,Sc),m=zd(a._key.path),u={next:g=>{e[r]&&e[r](XS(h,a,g))},error:e[r+1],complete:e[r+2]};else{const g=Ba(a,Hc);h=Ba(g.firestore,Sc),m=g._query;const _=new q1(h);u={next:p=>{e[r]&&e[r](new Ha(h,_,g,p))},error:e[r+1],complete:e[r+2]},qS(a._query)}return function(_,p,E,v){const R=new RS(v),U=new aS(p,R,E);return _.asyncQueue.enqueueAndForget(async()=>nS(await M_(_),U)),()=>{R.Nu(),_.asyncQueue.enqueueAndForget(async()=>iS(await M_(_),U))}}(V1(h),m,l,u)}function YS(a,e){return function(r,l){const u=new Ls;return r.asyncQueue.enqueueAndForget(async()=>pS(await DS(r),l,u)),u.promise}(V1(a),e)}function XS(a,e,i){const r=i.docs.get(e._key),l=new q1(a);return new Ps(a,l,e._key,r,new ao(i.hasPendingWrites,i.fromCache),e.converter)}(function(e,i=!0){(function(l){Za=l})(u0),mo(new ja("firestore",(r,{instanceIdentifier:l,options:u})=>{const h=r.getProvider("app").getImmediate(),m=new Sc(new N2(r.getProvider("auth-internal")),new U2(h,r.getProvider("app-check-internal")),function(_,p){if(!Object.prototype.hasOwnProperty.apply(_.options,["projectId"]))throw new vt(dt.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new _o(_.options.projectId,p)}(h,l),h);return u={useFetchStreams:i,...u},m._setSettings(u),m},"PUBLIC").setMultipleInstances(!0)),Zr(Gy,Qy,e),Zr(Gy,Qy,"esm2020")})();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const H1="firebasestorage.googleapis.com",j1="storageBucket",KS=120*1e3,ZS=600*1e3;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Re extends Hs{constructor(e,i,r=0){super(id(e),`Firebase Storage: ${i} (${id(e)})`),this.status_=r,this.customData={serverResponse:null},this._baseMessage=this.message,Object.setPrototypeOf(this,Re.prototype)}get status(){return this.status_}set status(e){this.status_=e}_codeEquals(e){return id(e)===this.code}get serverResponse(){return this.customData.serverResponse}set serverResponse(e){this.customData.serverResponse=e,this.customData.serverResponse?this.message=`${this._baseMessage}
${this.customData.serverResponse}`:this.message=this._baseMessage}}var Se;(function(a){a.UNKNOWN="unknown",a.OBJECT_NOT_FOUND="object-not-found",a.BUCKET_NOT_FOUND="bucket-not-found",a.PROJECT_NOT_FOUND="project-not-found",a.QUOTA_EXCEEDED="quota-exceeded",a.UNAUTHENTICATED="unauthenticated",a.UNAUTHORIZED="unauthorized",a.UNAUTHORIZED_APP="unauthorized-app",a.RETRY_LIMIT_EXCEEDED="retry-limit-exceeded",a.INVALID_CHECKSUM="invalid-checksum",a.CANCELED="canceled",a.INVALID_EVENT_NAME="invalid-event-name",a.INVALID_URL="invalid-url",a.INVALID_DEFAULT_BUCKET="invalid-default-bucket",a.NO_DEFAULT_BUCKET="no-default-bucket",a.CANNOT_SLICE_BLOB="cannot-slice-blob",a.SERVER_FILE_WRONG_SIZE="server-file-wrong-size",a.NO_DOWNLOAD_URL="no-download-url",a.INVALID_ARGUMENT="invalid-argument",a.INVALID_ARGUMENT_COUNT="invalid-argument-count",a.APP_DELETED="app-deleted",a.INVALID_ROOT_OPERATION="invalid-root-operation",a.INVALID_FORMAT="invalid-format",a.INTERNAL_ERROR="internal-error",a.UNSUPPORTED_ENVIRONMENT="unsupported-environment"})(Se||(Se={}));function id(a){return"storage/"+a}function am(){const a="An unknown error occurred, please check the error payload for server response.";return new Re(Se.UNKNOWN,a)}function $S(a){return new Re(Se.OBJECT_NOT_FOUND,"Object '"+a+"' does not exist.")}function JS(a){return new Re(Se.QUOTA_EXCEEDED,"Quota for bucket '"+a+"' exceeded, please view quota on https://firebase.google.com/pricing/.")}function WS(){const a="User is not authenticated, please authenticate using Firebase Authentication and try again.";return new Re(Se.UNAUTHENTICATED,a)}function tR(){return new Re(Se.UNAUTHORIZED_APP,"This app does not have permission to access Firebase Storage on this project.")}function eR(a){return new Re(Se.UNAUTHORIZED,"User does not have permission to access '"+a+"'.")}function nR(){return new Re(Se.RETRY_LIMIT_EXCEEDED,"Max retry time for operation exceeded, please try again.")}function iR(){return new Re(Se.CANCELED,"User canceled the upload/download.")}function rR(a){return new Re(Se.INVALID_URL,"Invalid URL '"+a+"'.")}function sR(a){return new Re(Se.INVALID_DEFAULT_BUCKET,"Invalid default bucket '"+a+"'.")}function aR(){return new Re(Se.NO_DEFAULT_BUCKET,"No default bucket found. Did you set the '"+j1+"' property when initializing the app?")}function lR(){return new Re(Se.CANNOT_SLICE_BLOB,"Cannot slice blob for upload. Please retry the upload.")}function oR(){return new Re(Se.NO_DOWNLOAD_URL,"The given file does not have any download URLs.")}function uR(a){return new Re(Se.UNSUPPORTED_ENVIRONMENT,`${a} is missing. Make sure to install the required polyfills. See https://firebase.google.com/docs/web/environments-js-sdk#polyfills for more information.`)}function Cd(a){return new Re(Se.INVALID_ARGUMENT,a)}function F1(){return new Re(Se.APP_DELETED,"The Firebase app was deleted.")}function cR(a){return new Re(Se.INVALID_ROOT_OPERATION,"The operation '"+a+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}function ho(a,e){return new Re(Se.INVALID_FORMAT,"String does not match format '"+a+"': "+e)}function no(a){throw new Re(Se.INTERNAL_ERROR,"Internal error: "+a)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gn{constructor(e,i){this.bucket=e,this.path_=i}get path(){return this.path_}get isRoot(){return this.path.length===0}fullServerUrl(){const e=encodeURIComponent;return"/b/"+e(this.bucket)+"/o/"+e(this.path)}bucketOnlyServerUrl(){return"/b/"+encodeURIComponent(this.bucket)+"/o"}static makeFromBucketSpec(e,i){let r;try{r=Gn.makeFromUrl(e,i)}catch{return new Gn(e,"")}if(r.path==="")return r;throw sR(e)}static makeFromUrl(e,i){let r=null;const l="([A-Za-z0-9.\\-_]+)";function u(G){G.path.charAt(G.path.length-1)==="/"&&(G.path_=G.path_.slice(0,-1))}const h="(/(.*))?$",m=new RegExp("^gs://"+l+h,"i"),g={bucket:1,path:3};function _(G){G.path_=decodeURIComponent(G.path)}const p="v[A-Za-z0-9_]+",E=i.replace(/[.]/g,"\\."),v="(/([^?#]*).*)?$",R=new RegExp(`^https?://${E}/${p}/b/${l}/o${v}`,"i"),U={bucket:1,path:3},B=i===H1?"(?:storage.googleapis.com|storage.cloud.google.com)":i,k="([^?#]*)",P=new RegExp(`^https?://${B}/${l}/${k}`,"i"),F=[{regex:m,indices:g,postModify:u},{regex:R,indices:U,postModify:_},{regex:P,indices:{bucket:1,path:2},postModify:_}];for(let G=0;G<F.length;G++){const st=F[G],q=st.regex.exec(e);if(q){const L=q[st.indices.bucket];let T=q[st.indices.path];T||(T=""),r=new Gn(L,T),st.postModify(r);break}}if(r==null)throw rR(e);return r}}class fR{constructor(e){this.promise_=Promise.reject(e)}getPromise(){return this.promise_}cancel(e=!1){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function hR(a,e,i){let r=1,l=null,u=null,h=!1,m=0;function g(){return m===2}let _=!1;function p(...k){_||(_=!0,e.apply(null,k))}function E(k){l=setTimeout(()=>{l=null,a(R,g())},k)}function v(){u&&clearTimeout(u)}function R(k,...P){if(_){v();return}if(k){v(),p.call(null,k,...P);return}if(g()||h){v(),p.call(null,k,...P);return}r<64&&(r*=2);let F;m===1?(m=2,F=0):F=(r+Math.random())*1e3,E(F)}let U=!1;function B(k){U||(U=!0,v(),!_&&(l!==null?(k||(m=2),clearTimeout(l),E(0)):k||(m=1)))}return E(0),u=setTimeout(()=>{h=!0,B(!0)},i),B}function dR(a){a(!1)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function mR(a){return a!==void 0}function gR(a){return typeof a=="object"&&!Array.isArray(a)}function lm(a){return typeof a=="string"||a instanceof String}function H_(a){return om()&&a instanceof Blob}function om(){return typeof Blob<"u"}function j_(a,e,i,r){if(r<e)throw Cd(`Invalid value for '${a}'. Expected ${e} or greater.`);if(r>i)throw Cd(`Invalid value for '${a}'. Expected ${i} or less.`)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function um(a,e,i){let r=e;return i==null&&(r=`https://${e}`),`${i}://${r}/v0${a}`}function G1(a){const e=encodeURIComponent;let i="?";for(const r in a)if(a.hasOwnProperty(r)){const l=e(r)+"="+e(a[r]);i=i+l+"&"}return i=i.slice(0,-1),i}var ks;(function(a){a[a.NO_ERROR=0]="NO_ERROR",a[a.NETWORK_ERROR=1]="NETWORK_ERROR",a[a.ABORT=2]="ABORT"})(ks||(ks={}));/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function pR(a,e){const i=a>=500&&a<600,l=[408,429].indexOf(a)!==-1,u=e.indexOf(a)!==-1;return i||l||u}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yR{constructor(e,i,r,l,u,h,m,g,_,p,E,v=!0,R=!1){this.url_=e,this.method_=i,this.headers_=r,this.body_=l,this.successCodes_=u,this.additionalRetryCodes_=h,this.callback_=m,this.errorCallback_=g,this.timeout_=_,this.progressCallback_=p,this.connectionFactory_=E,this.retry=v,this.isUsingEmulator=R,this.pendingConnection_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.promise_=new Promise((U,B)=>{this.resolve_=U,this.reject_=B,this.start_()})}start_(){const e=(r,l)=>{if(l){r(!1,new ec(!1,null,!0));return}const u=this.connectionFactory_();this.pendingConnection_=u;const h=m=>{const g=m.loaded,_=m.lengthComputable?m.total:-1;this.progressCallback_!==null&&this.progressCallback_(g,_)};this.progressCallback_!==null&&u.addUploadProgressListener(h),u.send(this.url_,this.method_,this.isUsingEmulator,this.body_,this.headers_).then(()=>{this.progressCallback_!==null&&u.removeUploadProgressListener(h),this.pendingConnection_=null;const m=u.getErrorCode()===ks.NO_ERROR,g=u.getStatus();if(!m||pR(g,this.additionalRetryCodes_)&&this.retry){const p=u.getErrorCode()===ks.ABORT;r(!1,new ec(!1,null,p));return}const _=this.successCodes_.indexOf(g)!==-1;r(!0,new ec(_,u))})},i=(r,l)=>{const u=this.resolve_,h=this.reject_,m=l.connection;if(l.wasSuccessCode)try{const g=this.callback_(m,m.getResponse());mR(g)?u(g):u()}catch(g){h(g)}else if(m!==null){const g=am();g.serverResponse=m.getErrorText(),this.errorCallback_?h(this.errorCallback_(m,g)):h(g)}else if(l.canceled){const g=this.appDelete_?F1():iR();h(g)}else{const g=nR();h(g)}};this.canceled_?i(!1,new ec(!1,null,!0)):this.backoffId_=hR(e,i,this.timeout_)}getPromise(){return this.promise_}cancel(e){this.canceled_=!0,this.appDelete_=e||!1,this.backoffId_!==null&&dR(this.backoffId_),this.pendingConnection_!==null&&this.pendingConnection_.abort()}}class ec{constructor(e,i,r){this.wasSuccessCode=e,this.connection=i,this.canceled=!!r}}function _R(a,e){e!==null&&e.length>0&&(a.Authorization="Firebase "+e)}function vR(a,e){a["X-Firebase-Storage-Version"]="webjs/"+(e??"AppManager")}function ER(a,e){e&&(a["X-Firebase-GMPID"]=e)}function TR(a,e){e!==null&&(a["X-Firebase-AppCheck"]=e)}function AR(a,e,i,r,l,u,h=!0,m=!1){const g=G1(a.urlParams),_=a.url+g,p=Object.assign({},a.headers);return ER(p,e),_R(p,i),vR(p,u),TR(p,r),new yR(_,a.method,p,a.body,a.successCodes,a.additionalRetryCodes,a.handler,a.errorHandler,a.timeout,a.progressCallback,l,h,m)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function bR(){return typeof BlobBuilder<"u"?BlobBuilder:typeof WebKitBlobBuilder<"u"?WebKitBlobBuilder:void 0}function SR(...a){const e=bR();if(e!==void 0){const i=new e;for(let r=0;r<a.length;r++)i.append(a[r]);return i.getBlob()}else{if(om())return new Blob(a);throw new Re(Se.UNSUPPORTED_ENVIRONMENT,"This browser doesn't seem to support creating Blobs")}}function RR(a,e,i){return a.webkitSlice?a.webkitSlice(e,i):a.mozSlice?a.mozSlice(e,i):a.slice?a.slice(e,i):null}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function wR(a){if(typeof atob>"u")throw uR("base-64");return atob(a)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Li={RAW:"raw",BASE64:"base64",BASE64URL:"base64url",DATA_URL:"data_url"};class rd{constructor(e,i){this.data=e,this.contentType=i||null}}function CR(a,e){switch(a){case Li.RAW:return new rd(Q1(e));case Li.BASE64:case Li.BASE64URL:return new rd(Y1(a,e));case Li.DATA_URL:return new rd(IR(e),OR(e))}throw am()}function Q1(a){const e=[];for(let i=0;i<a.length;i++){let r=a.charCodeAt(i);if(r<=127)e.push(r);else if(r<=2047)e.push(192|r>>6,128|r&63);else if((r&64512)===55296)if(!(i<a.length-1&&(a.charCodeAt(i+1)&64512)===56320))e.push(239,191,189);else{const u=r,h=a.charCodeAt(++i);r=65536|(u&1023)<<10|h&1023,e.push(240|r>>18,128|r>>12&63,128|r>>6&63,128|r&63)}else(r&64512)===56320?e.push(239,191,189):e.push(224|r>>12,128|r>>6&63,128|r&63)}return new Uint8Array(e)}function DR(a){let e;try{e=decodeURIComponent(a)}catch{throw ho(Li.DATA_URL,"Malformed data URL.")}return Q1(e)}function Y1(a,e){switch(a){case Li.BASE64:{const l=e.indexOf("-")!==-1,u=e.indexOf("_")!==-1;if(l||u)throw ho(a,"Invalid character '"+(l?"-":"_")+"' found: is it base64url encoded?");break}case Li.BASE64URL:{const l=e.indexOf("+")!==-1,u=e.indexOf("/")!==-1;if(l||u)throw ho(a,"Invalid character '"+(l?"+":"/")+"' found: is it base64 encoded?");e=e.replace(/-/g,"+").replace(/_/g,"/");break}}let i;try{i=wR(e)}catch(l){throw l.message.includes("polyfill")?l:ho(a,"Invalid character found")}const r=new Uint8Array(i.length);for(let l=0;l<i.length;l++)r[l]=i.charCodeAt(l);return r}class X1{constructor(e){this.base64=!1,this.contentType=null;const i=e.match(/^data:([^,]+)?,/);if(i===null)throw ho(Li.DATA_URL,"Must be formatted 'data:[<mediatype>][;base64],<data>");const r=i[1]||null;r!=null&&(this.base64=VR(r,";base64"),this.contentType=this.base64?r.substring(0,r.length-7):r),this.rest=e.substring(e.indexOf(",")+1)}}function IR(a){const e=new X1(a);return e.base64?Y1(Li.BASE64,e.rest):DR(e.rest)}function OR(a){return new X1(a).contentType}function VR(a,e){return a.length>=e.length?a.substring(a.length-e.length)===e:!1}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qr{constructor(e,i){let r=0,l="";H_(e)?(this.data_=e,r=e.size,l=e.type):e instanceof ArrayBuffer?(i?this.data_=new Uint8Array(e):(this.data_=new Uint8Array(e.byteLength),this.data_.set(new Uint8Array(e))),r=this.data_.length):e instanceof Uint8Array&&(i?this.data_=e:(this.data_=new Uint8Array(e.length),this.data_.set(e)),r=e.length),this.size_=r,this.type_=l}size(){return this.size_}type(){return this.type_}slice(e,i){if(H_(this.data_)){const r=this.data_,l=RR(r,e,i);return l===null?null:new Qr(l)}else{const r=new Uint8Array(this.data_.buffer,e,i-e);return new Qr(r,!0)}}static getBlob(...e){if(om()){const i=e.map(r=>r instanceof Qr?r.data_:r);return new Qr(SR.apply(null,i))}else{const i=e.map(h=>lm(h)?CR(Li.RAW,h).data:h.data_);let r=0;i.forEach(h=>{r+=h.byteLength});const l=new Uint8Array(r);let u=0;return i.forEach(h=>{for(let m=0;m<h.length;m++)l[u++]=h[m]}),new Qr(l,!0)}}uploadData(){return this.data_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function K1(a){let e;try{e=JSON.parse(a)}catch{return null}return gR(e)?e:null}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function NR(a){if(a.length===0)return null;const e=a.lastIndexOf("/");return e===-1?"":a.slice(0,e)}function MR(a,e){const i=e.split("/").filter(r=>r.length>0).join("/");return a.length===0?i:a+"/"+i}function Z1(a){const e=a.lastIndexOf("/",a.length-2);return e===-1?a:a.slice(e+1)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function xR(a,e){return e}class In{constructor(e,i,r,l){this.server=e,this.local=i||e,this.writable=!!r,this.xform=l||xR}}let nc=null;function UR(a){return!lm(a)||a.length<2?a:Z1(a)}function $1(){if(nc)return nc;const a=[];a.push(new In("bucket")),a.push(new In("generation")),a.push(new In("metageneration")),a.push(new In("name","fullPath",!0));function e(u,h){return UR(h)}const i=new In("name");i.xform=e,a.push(i);function r(u,h){return h!==void 0?Number(h):h}const l=new In("size");return l.xform=r,a.push(l),a.push(new In("timeCreated")),a.push(new In("updated")),a.push(new In("md5Hash",null,!0)),a.push(new In("cacheControl",null,!0)),a.push(new In("contentDisposition",null,!0)),a.push(new In("contentEncoding",null,!0)),a.push(new In("contentLanguage",null,!0)),a.push(new In("contentType",null,!0)),a.push(new In("metadata","customMetadata",!0)),nc=a,nc}function LR(a,e){function i(){const r=a.bucket,l=a.fullPath,u=new Gn(r,l);return e._makeStorageReference(u)}Object.defineProperty(a,"ref",{get:i})}function PR(a,e,i){const r={};r.type="file";const l=i.length;for(let u=0;u<l;u++){const h=i[u];r[h.local]=h.xform(r,e[h.server])}return LR(r,a),r}function J1(a,e,i){const r=K1(e);return r===null?null:PR(a,r,i)}function kR(a,e,i,r){const l=K1(e);if(l===null||!lm(l.downloadTokens))return null;const u=l.downloadTokens;if(u.length===0)return null;const h=encodeURIComponent;return u.split(",").map(_=>{const p=a.bucket,E=a.fullPath,v="/b/"+h(p)+"/o/"+h(E),R=um(v,i,r),U=G1({alt:"media",token:_});return R+U})[0]}function zR(a,e){const i={},r=e.length;for(let l=0;l<r;l++){const u=e[l];u.writable&&(i[u.server]=a[u.local])}return JSON.stringify(i)}class W1{constructor(e,i,r,l){this.url=e,this.method=i,this.handler=r,this.timeout=l,this.urlParams={},this.headers={},this.body=null,this.errorHandler=null,this.progressCallback=null,this.successCodes=[200],this.additionalRetryCodes=[]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function tv(a){if(!a)throw am()}function BR(a,e){function i(r,l){const u=J1(a,l,e);return tv(u!==null),u}return i}function qR(a,e){function i(r,l){const u=J1(a,l,e);return tv(u!==null),kR(u,l,a.host,a._protocol)}return i}function ev(a){function e(i,r){let l;return i.getStatus()===401?i.getErrorText().includes("Firebase App Check token is invalid")?l=tR():l=WS():i.getStatus()===402?l=JS(a.bucket):i.getStatus()===403?l=eR(a.path):l=r,l.status=i.getStatus(),l.serverResponse=r.serverResponse,l}return e}function HR(a){const e=ev(a);function i(r,l){let u=e(r,l);return r.getStatus()===404&&(u=$S(a.path)),u.serverResponse=l.serverResponse,u}return i}function jR(a,e,i){const r=e.fullServerUrl(),l=um(r,a.host,a._protocol),u="GET",h=a.maxOperationRetryTime,m=new W1(l,u,qR(a,i),h);return m.errorHandler=HR(e),m}function FR(a,e){return a&&a.contentType||e&&e.type()||"application/octet-stream"}function GR(a,e,i){const r=Object.assign({},i);return r.fullPath=a.path,r.size=e.size(),r.contentType||(r.contentType=FR(null,e)),r}function QR(a,e,i,r,l){const u=e.bucketOnlyServerUrl(),h={"X-Goog-Upload-Protocol":"multipart"};function m(){let F="";for(let G=0;G<2;G++)F=F+Math.random().toString().slice(2);return F}const g=m();h["Content-Type"]="multipart/related; boundary="+g;const _=GR(e,r,l),p=zR(_,i),E="--"+g+`\r
Content-Type: application/json; charset=utf-8\r
\r
`+p+`\r
--`+g+`\r
Content-Type: `+_.contentType+`\r
\r
`,v=`\r
--`+g+"--",R=Qr.getBlob(E,r,v);if(R===null)throw lR();const U={name:_.fullPath},B=um(u,a.host,a._protocol),k="POST",P=a.maxUploadRetryTime,$=new W1(B,k,BR(a,i),P);return $.urlParams=U,$.headers=h,$.body=R.uploadData(),$.errorHandler=ev(e),$}class YR{constructor(){this.sent_=!1,this.xhr_=new XMLHttpRequest,this.initXhr(),this.errorCode_=ks.NO_ERROR,this.sendPromise_=new Promise(e=>{this.xhr_.addEventListener("abort",()=>{this.errorCode_=ks.ABORT,e()}),this.xhr_.addEventListener("error",()=>{this.errorCode_=ks.NETWORK_ERROR,e()}),this.xhr_.addEventListener("load",()=>{e()})})}send(e,i,r,l,u){if(this.sent_)throw no("cannot .send() more than once");if(bo(e)&&r&&(this.xhr_.withCredentials=!0),this.sent_=!0,this.xhr_.open(i,e,!0),u!==void 0)for(const h in u)u.hasOwnProperty(h)&&this.xhr_.setRequestHeader(h,u[h].toString());return l!==void 0?this.xhr_.send(l):this.xhr_.send(),this.sendPromise_}getErrorCode(){if(!this.sent_)throw no("cannot .getErrorCode() before sending");return this.errorCode_}getStatus(){if(!this.sent_)throw no("cannot .getStatus() before sending");try{return this.xhr_.status}catch{return-1}}getResponse(){if(!this.sent_)throw no("cannot .getResponse() before sending");return this.xhr_.response}getErrorText(){if(!this.sent_)throw no("cannot .getErrorText() before sending");return this.xhr_.statusText}abort(){this.xhr_.abort()}getResponseHeader(e){return this.xhr_.getResponseHeader(e)}addUploadProgressListener(e){this.xhr_.upload!=null&&this.xhr_.upload.addEventListener("progress",e)}removeUploadProgressListener(e){this.xhr_.upload!=null&&this.xhr_.upload.removeEventListener("progress",e)}}class XR extends YR{initXhr(){this.xhr_.responseType="text"}}function nv(){return new XR}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qs{constructor(e,i){this._service=e,i instanceof Gn?this._location=i:this._location=Gn.makeFromUrl(i,e.host)}toString(){return"gs://"+this._location.bucket+"/"+this._location.path}_newRef(e,i){return new qs(e,i)}get root(){const e=new Gn(this._location.bucket,"");return this._newRef(this._service,e)}get bucket(){return this._location.bucket}get fullPath(){return this._location.path}get name(){return Z1(this._location.path)}get storage(){return this._service}get parent(){const e=NR(this._location.path);if(e===null)return null;const i=new Gn(this._location.bucket,e);return new qs(this._service,i)}_throwIfRoot(e){if(this._location.path==="")throw cR(e)}}function KR(a,e,i){a._throwIfRoot("uploadBytes");const r=QR(a.storage,a._location,$1(),new Qr(e,!0),i);return a.storage.makeRequestWithTokens(r,nv).then(l=>({metadata:l,ref:a}))}function ZR(a){a._throwIfRoot("getDownloadURL");const e=jR(a.storage,a._location,$1());return a.storage.makeRequestWithTokens(e,nv).then(i=>{if(i===null)throw oR();return i})}function $R(a,e){const i=MR(a._location.path,e),r=new Gn(a._location.bucket,i);return new qs(a.storage,r)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function JR(a){return/^[A-Za-z]+:\/\//.test(a)}function WR(a,e){return new qs(a,e)}function iv(a,e){if(a instanceof cm){const i=a;if(i._bucket==null)throw aR();const r=new qs(i,i._bucket);return e!=null?iv(r,e):r}else return e!==void 0?$R(a,e):a}function tw(a,e){if(e&&JR(e)){if(a instanceof cm)return WR(a,e);throw Cd("To use ref(service, url), the first argument must be a Storage instance.")}else return iv(a,e)}function F_(a,e){const i=e?.[j1];return i==null?null:Gn.makeFromBucketSpec(i,a)}function ew(a,e,i,r={}){a.host=`${e}:${i}`;const l=bo(e);l&&(t0(`https://${a.host}/b`),n0("Storage",!0)),a._isUsingEmulator=!0,a._protocol=l?"https":"http";const{mockUserToken:u}=r;u&&(a._overrideAuthToken=typeof u=="string"?u:e0(u,a.app.options.projectId))}class cm{constructor(e,i,r,l,u,h=!1){this.app=e,this._authProvider=i,this._appCheckProvider=r,this._url=l,this._firebaseVersion=u,this._isUsingEmulator=h,this._bucket=null,this._host=H1,this._protocol="https",this._appId=null,this._deleted=!1,this._maxOperationRetryTime=KS,this._maxUploadRetryTime=ZS,this._requests=new Set,l!=null?this._bucket=Gn.makeFromBucketSpec(l,this._host):this._bucket=F_(this._host,this.app.options)}get host(){return this._host}set host(e){this._host=e,this._url!=null?this._bucket=Gn.makeFromBucketSpec(this._url,e):this._bucket=F_(e,this.app.options)}get maxUploadRetryTime(){return this._maxUploadRetryTime}set maxUploadRetryTime(e){j_("time",0,Number.POSITIVE_INFINITY,e),this._maxUploadRetryTime=e}get maxOperationRetryTime(){return this._maxOperationRetryTime}set maxOperationRetryTime(e){j_("time",0,Number.POSITIVE_INFINITY,e),this._maxOperationRetryTime=e}async _getAuthToken(){if(this._overrideAuthToken)return this._overrideAuthToken;const e=this._authProvider.getImmediate({optional:!0});if(e){const i=await e.getToken();if(i!==null)return i.accessToken}return null}async _getAppCheckToken(){if(o0(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const e=this._appCheckProvider.getImmediate({optional:!0});return e?(await e.getToken()).token:null}_delete(){return this._deleted||(this._deleted=!0,this._requests.forEach(e=>e.cancel()),this._requests.clear()),Promise.resolve()}_makeStorageReference(e){return new qs(this,e)}_makeRequest(e,i,r,l,u=!0){if(this._deleted)return new fR(F1());{const h=AR(e,this._appId,r,l,i,this._firebaseVersion,u,this._isUsingEmulator);return this._requests.add(h),h.getPromise().then(()=>this._requests.delete(h),()=>this._requests.delete(h)),h}}async makeRequestWithTokens(e,i){const[r,l]=await Promise.all([this._getAuthToken(),this._getAppCheckToken()]);return this._makeRequest(e,i,r,l).getPromise()}}const G_="@firebase/storage",Q_="0.14.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rv="storage";function nw(a,e,i){return a=gr(a),KR(a,e,i)}function iw(a){return a=gr(a),ZR(a)}function rw(a,e){return a=gr(a),tw(a,e)}function sw(a=f0(),e){a=gr(a);const r=l0(a,rv).getImmediate({identifier:e}),l=J_("storage");return l&&aw(r,...l),r}function aw(a,e,i,r={}){ew(a,e,i,r)}function lw(a,{instanceIdentifier:e}){const i=a.getProvider("app").getImmediate(),r=a.getProvider("auth-internal"),l=a.getProvider("app-check-internal");return new cm(i,r,l,e,u0)}function ow(){mo(new ja(rv,lw,"PUBLIC").setMultipleInstances(!0)),Zr(G_,Q_,""),Zr(G_,Q_,"esm2020")}ow();const uw={apiKey:"AIzaSyAMatTvaez5hQhc3b5DOgqTgb6j_Uk5Pa8",authDomain:"mystic-tome-467312.firebaseapp.com",projectId:"mystic-tome-467312",storageBucket:"mystic-tome-467312.firebasestorage.app",messagingSenderId:"1083041581692",appId:"1:1083041581692:web:b8560598d354924b6057f9"},sv=c0(uw),Y_=OS(sv),cw=sw(sv);function fw(a,e){return e.forEach(function(i){i&&typeof i!="string"&&!Array.isArray(i)&&Object.keys(i).forEach(function(r){if(r!=="default"&&!(r in a)){var l=Object.getOwnPropertyDescriptor(i,r);Object.defineProperty(a,r,l.get?l:{enumerable:!0,get:function(){return i[r]}})}})}),Object.freeze(a)}function av(a,e){return new Promise(function(i,r){let l;return hw(a).then(function(u){try{return l=u,i(new Blob([e.slice(0,2),l,e.slice(2)],{type:"image/jpeg"}))}catch(h){return r(h)}},r)})}const hw=a=>new Promise((e,i)=>{const r=new FileReader;r.addEventListener("load",({target:{result:l}})=>{const u=new DataView(l);let h=0;if(u.getUint16(h)!==65496)return i("not a valid JPEG");for(h+=2;;){const m=u.getUint16(h);if(m===65498)break;const g=u.getUint16(h+2);if(m===65505&&u.getUint32(h+4)===1165519206){const _=h+10;let p;switch(u.getUint16(_)){case 18761:p=!0;break;case 19789:p=!1;break;default:return i("TIFF header contains invalid endian")}if(u.getUint16(_+2,p)!==42)return i("TIFF header contains invalid version");const E=u.getUint32(_+4,p),v=_+E+2+12*u.getUint16(_+E,p);for(let R=_+E+2;R<v;R+=12)if(u.getUint16(R,p)==274){if(u.getUint16(R+2,p)!==3)return i("Orientation data type is invalid");if(u.getUint32(R+4,p)!==1)return i("Orientation data count is invalid");u.setUint16(R+8,1,p);break}return e(l.slice(h,h+2+g))}h+=2+g}return e(new Blob)}),r.readAsArrayBuffer(a)});var wc={},dw={get exports(){return wc},set exports(a){wc=a}};(function(a){var e,i,r={};dw.exports=r,r.parse=function(l,u){for(var h=r.bin.readUshort,m=r.bin.readUint,g=0,_={},p=new Uint8Array(l),E=p.length-4;m(p,E)!=101010256;)E--;g=E,g+=4;var v=h(p,g+=4);h(p,g+=2);var R=m(p,g+=2),U=m(p,g+=4);g+=4,g=U;for(var B=0;B<v;B++){m(p,g),g+=4,g+=4,g+=4,m(p,g+=4),R=m(p,g+=4);var k=m(p,g+=4),P=h(p,g+=4),$=h(p,g+2),F=h(p,g+4);g+=6;var G=m(p,g+=8);g+=4,g+=P+$+F,r._readLocal(p,G,_,R,k,u)}return _},r._readLocal=function(l,u,h,m,g,_){var p=r.bin.readUshort,E=r.bin.readUint;E(l,u),p(l,u+=4),p(l,u+=2);var v=p(l,u+=2);E(l,u+=2),E(l,u+=4),u+=4;var R=p(l,u+=8),U=p(l,u+=2);u+=2;var B=r.bin.readUTF8(l,u,R);if(u+=R,u+=U,_)h[B]={size:g,csize:m};else{var k=new Uint8Array(l.buffer,u);if(v==0)h[B]=new Uint8Array(k.buffer.slice(u,u+m));else{if(v!=8)throw"unknown compression method: "+v;var P=new Uint8Array(g);r.inflateRaw(k,P),h[B]=P}}},r.inflateRaw=function(l,u){return r.F.inflate(l,u)},r.inflate=function(l,u){return l[0],l[1],r.inflateRaw(new Uint8Array(l.buffer,l.byteOffset+2,l.length-6),u)},r.deflate=function(l,u){u==null&&(u={level:6});var h=0,m=new Uint8Array(50+Math.floor(1.1*l.length));m[h]=120,m[h+1]=156,h+=2,h=r.F.deflateRaw(l,m,h,u.level);var g=r.adler(l,0,l.length);return m[h+0]=g>>>24&255,m[h+1]=g>>>16&255,m[h+2]=g>>>8&255,m[h+3]=g>>>0&255,new Uint8Array(m.buffer,0,h+4)},r.deflateRaw=function(l,u){u==null&&(u={level:6});var h=new Uint8Array(50+Math.floor(1.1*l.length)),m=r.F.deflateRaw(l,h,m,u.level);return new Uint8Array(h.buffer,0,m)},r.encode=function(l,u){u==null&&(u=!1);var h=0,m=r.bin.writeUint,g=r.bin.writeUshort,_={};for(var p in l){var E=!r._noNeed(p)&&!u,v=l[p],R=r.crc.crc(v,0,v.length);_[p]={cpr:E,usize:v.length,crc:R,file:E?r.deflateRaw(v):v}}for(var p in _)h+=_[p].file.length+30+46+2*r.bin.sizeUTF8(p);h+=22;var U=new Uint8Array(h),B=0,k=[];for(var p in _){var P=_[p];k.push(B),B=r._writeHeader(U,B,p,P,0)}var $=0,F=B;for(var p in _)P=_[p],k.push(B),B=r._writeHeader(U,B,p,P,1,k[$++]);var G=B-F;return m(U,B,101010256),B+=4,g(U,B+=4,$),g(U,B+=2,$),m(U,B+=2,G),m(U,B+=4,F),B+=4,B+=2,U.buffer},r._noNeed=function(l){var u=l.split(".").pop().toLowerCase();return"png,jpg,jpeg,zip".indexOf(u)!=-1},r._writeHeader=function(l,u,h,m,g,_){var p=r.bin.writeUint,E=r.bin.writeUshort,v=m.file;return p(l,u,g==0?67324752:33639248),u+=4,g==1&&(u+=2),E(l,u,20),E(l,u+=2,0),E(l,u+=2,m.cpr?8:0),p(l,u+=2,0),p(l,u+=4,m.crc),p(l,u+=4,v.length),p(l,u+=4,m.usize),E(l,u+=4,r.bin.sizeUTF8(h)),E(l,u+=2,0),u+=2,g==1&&(u+=2,u+=2,p(l,u+=6,_),u+=4),u+=r.bin.writeUTF8(l,u,h),g==0&&(l.set(v,u),u+=v.length),u},r.crc={table:function(){for(var l=new Uint32Array(256),u=0;u<256;u++){for(var h=u,m=0;m<8;m++)1&h?h=3988292384^h>>>1:h>>>=1;l[u]=h}return l}(),update:function(l,u,h,m){for(var g=0;g<m;g++)l=r.crc.table[255&(l^u[h+g])]^l>>>8;return l},crc:function(l,u,h){return 4294967295^r.crc.update(4294967295,l,u,h)}},r.adler=function(l,u,h){for(var m=1,g=0,_=u,p=u+h;_<p;){for(var E=Math.min(_+5552,p);_<E;)g+=m+=l[_++];m%=65521,g%=65521}return g<<16|m},r.bin={readUshort:function(l,u){return l[u]|l[u+1]<<8},writeUshort:function(l,u,h){l[u]=255&h,l[u+1]=h>>8&255},readUint:function(l,u){return 16777216*l[u+3]+(l[u+2]<<16|l[u+1]<<8|l[u])},writeUint:function(l,u,h){l[u]=255&h,l[u+1]=h>>8&255,l[u+2]=h>>16&255,l[u+3]=h>>24&255},readASCII:function(l,u,h){for(var m="",g=0;g<h;g++)m+=String.fromCharCode(l[u+g]);return m},writeASCII:function(l,u,h){for(var m=0;m<h.length;m++)l[u+m]=h.charCodeAt(m)},pad:function(l){return l.length<2?"0"+l:l},readUTF8:function(l,u,h){for(var m,g="",_=0;_<h;_++)g+="%"+r.bin.pad(l[u+_].toString(16));try{m=decodeURIComponent(g)}catch{return r.bin.readASCII(l,u,h)}return m},writeUTF8:function(l,u,h){for(var m=h.length,g=0,_=0;_<m;_++){var p=h.charCodeAt(_);if((4294967168&p)==0)l[u+g]=p,g++;else if((4294965248&p)==0)l[u+g]=192|p>>6,l[u+g+1]=128|p>>0&63,g+=2;else if((4294901760&p)==0)l[u+g]=224|p>>12,l[u+g+1]=128|p>>6&63,l[u+g+2]=128|p>>0&63,g+=3;else{if((4292870144&p)!=0)throw"e";l[u+g]=240|p>>18,l[u+g+1]=128|p>>12&63,l[u+g+2]=128|p>>6&63,l[u+g+3]=128|p>>0&63,g+=4}}return g},sizeUTF8:function(l){for(var u=l.length,h=0,m=0;m<u;m++){var g=l.charCodeAt(m);if((4294967168&g)==0)h++;else if((4294965248&g)==0)h+=2;else if((4294901760&g)==0)h+=3;else{if((4292870144&g)!=0)throw"e";h+=4}}return h}},r.F={},r.F.deflateRaw=function(l,u,h,m){var g=[[0,0,0,0,0],[4,4,8,4,0],[4,5,16,8,0],[4,6,16,16,0],[4,10,16,32,0],[8,16,32,32,0],[8,16,128,128,0],[8,32,128,256,0],[32,128,258,1024,1],[32,258,258,4096,1]][m],_=r.F.U,p=r.F._goodIndex;r.F._hash;var E=r.F._putsE,v=0,R=h<<3,U=0,B=l.length;if(m==0){for(;v<B;)E(u,R,v+(O=Math.min(65535,B-v))==B?1:0),R=r.F._copyExact(l,v,O,u,R+8),v+=O;return R>>>3}var k=_.lits,P=_.strt,$=_.prev,F=0,G=0,st=0,q=0,L=0,T=0;for(B>2&&(P[T=r.F._hash(l,0)]=0),v=0;v<B;v++){if(L=T,v+1<B-2){T=r.F._hash(l,v+1);var A=v+1&32767;$[A]=P[T],P[T]=A}if(U<=v){(F>14e3||G>26697)&&B-v>100&&(U<v&&(k[F]=v-U,F+=2,U=v),R=r.F._writeBlock(v==B-1||U==B?1:0,k,F,q,l,st,v-st,u,R),F=G=q=0,st=v);var D=0;v<B-2&&(D=r.F._bestMatch(l,v,$,L,Math.min(g[2],B-v),g[3]));var O=D>>>16,N=65535&D;if(D!=0){N=65535&D;var w=p(O=D>>>16,_.of0);_.lhst[257+w]++;var j=p(N,_.df0);_.dhst[j]++,q+=_.exb[w]+_.dxb[j],k[F]=O<<23|v-U,k[F+1]=N<<16|w<<8|j,F+=2,U=v+O}else _.lhst[l[v]]++;G++}}for(st==v&&l.length!=0||(U<v&&(k[F]=v-U,F+=2,U=v),R=r.F._writeBlock(1,k,F,q,l,st,v-st,u,R),F=0,G=0,F=G=q=0,st=v);(7&R)!=0;)R++;return R>>>3},r.F._bestMatch=function(l,u,h,m,g,_){var p=32767&u,E=h[p],v=p-E+32768&32767;if(E==p||m!=r.F._hash(l,u-v))return 0;for(var R=0,U=0,B=Math.min(32767,u);v<=B&&--_!=0&&E!=p;){if(R==0||l[u+R]==l[u+R-v]){var k=r.F._howLong(l,u,v);if(k>R){if(U=v,(R=k)>=g)break;v+2<k&&(k=v+2);for(var P=0,$=0;$<k-2;$++){var F=u-v+$+32768&32767,G=F-h[F]+32768&32767;G>P&&(P=G,E=F)}}}v+=(p=E)-(E=h[p])+32768&32767}return R<<16|U},r.F._howLong=function(l,u,h){if(l[u]!=l[u-h]||l[u+1]!=l[u+1-h]||l[u+2]!=l[u+2-h])return 0;var m=u,g=Math.min(l.length,u+258);for(u+=3;u<g&&l[u]==l[u-h];)u++;return u-m},r.F._hash=function(l,u){return(l[u]<<8|l[u+1])+(l[u+2]<<4)&65535},r.saved=0,r.F._writeBlock=function(l,u,h,m,g,_,p,E,v){var R,U,B,k,P,$,F,G,st,q=r.F.U,L=r.F._putsF,T=r.F._putsE;q.lhst[256]++,U=(R=r.F.getTrees())[0],B=R[1],k=R[2],P=R[3],$=R[4],F=R[5],G=R[6],st=R[7];var A=32+((v+3&7)==0?0:8-(v+3&7))+(p<<3),D=m+r.F.contSize(q.fltree,q.lhst)+r.F.contSize(q.fdtree,q.dhst),O=m+r.F.contSize(q.ltree,q.lhst)+r.F.contSize(q.dtree,q.dhst);O+=14+3*F+r.F.contSize(q.itree,q.ihst)+(2*q.ihst[16]+3*q.ihst[17]+7*q.ihst[18]);for(var N=0;N<286;N++)q.lhst[N]=0;for(N=0;N<30;N++)q.dhst[N]=0;for(N=0;N<19;N++)q.ihst[N]=0;var w=A<D&&A<O?0:D<O?1:2;if(L(E,v,l),L(E,v+1,w),v+=3,w==0){for(;(7&v)!=0;)v++;v=r.F._copyExact(g,_,p,E,v)}else{var j,K;if(w==1&&(j=q.fltree,K=q.fdtree),w==2){r.F.makeCodes(q.ltree,U),r.F.revCodes(q.ltree,U),r.F.makeCodes(q.dtree,B),r.F.revCodes(q.dtree,B),r.F.makeCodes(q.itree,k),r.F.revCodes(q.itree,k),j=q.ltree,K=q.dtree,T(E,v,P-257),T(E,v+=5,$-1),T(E,v+=5,F-4),v+=4;for(var C=0;C<F;C++)T(E,v+3*C,q.itree[1+(q.ordr[C]<<1)]);v+=3*F,v=r.F._codeTiny(G,q.itree,E,v),v=r.F._codeTiny(st,q.itree,E,v)}for(var I=_,nt=0;nt<h;nt+=2){for(var Y=u[nt],M=Y>>>23,J=I+(8388607&Y);I<J;)v=r.F._writeLit(g[I++],j,E,v);if(M!=0){var tt=u[nt+1],it=tt>>16,lt=tt>>8&255,et=255&tt;T(E,v=r.F._writeLit(257+lt,j,E,v),M-q.of0[lt]),v+=q.exb[lt],L(E,v=r.F._writeLit(et,K,E,v),it-q.df0[et]),v+=q.dxb[et],I+=M}}v=r.F._writeLit(256,j,E,v)}return v},r.F._copyExact=function(l,u,h,m,g){var _=g>>>3;return m[_]=h,m[_+1]=h>>>8,m[_+2]=255-m[_],m[_+3]=255-m[_+1],_+=4,m.set(new Uint8Array(l.buffer,u,h),_),g+(h+4<<3)},r.F.getTrees=function(){for(var l=r.F.U,u=r.F._hufTree(l.lhst,l.ltree,15),h=r.F._hufTree(l.dhst,l.dtree,15),m=[],g=r.F._lenCodes(l.ltree,m),_=[],p=r.F._lenCodes(l.dtree,_),E=0;E<m.length;E+=2)l.ihst[m[E]]++;for(E=0;E<_.length;E+=2)l.ihst[_[E]]++;for(var v=r.F._hufTree(l.ihst,l.itree,7),R=19;R>4&&l.itree[1+(l.ordr[R-1]<<1)]==0;)R--;return[u,h,v,g,p,R,m,_]},r.F.getSecond=function(l){for(var u=[],h=0;h<l.length;h+=2)u.push(l[h+1]);return u},r.F.nonZero=function(l){for(var u="",h=0;h<l.length;h+=2)l[h+1]!=0&&(u+=(h>>1)+",");return u},r.F.contSize=function(l,u){for(var h=0,m=0;m<u.length;m++)h+=u[m]*l[1+(m<<1)];return h},r.F._codeTiny=function(l,u,h,m){for(var g=0;g<l.length;g+=2){var _=l[g],p=l[g+1];m=r.F._writeLit(_,u,h,m);var E=_==16?2:_==17?3:7;_>15&&(r.F._putsE(h,m,p,E),m+=E)}return m},r.F._lenCodes=function(l,u){for(var h=l.length;h!=2&&l[h-1]==0;)h-=2;for(var m=0;m<h;m+=2){var g=l[m+1],_=m+3<h?l[m+3]:-1,p=m+5<h?l[m+5]:-1,E=m==0?-1:l[m-1];if(g==0&&_==g&&p==g){for(var v=m+5;v+2<h&&l[v+2]==g;)v+=2;(R=Math.min(v+1-m>>>1,138))<11?u.push(17,R-3):u.push(18,R-11),m+=2*R-2}else if(g==E&&_==g&&p==g){for(v=m+5;v+2<h&&l[v+2]==g;)v+=2;var R=Math.min(v+1-m>>>1,6);u.push(16,R-3),m+=2*R-2}else u.push(g,0)}return h>>>1},r.F._hufTree=function(l,u,h){var m=[],g=l.length,_=u.length,p=0;for(p=0;p<_;p+=2)u[p]=0,u[p+1]=0;for(p=0;p<g;p++)l[p]!=0&&m.push({lit:p,f:l[p]});var E=m.length,v=m.slice(0);if(E==0)return 0;if(E==1){var R=m[0].lit;return v=R==0?1:0,u[1+(R<<1)]=1,u[1+(v<<1)]=1,1}m.sort(function(G,st){return G.f-st.f});var U=m[0],B=m[1],k=0,P=1,$=2;for(m[0]={lit:-1,f:U.f+B.f,l:U,r:B,d:0};P!=E-1;)U=k!=P&&($==E||m[k].f<m[$].f)?m[k++]:m[$++],B=k!=P&&($==E||m[k].f<m[$].f)?m[k++]:m[$++],m[P++]={lit:-1,f:U.f+B.f,l:U,r:B};var F=r.F.setDepth(m[P-1],0);for(F>h&&(r.F.restrictDepth(v,h,F),F=h),p=0;p<E;p++)u[1+(v[p].lit<<1)]=v[p].d;return F},r.F.setDepth=function(l,u){return l.lit!=-1?(l.d=u,u):Math.max(r.F.setDepth(l.l,u+1),r.F.setDepth(l.r,u+1))},r.F.restrictDepth=function(l,u,h){var m=0,g=1<<h-u,_=0;for(l.sort(function(E,v){return v.d==E.d?E.f-v.f:v.d-E.d}),m=0;m<l.length&&l[m].d>u;m++){var p=l[m].d;l[m].d=u,_+=g-(1<<h-p)}for(_>>>=h-u;_>0;)(p=l[m].d)<u?(l[m].d++,_-=1<<u-p-1):m++;for(;m>=0;m--)l[m].d==u&&_<0&&(l[m].d--,_++);_!=0&&console.log("debt left")},r.F._goodIndex=function(l,u){var h=0;return u[16|h]<=l&&(h|=16),u[8|h]<=l&&(h|=8),u[4|h]<=l&&(h|=4),u[2|h]<=l&&(h|=2),u[1|h]<=l&&(h|=1),h},r.F._writeLit=function(l,u,h,m){return r.F._putsF(h,m,u[l<<1]),m+u[1+(l<<1)]},r.F.inflate=function(l,u){var h=Uint8Array;if(l[0]==3&&l[1]==0)return u||new h(0);var m=r.F,g=m._bitsF,_=m._bitsE,p=m._decodeTiny,E=m.makeCodes,v=m.codes2map,R=m._get17,U=m.U,B=u==null;B&&(u=new h(l.length>>>2<<3));for(var k,P,$=0,F=0,G=0,st=0,q=0,L=0,T=0,A=0,D=0;$==0;)if($=g(l,D,1),F=g(l,D+1,2),D+=3,F!=0){if(B&&(u=r.F._check(u,A+(1<<17))),F==1&&(k=U.flmap,P=U.fdmap,L=511,T=31),F==2){G=_(l,D,5)+257,st=_(l,D+5,5)+1,q=_(l,D+10,4)+4,D+=14;for(var O=0;O<38;O+=2)U.itree[O]=0,U.itree[O+1]=0;var N=1;for(O=0;O<q;O++){var w=_(l,D+3*O,3);U.itree[1+(U.ordr[O]<<1)]=w,w>N&&(N=w)}D+=3*q,E(U.itree,N),v(U.itree,N,U.imap),k=U.lmap,P=U.dmap,D=p(U.imap,(1<<N)-1,G+st,l,D,U.ttree);var j=m._copyOut(U.ttree,0,G,U.ltree);L=(1<<j)-1;var K=m._copyOut(U.ttree,G,st,U.dtree);T=(1<<K)-1,E(U.ltree,j),v(U.ltree,j,k),E(U.dtree,K),v(U.dtree,K,P)}for(;;){var C=k[R(l,D)&L];D+=15&C;var I=C>>>4;if(!(I>>>8))u[A++]=I;else{if(I==256)break;var nt=A+I-254;if(I>264){var Y=U.ldef[I-257];nt=A+(Y>>>3)+_(l,D,7&Y),D+=7&Y}var M=P[R(l,D)&T];D+=15&M;var J=M>>>4,tt=U.ddef[J],it=(tt>>>4)+g(l,D,15&tt);for(D+=15&tt,B&&(u=r.F._check(u,A+(1<<17)));A<nt;)u[A]=u[A++-it],u[A]=u[A++-it],u[A]=u[A++-it],u[A]=u[A++-it];A=nt}}}else{(7&D)!=0&&(D+=8-(7&D));var lt=4+(D>>>3),et=l[lt-4]|l[lt-3]<<8;B&&(u=r.F._check(u,A+et)),u.set(new h(l.buffer,l.byteOffset+lt,et),A),D=lt+et<<3,A+=et}return u.length==A?u:u.slice(0,A)},r.F._check=function(l,u){var h=l.length;if(u<=h)return l;var m=new Uint8Array(Math.max(h<<1,u));return m.set(l,0),m},r.F._decodeTiny=function(l,u,h,m,g,_){for(var p=r.F._bitsE,E=r.F._get17,v=0;v<h;){var R=l[E(m,g)&u];g+=15&R;var U=R>>>4;if(U<=15)_[v]=U,v++;else{var B=0,k=0;U==16?(k=3+p(m,g,2),g+=2,B=_[v-1]):U==17?(k=3+p(m,g,3),g+=3):U==18&&(k=11+p(m,g,7),g+=7);for(var P=v+k;v<P;)_[v]=B,v++}}return g},r.F._copyOut=function(l,u,h,m){for(var g=0,_=0,p=m.length>>>1;_<h;){var E=l[_+u];m[_<<1]=0,m[1+(_<<1)]=E,E>g&&(g=E),_++}for(;_<p;)m[_<<1]=0,m[1+(_<<1)]=0,_++;return g},r.F.makeCodes=function(l,u){for(var h,m,g,_,p=r.F.U,E=l.length,v=p.bl_count,R=0;R<=u;R++)v[R]=0;for(R=1;R<E;R+=2)v[l[R]]++;var U=p.next_code;for(h=0,v[0]=0,m=1;m<=u;m++)h=h+v[m-1]<<1,U[m]=h;for(g=0;g<E;g+=2)(_=l[g+1])!=0&&(l[g]=U[_],U[_]++)},r.F.codes2map=function(l,u,h){for(var m=l.length,g=r.F.U.rev15,_=0;_<m;_+=2)if(l[_+1]!=0)for(var p=_>>1,E=l[_+1],v=p<<4|E,R=u-E,U=l[_]<<R,B=U+(1<<R);U!=B;)h[g[U]>>>15-u]=v,U++},r.F.revCodes=function(l,u){for(var h=r.F.U.rev15,m=15-u,g=0;g<l.length;g+=2){var _=l[g]<<u-l[g+1];l[g]=h[_]>>>m}},r.F._putsE=function(l,u,h){h<<=7&u;var m=u>>>3;l[m]|=h,l[m+1]|=h>>>8},r.F._putsF=function(l,u,h){h<<=7&u;var m=u>>>3;l[m]|=h,l[m+1]|=h>>>8,l[m+2]|=h>>>16},r.F._bitsE=function(l,u,h){return(l[u>>>3]|l[1+(u>>>3)]<<8)>>>(7&u)&(1<<h)-1},r.F._bitsF=function(l,u,h){return(l[u>>>3]|l[1+(u>>>3)]<<8|l[2+(u>>>3)]<<16)>>>(7&u)&(1<<h)-1},r.F._get17=function(l,u){return(l[u>>>3]|l[1+(u>>>3)]<<8|l[2+(u>>>3)]<<16)>>>(7&u)},r.F._get25=function(l,u){return(l[u>>>3]|l[1+(u>>>3)]<<8|l[2+(u>>>3)]<<16|l[3+(u>>>3)]<<24)>>>(7&u)},r.F.U=(e=Uint16Array,i=Uint32Array,{next_code:new e(16),bl_count:new e(16),ordr:[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15],of0:[3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,999,999,999],exb:[0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0,0,0,0],ldef:new e(32),df0:[1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577,65535,65535],dxb:[0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13,0,0],ddef:new i(32),flmap:new e(512),fltree:[],fdmap:new e(32),fdtree:[],lmap:new e(32768),ltree:[],ttree:[],dmap:new e(32768),dtree:[],imap:new e(512),itree:[],rev15:new e(32768),lhst:new i(286),dhst:new i(30),ihst:new i(19),lits:new i(15e3),strt:new e(65536),prev:new e(32768)}),function(){for(var l=r.F.U,u=0;u<32768;u++){var h=u;h=(4278255360&(h=(4042322160&(h=(3435973836&(h=(2863311530&h)>>>1|(1431655765&h)<<1))>>>2|(858993459&h)<<2))>>>4|(252645135&h)<<4))>>>8|(16711935&h)<<8,l.rev15[u]=(h>>>16|h<<16)>>>17}function m(g,_,p){for(;_--!=0;)g.push(0,p)}for(u=0;u<32;u++)l.ldef[u]=l.of0[u]<<3|l.exb[u],l.ddef[u]=l.df0[u]<<4|l.dxb[u];m(l.fltree,144,8),m(l.fltree,112,9),m(l.fltree,24,7),m(l.fltree,8,8),r.F.makeCodes(l.fltree,9),r.F.codes2map(l.fltree,9,l.flmap),r.F.revCodes(l.fltree,9),m(l.fdtree,32,5),r.F.makeCodes(l.fdtree,5),r.F.codes2map(l.fdtree,5,l.fdmap),r.F.revCodes(l.fdtree,5),m(l.itree,19,0),m(l.ltree,286,0),m(l.dtree,30,0),m(l.ttree,320,0)}()})();var mw=fw({__proto__:null,default:wc},[wc]);const gi=function(){var a={nextZero(p,E){for(;p[E]!=0;)E++;return E},readUshort:(p,E)=>p[E]<<8|p[E+1],writeUshort(p,E,v){p[E]=v>>8&255,p[E+1]=255&v},readUint:(p,E)=>16777216*p[E]+(p[E+1]<<16|p[E+2]<<8|p[E+3]),writeUint(p,E,v){p[E]=v>>24&255,p[E+1]=v>>16&255,p[E+2]=v>>8&255,p[E+3]=255&v},readASCII(p,E,v){let R="";for(let U=0;U<v;U++)R+=String.fromCharCode(p[E+U]);return R},writeASCII(p,E,v){for(let R=0;R<v.length;R++)p[E+R]=v.charCodeAt(R)},readBytes(p,E,v){const R=[];for(let U=0;U<v;U++)R.push(p[E+U]);return R},pad:p=>p.length<2?`0${p}`:p,readUTF8(p,E,v){let R,U="";for(let B=0;B<v;B++)U+=`%${a.pad(p[E+B].toString(16))}`;try{R=decodeURIComponent(U)}catch{return a.readASCII(p,E,v)}return R}};function e(p,E,v,R){const U=E*v,B=u(R),k=Math.ceil(E*B/8),P=new Uint8Array(4*U),$=new Uint32Array(P.buffer),{ctype:F}=R,{depth:G}=R,st=a.readUshort;if(F==6){const Y=U<<2;if(G==8)for(var q=0;q<Y;q+=4)P[q]=p[q],P[q+1]=p[q+1],P[q+2]=p[q+2],P[q+3]=p[q+3];if(G==16)for(q=0;q<Y;q++)P[q]=p[q<<1]}else if(F==2){const Y=R.tabs.tRNS;if(Y==null){if(G==8)for(q=0;q<U;q++){var L=3*q;$[q]=255<<24|p[L+2]<<16|p[L+1]<<8|p[L]}if(G==16)for(q=0;q<U;q++)L=6*q,$[q]=255<<24|p[L+4]<<16|p[L+2]<<8|p[L]}else{var T=Y[0];const M=Y[1],J=Y[2];if(G==8)for(q=0;q<U;q++){var A=q<<2;L=3*q,$[q]=255<<24|p[L+2]<<16|p[L+1]<<8|p[L],p[L]==T&&p[L+1]==M&&p[L+2]==J&&(P[A+3]=0)}if(G==16)for(q=0;q<U;q++)A=q<<2,L=6*q,$[q]=255<<24|p[L+4]<<16|p[L+2]<<8|p[L],st(p,L)==T&&st(p,L+2)==M&&st(p,L+4)==J&&(P[A+3]=0)}}else if(F==3){const Y=R.tabs.PLTE,M=R.tabs.tRNS,J=M?M.length:0;if(G==1)for(var D=0;D<v;D++){var O=D*k,N=D*E;for(q=0;q<E;q++){A=N+q<<2;var w=3*(j=p[O+(q>>3)]>>7-((7&q)<<0)&1);P[A]=Y[w],P[A+1]=Y[w+1],P[A+2]=Y[w+2],P[A+3]=j<J?M[j]:255}}if(G==2)for(D=0;D<v;D++)for(O=D*k,N=D*E,q=0;q<E;q++)A=N+q<<2,w=3*(j=p[O+(q>>2)]>>6-((3&q)<<1)&3),P[A]=Y[w],P[A+1]=Y[w+1],P[A+2]=Y[w+2],P[A+3]=j<J?M[j]:255;if(G==4)for(D=0;D<v;D++)for(O=D*k,N=D*E,q=0;q<E;q++)A=N+q<<2,w=3*(j=p[O+(q>>1)]>>4-((1&q)<<2)&15),P[A]=Y[w],P[A+1]=Y[w+1],P[A+2]=Y[w+2],P[A+3]=j<J?M[j]:255;if(G==8)for(q=0;q<U;q++){var j;A=q<<2,w=3*(j=p[q]),P[A]=Y[w],P[A+1]=Y[w+1],P[A+2]=Y[w+2],P[A+3]=j<J?M[j]:255}}else if(F==4){if(G==8)for(q=0;q<U;q++){A=q<<2;var K=p[C=q<<1];P[A]=K,P[A+1]=K,P[A+2]=K,P[A+3]=p[C+1]}if(G==16)for(q=0;q<U;q++){var C;A=q<<2,K=p[C=q<<2],P[A]=K,P[A+1]=K,P[A+2]=K,P[A+3]=p[C+2]}}else if(F==0)for(T=R.tabs.tRNS?R.tabs.tRNS:-1,D=0;D<v;D++){const Y=D*k,M=D*E;if(G==1)for(var I=0;I<E;I++){var nt=(K=255*(p[Y+(I>>>3)]>>>7-(7&I)&1))==255*T?0:255;$[M+I]=nt<<24|K<<16|K<<8|K}else if(G==2)for(I=0;I<E;I++)nt=(K=85*(p[Y+(I>>>2)]>>>6-((3&I)<<1)&3))==85*T?0:255,$[M+I]=nt<<24|K<<16|K<<8|K;else if(G==4)for(I=0;I<E;I++)nt=(K=17*(p[Y+(I>>>1)]>>>4-((1&I)<<2)&15))==17*T?0:255,$[M+I]=nt<<24|K<<16|K<<8|K;else if(G==8)for(I=0;I<E;I++)nt=(K=p[Y+I])==T?0:255,$[M+I]=nt<<24|K<<16|K<<8|K;else if(G==16)for(I=0;I<E;I++)K=p[Y+(I<<1)],nt=st(p,Y+(I<<1))==T?0:255,$[M+I]=nt<<24|K<<16|K<<8|K}return P}function i(p,E,v,R){const U=u(p),B=Math.ceil(v*U/8),k=new Uint8Array((B+1+p.interlace)*R);return E=p.tabs.CgBI?l(E,k):r(E,k),p.interlace==0?E=h(E,p,0,v,R):p.interlace==1&&(E=function($,F){const G=F.width,st=F.height,q=u(F),L=q>>3,T=Math.ceil(G*q/8),A=new Uint8Array(st*T);let D=0;const O=[0,0,4,0,2,0,1],N=[0,4,0,2,0,1,0],w=[8,8,8,4,4,2,2],j=[8,8,4,4,2,2,1];let K=0;for(;K<7;){const I=w[K],nt=j[K];let Y=0,M=0,J=O[K];for(;J<st;)J+=I,M++;let tt=N[K];for(;tt<G;)tt+=nt,Y++;const it=Math.ceil(Y*q/8);h($,F,D,Y,M);let lt=0,et=O[K];for(;et<st;){let mt=N[K],It=D+lt*it<<3;for(;mt<G;){var C;if(q==1&&(C=(C=$[It>>3])>>7-(7&It)&1,A[et*T+(mt>>3)]|=C<<7-((7&mt)<<0)),q==2&&(C=(C=$[It>>3])>>6-(7&It)&3,A[et*T+(mt>>2)]|=C<<6-((3&mt)<<1)),q==4&&(C=(C=$[It>>3])>>4-(7&It)&15,A[et*T+(mt>>1)]|=C<<4-((1&mt)<<2)),q>=8){const Et=et*T+mt*L;for(let Ot=0;Ot<L;Ot++)A[Et+Ot]=$[(It>>3)+Ot]}It+=q,mt+=nt}lt++,et+=I}Y*M!=0&&(D+=M*(1+it)),K+=1}return A}(E,p)),E}function r(p,E){return l(new Uint8Array(p.buffer,2,p.length-6),E)}var l=function(){const p={H:{}};return p.H.N=function(E,v){const R=Uint8Array;let U,B,k=0,P=0,$=0,F=0,G=0,st=0,q=0,L=0,T=0;if(E[0]==3&&E[1]==0)return v||new R(0);const A=p.H,D=A.b,O=A.e,N=A.R,w=A.n,j=A.A,K=A.Z,C=A.m,I=v==null;for(I&&(v=new R(E.length>>>2<<5));k==0;)if(k=D(E,T,1),P=D(E,T+1,2),T+=3,P!=0){if(I&&(v=p.H.W(v,L+(1<<17))),P==1&&(U=C.J,B=C.h,st=511,q=31),P==2){$=O(E,T,5)+257,F=O(E,T+5,5)+1,G=O(E,T+10,4)+4,T+=14;let Y=1;for(var nt=0;nt<38;nt+=2)C.Q[nt]=0,C.Q[nt+1]=0;for(nt=0;nt<G;nt++){const tt=O(E,T+3*nt,3);C.Q[1+(C.X[nt]<<1)]=tt,tt>Y&&(Y=tt)}T+=3*G,w(C.Q,Y),j(C.Q,Y,C.u),U=C.w,B=C.d,T=N(C.u,(1<<Y)-1,$+F,E,T,C.v);const M=A.V(C.v,0,$,C.C);st=(1<<M)-1;const J=A.V(C.v,$,F,C.D);q=(1<<J)-1,w(C.C,M),j(C.C,M,U),w(C.D,J),j(C.D,J,B)}for(;;){const Y=U[K(E,T)&st];T+=15&Y;const M=Y>>>4;if(!(M>>>8))v[L++]=M;else{if(M==256)break;{let J=L+M-254;if(M>264){const mt=C.q[M-257];J=L+(mt>>>3)+O(E,T,7&mt),T+=7&mt}const tt=B[K(E,T)&q];T+=15&tt;const it=tt>>>4,lt=C.c[it],et=(lt>>>4)+D(E,T,15&lt);for(T+=15&lt;L<J;)v[L]=v[L++-et],v[L]=v[L++-et],v[L]=v[L++-et],v[L]=v[L++-et];L=J}}}}else{(7&T)!=0&&(T+=8-(7&T));const Y=4+(T>>>3),M=E[Y-4]|E[Y-3]<<8;I&&(v=p.H.W(v,L+M)),v.set(new R(E.buffer,E.byteOffset+Y,M),L),T=Y+M<<3,L+=M}return v.length==L?v:v.slice(0,L)},p.H.W=function(E,v){const R=E.length;if(v<=R)return E;const U=new Uint8Array(R<<1);return U.set(E,0),U},p.H.R=function(E,v,R,U,B,k){const P=p.H.e,$=p.H.Z;let F=0;for(;F<R;){const G=E[$(U,B)&v];B+=15&G;const st=G>>>4;if(st<=15)k[F]=st,F++;else{let q=0,L=0;st==16?(L=3+P(U,B,2),B+=2,q=k[F-1]):st==17?(L=3+P(U,B,3),B+=3):st==18&&(L=11+P(U,B,7),B+=7);const T=F+L;for(;F<T;)k[F]=q,F++}}return B},p.H.V=function(E,v,R,U){let B=0,k=0;const P=U.length>>>1;for(;k<R;){const $=E[k+v];U[k<<1]=0,U[1+(k<<1)]=$,$>B&&(B=$),k++}for(;k<P;)U[k<<1]=0,U[1+(k<<1)]=0,k++;return B},p.H.n=function(E,v){const R=p.H.m,U=E.length;let B,k,P,$;const F=R.j;for(var G=0;G<=v;G++)F[G]=0;for(G=1;G<U;G+=2)F[E[G]]++;const st=R.K;for(B=0,F[0]=0,k=1;k<=v;k++)B=B+F[k-1]<<1,st[k]=B;for(P=0;P<U;P+=2)$=E[P+1],$!=0&&(E[P]=st[$],st[$]++)},p.H.A=function(E,v,R){const U=E.length,B=p.H.m.r;for(let k=0;k<U;k+=2)if(E[k+1]!=0){const P=k>>1,$=E[k+1],F=P<<4|$,G=v-$;let st=E[k]<<G;const q=st+(1<<G);for(;st!=q;)R[B[st]>>>15-v]=F,st++}},p.H.l=function(E,v){const R=p.H.m.r,U=15-v;for(let B=0;B<E.length;B+=2){const k=E[B]<<v-E[B+1];E[B]=R[k]>>>U}},p.H.M=function(E,v,R){R<<=7&v;const U=v>>>3;E[U]|=R,E[U+1]|=R>>>8},p.H.I=function(E,v,R){R<<=7&v;const U=v>>>3;E[U]|=R,E[U+1]|=R>>>8,E[U+2]|=R>>>16},p.H.e=function(E,v,R){return(E[v>>>3]|E[1+(v>>>3)]<<8)>>>(7&v)&(1<<R)-1},p.H.b=function(E,v,R){return(E[v>>>3]|E[1+(v>>>3)]<<8|E[2+(v>>>3)]<<16)>>>(7&v)&(1<<R)-1},p.H.Z=function(E,v){return(E[v>>>3]|E[1+(v>>>3)]<<8|E[2+(v>>>3)]<<16)>>>(7&v)},p.H.i=function(E,v){return(E[v>>>3]|E[1+(v>>>3)]<<8|E[2+(v>>>3)]<<16|E[3+(v>>>3)]<<24)>>>(7&v)},p.H.m=function(){const E=Uint16Array,v=Uint32Array;return{K:new E(16),j:new E(16),X:[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15],S:[3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,999,999,999],T:[0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0,0,0,0],q:new E(32),p:[1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577,65535,65535],z:[0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13,0,0],c:new v(32),J:new E(512),_:[],h:new E(32),$:[],w:new E(32768),C:[],v:[],d:new E(32768),D:[],u:new E(512),Q:[],r:new E(32768),s:new v(286),Y:new v(30),a:new v(19),t:new v(15e3),k:new E(65536),g:new E(32768)}}(),function(){const E=p.H.m;for(var v=0;v<32768;v++){let U=v;U=(2863311530&U)>>>1|(1431655765&U)<<1,U=(3435973836&U)>>>2|(858993459&U)<<2,U=(4042322160&U)>>>4|(252645135&U)<<4,U=(4278255360&U)>>>8|(16711935&U)<<8,E.r[v]=(U>>>16|U<<16)>>>17}function R(U,B,k){for(;B--!=0;)U.push(0,k)}for(v=0;v<32;v++)E.q[v]=E.S[v]<<3|E.T[v],E.c[v]=E.p[v]<<4|E.z[v];R(E._,144,8),R(E._,112,9),R(E._,24,7),R(E._,8,8),p.H.n(E._,9),p.H.A(E._,9,E.J),p.H.l(E._,9),R(E.$,32,5),p.H.n(E.$,5),p.H.A(E.$,5,E.h),p.H.l(E.$,5),R(E.Q,19,0),R(E.C,286,0),R(E.D,30,0),R(E.v,320,0)}(),p.H.N}();function u(p){return[1,null,3,1,2,null,4][p.ctype]*p.depth}function h(p,E,v,R,U){let B=u(E);const k=Math.ceil(R*B/8);let P,$;B=Math.ceil(B/8);let F=p[v],G=0;if(F>1&&(p[v]=[0,0,1][F-2]),F==3)for(G=B;G<k;G++)p[G+1]=p[G+1]+(p[G+1-B]>>>1)&255;for(let st=0;st<U;st++)if(P=v+st*k,$=P+st+1,F=p[$-1],G=0,F==0)for(;G<k;G++)p[P+G]=p[$+G];else if(F==1){for(;G<B;G++)p[P+G]=p[$+G];for(;G<k;G++)p[P+G]=p[$+G]+p[P+G-B]}else if(F==2)for(;G<k;G++)p[P+G]=p[$+G]+p[P+G-k];else if(F==3){for(;G<B;G++)p[P+G]=p[$+G]+(p[P+G-k]>>>1);for(;G<k;G++)p[P+G]=p[$+G]+(p[P+G-k]+p[P+G-B]>>>1)}else{for(;G<B;G++)p[P+G]=p[$+G]+m(0,p[P+G-k],0);for(;G<k;G++)p[P+G]=p[$+G]+m(p[P+G-B],p[P+G-k],p[P+G-B-k])}return p}function m(p,E,v){const R=p+E-v,U=R-p,B=R-E,k=R-v;return U*U<=B*B&&U*U<=k*k?p:B*B<=k*k?E:v}function g(p,E,v){v.width=a.readUint(p,E),E+=4,v.height=a.readUint(p,E),E+=4,v.depth=p[E],E++,v.ctype=p[E],E++,v.compress=p[E],E++,v.filter=p[E],E++,v.interlace=p[E],E++}function _(p,E,v,R,U,B,k,P,$){const F=Math.min(E,U),G=Math.min(v,B);let st=0,q=0;for(let K=0;K<G;K++)for(let C=0;C<F;C++)if(k>=0&&P>=0?(st=K*E+C<<2,q=(P+K)*U+k+C<<2):(st=(-P+K)*E-k+C<<2,q=K*U+C<<2),$==0)R[q]=p[st],R[q+1]=p[st+1],R[q+2]=p[st+2],R[q+3]=p[st+3];else if($==1){var L=p[st+3]*.00392156862745098,T=p[st]*L,A=p[st+1]*L,D=p[st+2]*L,O=R[q+3]*(1/255),N=R[q]*O,w=R[q+1]*O,j=R[q+2]*O;const I=1-L,nt=L+O*I,Y=nt==0?0:1/nt;R[q+3]=255*nt,R[q+0]=(T+N*I)*Y,R[q+1]=(A+w*I)*Y,R[q+2]=(D+j*I)*Y}else if($==2)L=p[st+3],T=p[st],A=p[st+1],D=p[st+2],O=R[q+3],N=R[q],w=R[q+1],j=R[q+2],L==O&&T==N&&A==w&&D==j?(R[q]=0,R[q+1]=0,R[q+2]=0,R[q+3]=0):(R[q]=T,R[q+1]=A,R[q+2]=D,R[q+3]=L);else if($==3){if(L=p[st+3],T=p[st],A=p[st+1],D=p[st+2],O=R[q+3],N=R[q],w=R[q+1],j=R[q+2],L==O&&T==N&&A==w&&D==j)continue;if(L<220&&O>20)return!1}return!0}return{decode:function(E){const v=new Uint8Array(E);let R=8;const U=a,B=U.readUshort,k=U.readUint,P={tabs:{},frames:[]},$=new Uint8Array(v.length);let F,G=0,st=0;const q=[137,80,78,71,13,10,26,10];for(var L=0;L<8;L++)if(v[L]!=q[L])throw"The input is not a PNG file!";for(;R<v.length;){const K=U.readUint(v,R);R+=4;const C=U.readASCII(v,R,4);if(R+=4,C=="IHDR")g(v,R,P);else if(C=="iCCP"){for(var T=R;v[T]!=0;)T++;U.readASCII(v,R,T-R),v[T+1];const I=v.slice(T+2,R+K);let nt=null;try{nt=r(I)}catch{nt=l(I)}P.tabs[C]=nt}else if(C=="CgBI")P.tabs[C]=v.slice(R,R+4);else if(C=="IDAT"){for(L=0;L<K;L++)$[G+L]=v[R+L];G+=K}else if(C=="acTL")P.tabs[C]={num_frames:k(v,R),num_plays:k(v,R+4)},F=new Uint8Array(v.length);else if(C=="fcTL"){st!=0&&((j=P.frames[P.frames.length-1]).data=i(P,F.slice(0,st),j.rect.width,j.rect.height),st=0);const I={x:k(v,R+12),y:k(v,R+16),width:k(v,R+4),height:k(v,R+8)};let nt=B(v,R+22);nt=B(v,R+20)/(nt==0?100:nt);const Y={rect:I,delay:Math.round(1e3*nt),dispose:v[R+24],blend:v[R+25]};P.frames.push(Y)}else if(C=="fdAT"){for(L=0;L<K-4;L++)F[st+L]=v[R+L+4];st+=K-4}else if(C=="pHYs")P.tabs[C]=[U.readUint(v,R),U.readUint(v,R+4),v[R+8]];else if(C=="cHRM")for(P.tabs[C]=[],L=0;L<8;L++)P.tabs[C].push(U.readUint(v,R+4*L));else if(C=="tEXt"||C=="zTXt"){P.tabs[C]==null&&(P.tabs[C]={});var A=U.nextZero(v,R),D=U.readASCII(v,R,A-R),O=R+K-A-1;if(C=="tEXt")w=U.readASCII(v,A+1,O);else{var N=r(v.slice(A+2,A+2+O));w=U.readUTF8(N,0,N.length)}P.tabs[C][D]=w}else if(C=="iTXt"){P.tabs[C]==null&&(P.tabs[C]={}),A=0,T=R,A=U.nextZero(v,T),D=U.readASCII(v,T,A-T);const I=v[T=A+1];var w;v[T+1],T+=2,A=U.nextZero(v,T),U.readASCII(v,T,A-T),T=A+1,A=U.nextZero(v,T),U.readUTF8(v,T,A-T),O=K-((T=A+1)-R),I==0?w=U.readUTF8(v,T,O):(N=r(v.slice(T,T+O)),w=U.readUTF8(N,0,N.length)),P.tabs[C][D]=w}else if(C=="PLTE")P.tabs[C]=U.readBytes(v,R,K);else if(C=="hIST"){const I=P.tabs.PLTE.length/3;for(P.tabs[C]=[],L=0;L<I;L++)P.tabs[C].push(B(v,R+2*L))}else if(C=="tRNS")P.ctype==3?P.tabs[C]=U.readBytes(v,R,K):P.ctype==0?P.tabs[C]=B(v,R):P.ctype==2&&(P.tabs[C]=[B(v,R),B(v,R+2),B(v,R+4)]);else if(C=="gAMA")P.tabs[C]=U.readUint(v,R)/1e5;else if(C=="sRGB")P.tabs[C]=v[R];else if(C=="bKGD")P.ctype==0||P.ctype==4?P.tabs[C]=[B(v,R)]:P.ctype==2||P.ctype==6?P.tabs[C]=[B(v,R),B(v,R+2),B(v,R+4)]:P.ctype==3&&(P.tabs[C]=v[R]);else if(C=="IEND")break;R+=K,U.readUint(v,R),R+=4}var j;return st!=0&&((j=P.frames[P.frames.length-1]).data=i(P,F.slice(0,st),j.rect.width,j.rect.height)),P.data=i(P,$,P.width,P.height),delete P.compress,delete P.interlace,delete P.filter,P},toRGBA8:function(E){const v=E.width,R=E.height;if(E.tabs.acTL==null)return[e(E.data,v,R,E).buffer];const U=[];E.frames[0].data==null&&(E.frames[0].data=E.data);const B=v*R*4,k=new Uint8Array(B),P=new Uint8Array(B),$=new Uint8Array(B);for(let G=0;G<E.frames.length;G++){const st=E.frames[G],q=st.rect.x,L=st.rect.y,T=st.rect.width,A=st.rect.height,D=e(st.data,T,A,E);if(G!=0)for(var F=0;F<B;F++)$[F]=k[F];if(st.blend==0?_(D,T,A,k,v,R,q,L,0):st.blend==1&&_(D,T,A,k,v,R,q,L,1),U.push(k.buffer.slice(0)),st.dispose!=0){if(st.dispose==1)_(P,T,A,k,v,R,q,L,0);else if(st.dispose==2)for(F=0;F<B;F++)k[F]=$[F]}}return U},_paeth:m,_copyTile:_,_bin:a}}();(function(){const{_copyTile:a}=gi,{_bin:e}=gi,i=gi._paeth;var r={table:function(){const T=new Uint32Array(256);for(let A=0;A<256;A++){let D=A;for(let O=0;O<8;O++)1&D?D=3988292384^D>>>1:D>>>=1;T[A]=D}return T}(),update(T,A,D,O){for(let N=0;N<O;N++)T=r.table[255&(T^A[D+N])]^T>>>8;return T},crc:(T,A,D)=>4294967295^r.update(4294967295,T,A,D)};function l(T,A,D,O){A[D]+=T[0]*O>>4,A[D+1]+=T[1]*O>>4,A[D+2]+=T[2]*O>>4,A[D+3]+=T[3]*O>>4}function u(T){return Math.max(0,Math.min(255,T))}function h(T,A){const D=T[0]-A[0],O=T[1]-A[1],N=T[2]-A[2],w=T[3]-A[3];return D*D+O*O+N*N+w*w}function m(T,A,D,O,N,w,j){j==null&&(j=1);const K=O.length,C=[];for(var I=0;I<K;I++){const et=O[I];C.push([et>>>0&255,et>>>8&255,et>>>16&255,et>>>24&255])}for(I=0;I<K;I++){let et=4294967295;for(var nt=0,Y=0;Y<K;Y++){var M=h(C[I],C[Y]);Y!=I&&M<et&&(et=M,nt=Y)}}const J=new Uint32Array(N.buffer),tt=new Int16Array(A*D*4),it=[0,8,2,10,12,4,14,6,3,11,1,9,15,7,13,5];for(I=0;I<it.length;I++)it[I]=255*((it[I]+.5)/16-.5);for(let et=0;et<D;et++)for(let mt=0;mt<A;mt++){var lt;I=4*(et*A+mt),j!=2?lt=[u(T[I]+tt[I]),u(T[I+1]+tt[I+1]),u(T[I+2]+tt[I+2]),u(T[I+3]+tt[I+3])]:(M=it[4*(3&et)+(3&mt)],lt=[u(T[I]+M),u(T[I+1]+M),u(T[I+2]+M),u(T[I+3]+M)]),nt=0;let It=16777215;for(Y=0;Y<K;Y++){const zt=h(lt,C[Y]);zt<It&&(It=zt,nt=Y)}const Et=C[nt],Ot=[lt[0]-Et[0],lt[1]-Et[1],lt[2]-Et[2],lt[3]-Et[3]];j==1&&(mt!=A-1&&l(Ot,tt,I+4,7),et!=D-1&&(mt!=0&&l(Ot,tt,I+4*A-4,3),l(Ot,tt,I+4*A,5),mt!=A-1&&l(Ot,tt,I+4*A+4,1))),w[I>>2]=nt,J[I>>2]=O[nt]}}function g(T,A,D,O,N){N==null&&(N={});const{crc:w}=r,j=e.writeUint,K=e.writeUshort,C=e.writeASCII;let I=8;const nt=T.frames.length>1;let Y,M=!1,J=33+(nt?20:0);if(N.sRGB!=null&&(J+=13),N.pHYs!=null&&(J+=21),N.iCCP!=null&&(Y=pako.deflate(N.iCCP),J+=21+Y.length+4),T.ctype==3){for(var tt=T.plte.length,it=0;it<tt;it++)T.plte[it]>>>24!=255&&(M=!0);J+=8+3*tt+4+(M?8+1*tt+4:0)}for(var lt=0;lt<T.frames.length;lt++)nt&&(J+=38),J+=(Et=T.frames[lt]).cimg.length+12,lt!=0&&(J+=4);J+=12;const et=new Uint8Array(J),mt=[137,80,78,71,13,10,26,10];for(it=0;it<8;it++)et[it]=mt[it];if(j(et,I,13),I+=4,C(et,I,"IHDR"),I+=4,j(et,I,A),I+=4,j(et,I,D),I+=4,et[I]=T.depth,I++,et[I]=T.ctype,I++,et[I]=0,I++,et[I]=0,I++,et[I]=0,I++,j(et,I,w(et,I-17,17)),I+=4,N.sRGB!=null&&(j(et,I,1),I+=4,C(et,I,"sRGB"),I+=4,et[I]=N.sRGB,I++,j(et,I,w(et,I-5,5)),I+=4),N.iCCP!=null){const Ot=13+Y.length;j(et,I,Ot),I+=4,C(et,I,"iCCP"),I+=4,C(et,I,"ICC profile"),I+=11,I+=2,et.set(Y,I),I+=Y.length,j(et,I,w(et,I-(Ot+4),Ot+4)),I+=4}if(N.pHYs!=null&&(j(et,I,9),I+=4,C(et,I,"pHYs"),I+=4,j(et,I,N.pHYs[0]),I+=4,j(et,I,N.pHYs[1]),I+=4,et[I]=N.pHYs[2],I++,j(et,I,w(et,I-13,13)),I+=4),nt&&(j(et,I,8),I+=4,C(et,I,"acTL"),I+=4,j(et,I,T.frames.length),I+=4,j(et,I,N.loop!=null?N.loop:0),I+=4,j(et,I,w(et,I-12,12)),I+=4),T.ctype==3){for(j(et,I,3*(tt=T.plte.length)),I+=4,C(et,I,"PLTE"),I+=4,it=0;it<tt;it++){const Ot=3*it,zt=T.plte[it],Yt=255&zt,ue=zt>>>8&255,bn=zt>>>16&255;et[I+Ot+0]=Yt,et[I+Ot+1]=ue,et[I+Ot+2]=bn}if(I+=3*tt,j(et,I,w(et,I-3*tt-4,3*tt+4)),I+=4,M){for(j(et,I,tt),I+=4,C(et,I,"tRNS"),I+=4,it=0;it<tt;it++)et[I+it]=T.plte[it]>>>24&255;I+=tt,j(et,I,w(et,I-tt-4,tt+4)),I+=4}}let It=0;for(lt=0;lt<T.frames.length;lt++){var Et=T.frames[lt];nt&&(j(et,I,26),I+=4,C(et,I,"fcTL"),I+=4,j(et,I,It++),I+=4,j(et,I,Et.rect.width),I+=4,j(et,I,Et.rect.height),I+=4,j(et,I,Et.rect.x),I+=4,j(et,I,Et.rect.y),I+=4,K(et,I,O[lt]),I+=2,K(et,I,1e3),I+=2,et[I]=Et.dispose,I++,et[I]=Et.blend,I++,j(et,I,w(et,I-30,30)),I+=4);const Ot=Et.cimg;j(et,I,(tt=Ot.length)+(lt==0?0:4)),I+=4;const zt=I;C(et,I,lt==0?"IDAT":"fdAT"),I+=4,lt!=0&&(j(et,I,It++),I+=4),et.set(Ot,I),I+=tt,j(et,I,w(et,zt,I-zt)),I+=4}return j(et,I,0),I+=4,C(et,I,"IEND"),I+=4,j(et,I,w(et,I-4,4)),I+=4,et.buffer}function _(T,A,D){for(let O=0;O<T.frames.length;O++){const N=T.frames[O];N.rect.width;const w=N.rect.height,j=new Uint8Array(w*N.bpl+w);N.cimg=R(N.img,w,N.bpp,N.bpl,j,A,D)}}function p(T,A,D,O,N){const w=N[0],j=N[1],K=N[2],C=N[3],I=N[4],nt=N[5];let Y=6,M=8,J=255;for(var tt=0;tt<T.length;tt++){const we=new Uint8Array(T[tt]);for(var it=we.length,lt=0;lt<it;lt+=4)J&=we[lt+3]}const et=J!=255,mt=function(xt,te,ye,Te,re,sn){const ce=[];for(var Xt=0;Xt<xt.length;Xt++){const Ve=new Uint8Array(xt[Xt]),Sn=new Uint32Array(Ve.buffer);var Xe;let Ne=0,an=0,Ke=te,ze=ye,_i=Te?1:0;if(Xt!=0){const ji=sn||Te||Xt==1||ce[Xt-2].dispose!=0?1:2;let Fi=0,vr=1e9;for(let ai=0;ai<ji;ai++){var Kt=new Uint8Array(xt[Xt-1-ai]);const li=new Uint32Array(xt[Xt-1-ai]);let Ze=te,On=ye,ln=-1,oi=-1;for(let Vn=0;Vn<ye;Vn++)for(let pn=0;pn<te;pn++)Sn[$t=Vn*te+pn]!=li[$t]&&(pn<Ze&&(Ze=pn),pn>ln&&(ln=pn),Vn<On&&(On=Vn),Vn>oi&&(oi=Vn));ln==-1&&(Ze=On=ln=oi=0),re&&((1&Ze)==1&&Ze--,(1&On)==1&&On--);const ui=(ln-Ze+1)*(oi-On+1);ui<vr&&(vr=ui,Fi=ai,Ne=Ze,an=On,Ke=ln-Ze+1,ze=oi-On+1)}Kt=new Uint8Array(xt[Xt-1-Fi]),Fi==1&&(ce[Xt-1].dispose=2),Xe=new Uint8Array(Ke*ze*4),a(Kt,te,ye,Xe,Ke,ze,-Ne,-an,0),_i=a(Ve,te,ye,Xe,Ke,ze,-Ne,-an,3)?1:0,_i==1?v(Ve,te,ye,Xe,{x:Ne,y:an,width:Ke,height:ze}):a(Ve,te,ye,Xe,Ke,ze,-Ne,-an,0)}else Xe=Ve.slice(0);ce.push({rect:{x:Ne,y:an,width:Ke,height:ze},img:Xe,blend:_i,dispose:0})}if(Te)for(Xt=0;Xt<ce.length;Xt++){if((me=ce[Xt]).blend==1)continue;const Ve=me.rect,Sn=ce[Xt-1].rect,Ne=Math.min(Ve.x,Sn.x),an=Math.min(Ve.y,Sn.y),Ke={x:Ne,y:an,width:Math.max(Ve.x+Ve.width,Sn.x+Sn.width)-Ne,height:Math.max(Ve.y+Ve.height,Sn.y+Sn.height)-an};ce[Xt-1].dispose=1,Xt-1!=0&&E(xt,te,ye,ce,Xt-1,Ke,re),E(xt,te,ye,ce,Xt,Ke,re)}let Bt=0;if(xt.length!=1)for(var $t=0;$t<ce.length;$t++){var me;Bt+=(me=ce[$t]).rect.width*me.rect.height}return ce}(T,A,D,w,j,K),It={},Et=[],Ot=[];if(O!=0){const we=[];for(lt=0;lt<mt.length;lt++)we.push(mt[lt].img.buffer);const xt=function(re){let sn=0;for(var ce=0;ce<re.length;ce++)sn+=re[ce].byteLength;const Xt=new Uint8Array(sn);let Xe=0;for(ce=0;ce<re.length;ce++){const Kt=new Uint8Array(re[ce]),Bt=Kt.length;for(let $t=0;$t<Bt;$t+=4){let me=Kt[$t],Ve=Kt[$t+1],Sn=Kt[$t+2];const Ne=Kt[$t+3];Ne==0&&(me=Ve=Sn=0),Xt[Xe+$t]=me,Xt[Xe+$t+1]=Ve,Xt[Xe+$t+2]=Sn,Xt[Xe+$t+3]=Ne}Xe+=Bt}return Xt.buffer}(we),te=B(xt,O);for(lt=0;lt<te.plte.length;lt++)Et.push(te.plte[lt].est.rgba);let ye=0;for(lt=0;lt<mt.length;lt++){const Te=(Yt=mt[lt]).img.length;var zt=new Uint8Array(te.inds.buffer,ye>>2,Te>>2);Ot.push(zt);const re=new Uint8Array(te.abuf,ye,Te);nt&&m(Yt.img,Yt.rect.width,Yt.rect.height,Et,re,zt),Yt.img.set(re),ye+=Te}}else for(tt=0;tt<mt.length;tt++){var Yt=mt[tt];const we=new Uint32Array(Yt.img.buffer);var ue=Yt.rect.width;for(it=we.length,zt=new Uint8Array(it),Ot.push(zt),lt=0;lt<it;lt++){const xt=we[lt];if(lt!=0&&xt==we[lt-1])zt[lt]=zt[lt-1];else if(lt>ue&&xt==we[lt-ue])zt[lt]=zt[lt-ue];else{let te=It[xt];if(te==null&&(It[xt]=te=Et.length,Et.push(xt),Et.length>=300))break;zt[lt]=te}}}const bn=Et.length;for(bn<=256&&I==0&&(M=bn<=2?1:bn<=4?2:bn<=16?4:8,M=Math.max(M,C)),tt=0;tt<mt.length;tt++){(Yt=mt[tt]).rect.x,Yt.rect.y,ue=Yt.rect.width;const we=Yt.rect.height;let xt=Yt.img;new Uint32Array(xt.buffer);let te=4*ue,ye=4;if(bn<=256&&I==0){te=Math.ceil(M*ue/8);var Ye=new Uint8Array(te*we);const Te=Ot[tt];for(let re=0;re<we;re++){lt=re*te;const sn=re*ue;if(M==8)for(var ie=0;ie<ue;ie++)Ye[lt+ie]=Te[sn+ie];else if(M==4)for(ie=0;ie<ue;ie++)Ye[lt+(ie>>1)]|=Te[sn+ie]<<4-4*(1&ie);else if(M==2)for(ie=0;ie<ue;ie++)Ye[lt+(ie>>2)]|=Te[sn+ie]<<6-2*(3&ie);else if(M==1)for(ie=0;ie<ue;ie++)Ye[lt+(ie>>3)]|=Te[sn+ie]<<7-1*(7&ie)}xt=Ye,Y=3,ye=1}else if(et==0&&mt.length==1){Ye=new Uint8Array(ue*we*3);const Te=ue*we;for(lt=0;lt<Te;lt++){const re=3*lt,sn=4*lt;Ye[re]=xt[sn],Ye[re+1]=xt[sn+1],Ye[re+2]=xt[sn+2]}xt=Ye,Y=2,ye=3,te=3*ue}Yt.img=xt,Yt.bpl=te,Yt.bpp=ye}return{ctype:Y,depth:M,plte:Et,frames:mt}}function E(T,A,D,O,N,w,j){const K=Uint8Array,C=Uint32Array,I=new K(T[N-1]),nt=new C(T[N-1]),Y=N+1<T.length?new K(T[N+1]):null,M=new K(T[N]),J=new C(M.buffer);let tt=A,it=D,lt=-1,et=-1;for(let It=0;It<w.height;It++)for(let Et=0;Et<w.width;Et++){const Ot=w.x+Et,zt=w.y+It,Yt=zt*A+Ot,ue=J[Yt];ue==0||O[N-1].dispose==0&&nt[Yt]==ue&&(Y==null||Y[4*Yt+3]!=0)||(Ot<tt&&(tt=Ot),Ot>lt&&(lt=Ot),zt<it&&(it=zt),zt>et&&(et=zt))}lt==-1&&(tt=it=lt=et=0),j&&((1&tt)==1&&tt--,(1&it)==1&&it--),w={x:tt,y:it,width:lt-tt+1,height:et-it+1};const mt=O[N];mt.rect=w,mt.blend=1,mt.img=new Uint8Array(w.width*w.height*4),O[N-1].dispose==0?(a(I,A,D,mt.img,w.width,w.height,-w.x,-w.y,0),v(M,A,D,mt.img,w)):a(M,A,D,mt.img,w.width,w.height,-w.x,-w.y,0)}function v(T,A,D,O,N){a(T,A,D,O,N.width,N.height,-N.x,-N.y,2)}function R(T,A,D,O,N,w,j){const K=[];let C,I=[0,1,2,3,4];w!=-1?I=[w]:(A*O>5e5||D==1)&&(I=[0]),j&&(C={level:0});const nt=mw;for(var Y=0;Y<I.length;Y++){for(let tt=0;tt<A;tt++)U(N,T,tt,O,D,I[Y]);K.push(nt.deflate(N,C))}let M,J=1e9;for(Y=0;Y<K.length;Y++)K[Y].length<J&&(M=Y,J=K[Y].length);return K[M]}function U(T,A,D,O,N,w){const j=D*O;let K=j+D;if(T[K]=w,K++,w==0)if(O<500)for(var C=0;C<O;C++)T[K+C]=A[j+C];else T.set(new Uint8Array(A.buffer,j,O),K);else if(w==1){for(C=0;C<N;C++)T[K+C]=A[j+C];for(C=N;C<O;C++)T[K+C]=A[j+C]-A[j+C-N]+256&255}else if(D==0){for(C=0;C<N;C++)T[K+C]=A[j+C];if(w==2)for(C=N;C<O;C++)T[K+C]=A[j+C];if(w==3)for(C=N;C<O;C++)T[K+C]=A[j+C]-(A[j+C-N]>>1)+256&255;if(w==4)for(C=N;C<O;C++)T[K+C]=A[j+C]-i(A[j+C-N],0,0)+256&255}else{if(w==2)for(C=0;C<O;C++)T[K+C]=A[j+C]+256-A[j+C-O]&255;if(w==3){for(C=0;C<N;C++)T[K+C]=A[j+C]+256-(A[j+C-O]>>1)&255;for(C=N;C<O;C++)T[K+C]=A[j+C]+256-(A[j+C-O]+A[j+C-N]>>1)&255}if(w==4){for(C=0;C<N;C++)T[K+C]=A[j+C]+256-i(0,A[j+C-O],0)&255;for(C=N;C<O;C++)T[K+C]=A[j+C]+256-i(A[j+C-N],A[j+C-O],A[j+C-N-O])&255}}}function B(T,A){const D=new Uint8Array(T),O=D.slice(0),N=new Uint32Array(O.buffer),w=k(O,A),j=w[0],K=w[1],C=D.length,I=new Uint8Array(C>>2);let nt;if(D.length<2e7)for(var Y=0;Y<C;Y+=4)nt=P(j,M=D[Y]*(1/255),J=D[Y+1]*(1/255),tt=D[Y+2]*(1/255),it=D[Y+3]*(1/255)),I[Y>>2]=nt.ind,N[Y>>2]=nt.est.rgba;else for(Y=0;Y<C;Y+=4){var M=D[Y]*.00392156862745098,J=D[Y+1]*(1/255),tt=D[Y+2]*(1/255),it=D[Y+3]*(1/255);for(nt=j;nt.left;)nt=$(nt.est,M,J,tt,it)<=0?nt.left:nt.right;I[Y>>2]=nt.ind,N[Y>>2]=nt.est.rgba}return{abuf:O.buffer,inds:I,plte:K}}function k(T,A,D){D==null&&(D=1e-4);const O=new Uint32Array(T.buffer),N={i0:0,i1:T.length,bst:null,est:null,tdst:0,left:null,right:null};N.bst=st(T,N.i0,N.i1),N.est=q(N.bst);const w=[N];for(;w.length<A;){let K=0,C=0;for(var j=0;j<w.length;j++)w[j].est.L>K&&(K=w[j].est.L,C=j);if(K<D)break;const I=w[C],nt=F(T,O,I.i0,I.i1,I.est.e,I.est.eMq255);if(I.i0>=nt||I.i1<=nt){I.est.L=0;continue}const Y={i0:I.i0,i1:nt,bst:null,est:null,tdst:0,left:null,right:null};Y.bst=st(T,Y.i0,Y.i1),Y.est=q(Y.bst);const M={i0:nt,i1:I.i1,bst:null,est:null,tdst:0,left:null,right:null};for(M.bst={R:[],m:[],N:I.bst.N-Y.bst.N},j=0;j<16;j++)M.bst.R[j]=I.bst.R[j]-Y.bst.R[j];for(j=0;j<4;j++)M.bst.m[j]=I.bst.m[j]-Y.bst.m[j];M.est=q(M.bst),I.left=Y,I.right=M,w[C]=Y,w.push(M)}for(w.sort((K,C)=>C.bst.N-K.bst.N),j=0;j<w.length;j++)w[j].ind=j;return[N,w]}function P(T,A,D,O,N){if(T.left==null)return T.tdst=function(Y,M,J,tt,it){const lt=M-Y[0],et=J-Y[1],mt=tt-Y[2],It=it-Y[3];return lt*lt+et*et+mt*mt+It*It}(T.est.q,A,D,O,N),T;const w=$(T.est,A,D,O,N);let j=T.left,K=T.right;w>0&&(j=T.right,K=T.left);const C=P(j,A,D,O,N);if(C.tdst<=w*w)return C;const I=P(K,A,D,O,N);return I.tdst<C.tdst?I:C}function $(T,A,D,O,N){const{e:w}=T;return w[0]*A+w[1]*D+w[2]*O+w[3]*N-T.eMq}function F(T,A,D,O,N,w){for(O-=4;D<O;){for(;G(T,D,N)<=w;)D+=4;for(;G(T,O,N)>w;)O-=4;if(D>=O)break;const j=A[D>>2];A[D>>2]=A[O>>2],A[O>>2]=j,D+=4,O-=4}for(;G(T,D,N)>w;)D-=4;return D+4}function G(T,A,D){return T[A]*D[0]+T[A+1]*D[1]+T[A+2]*D[2]+T[A+3]*D[3]}function st(T,A,D){const O=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],N=[0,0,0,0],w=D-A>>2;for(let j=A;j<D;j+=4){const K=T[j]*.00392156862745098,C=T[j+1]*(1/255),I=T[j+2]*(1/255),nt=T[j+3]*(1/255);N[0]+=K,N[1]+=C,N[2]+=I,N[3]+=nt,O[0]+=K*K,O[1]+=K*C,O[2]+=K*I,O[3]+=K*nt,O[5]+=C*C,O[6]+=C*I,O[7]+=C*nt,O[10]+=I*I,O[11]+=I*nt,O[15]+=nt*nt}return O[4]=O[1],O[8]=O[2],O[9]=O[6],O[12]=O[3],O[13]=O[7],O[14]=O[11],{R:O,m:N,N:w}}function q(T){const{R:A}=T,{m:D}=T,{N:O}=T,N=D[0],w=D[1],j=D[2],K=D[3],C=O==0?0:1/O,I=[A[0]-N*N*C,A[1]-N*w*C,A[2]-N*j*C,A[3]-N*K*C,A[4]-w*N*C,A[5]-w*w*C,A[6]-w*j*C,A[7]-w*K*C,A[8]-j*N*C,A[9]-j*w*C,A[10]-j*j*C,A[11]-j*K*C,A[12]-K*N*C,A[13]-K*w*C,A[14]-K*j*C,A[15]-K*K*C],nt=I,Y=L;let M=[Math.random(),Math.random(),Math.random(),Math.random()],J=0,tt=0;if(O!=0)for(let lt=0;lt<16&&(M=Y.multVec(nt,M),tt=Math.sqrt(Y.dot(M,M)),M=Y.sml(1/tt,M),!(lt!=0&&Math.abs(tt-J)<1e-9));lt++)J=tt;const it=[N*C,w*C,j*C,K*C];return{Cov:I,q:it,e:M,L:J,eMq255:Y.dot(Y.sml(255,it),M),eMq:Y.dot(M,it),rgba:(Math.round(255*it[3])<<24|Math.round(255*it[2])<<16|Math.round(255*it[1])<<8|Math.round(255*it[0])<<0)>>>0}}var L={multVec:(T,A)=>[T[0]*A[0]+T[1]*A[1]+T[2]*A[2]+T[3]*A[3],T[4]*A[0]+T[5]*A[1]+T[6]*A[2]+T[7]*A[3],T[8]*A[0]+T[9]*A[1]+T[10]*A[2]+T[11]*A[3],T[12]*A[0]+T[13]*A[1]+T[14]*A[2]+T[15]*A[3]],dot:(T,A)=>T[0]*A[0]+T[1]*A[1]+T[2]*A[2]+T[3]*A[3],sml:(T,A)=>[T*A[0],T*A[1],T*A[2],T*A[3]]};gi.encode=function(A,D,O,N,w,j,K){N==null&&(N=0),K==null&&(K=!1);const C=p(A,D,O,N,[!1,!1,!1,0,K,!1]);return _(C,-1),g(C,D,O,w,j)},gi.encodeLL=function(A,D,O,N,w,j,K,C){const I={ctype:0+(N==1?0:2)+(w==0?0:4),depth:j,frames:[]},nt=(N+w)*j,Y=nt*D;for(let M=0;M<A.length;M++)I.frames.push({rect:{x:0,y:0,width:D,height:O},img:new Uint8Array(A[M]),blend:0,dispose:1,bpp:Math.ceil(nt/8),bpl:Math.ceil(Y/8)});return _(I,0,!0),g(I,D,O,K,C)},gi.encode.compress=p,gi.encode.dither=m,gi.quantize=B,gi.quantize.getKDtree=k,gi.quantize.getNearest=P})();const lv={toArrayBuffer(a,e){const i=a.width,r=a.height,l=i<<2,u=a.getContext("2d").getImageData(0,0,i,r),h=new Uint32Array(u.data.buffer),m=(32*i+31)/32<<2,g=m*r,_=122+g,p=new ArrayBuffer(_),E=new DataView(p),v=1<<20;let R,U,B,k,P=v,$=0,F=0,G=0;function st(T){E.setUint16(F,T,!0),F+=2}function q(T){E.setUint32(F,T,!0),F+=4}function L(T){F+=T}st(19778),q(_),L(4),q(122),q(108),q(i),q(-r>>>0),st(1),st(32),q(3),q(g),q(2835),q(2835),L(8),q(16711680),q(65280),q(255),q(4278190080),q(1466527264),function T(){for(;$<r&&P>0;){for(k=122+$*m,R=0;R<l;)P--,U=h[G++],B=U>>>24,E.setUint32(k+R,U<<8|B),R+=4;$++}G<h.length?(P=v,setTimeout(T,lv._dly)):e(p)}()},toBlob(a,e){this.toArrayBuffer(a,i=>{e(new Blob([i],{type:"image/bmp"}))})},_dly:9};var Ln={CHROME:"CHROME",FIREFOX:"FIREFOX",DESKTOP_SAFARI:"DESKTOP_SAFARI",IE:"IE",IOS:"IOS",ETC:"ETC"},gw={[Ln.CHROME]:16384,[Ln.FIREFOX]:11180,[Ln.DESKTOP_SAFARI]:16384,[Ln.IE]:8192,[Ln.IOS]:4096,[Ln.ETC]:8192};const fm=typeof window<"u",ov=typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope,Cc=fm&&window.cordova&&window.cordova.require&&window.cordova.require("cordova/modulemapper"),pw=(fm||ov)&&(Cc&&Cc.getOriginalSymbol(window,"File")||typeof File<"u"&&File),uv=(fm||ov)&&(Cc&&Cc.getOriginalSymbol(window,"FileReader")||typeof FileReader<"u"&&FileReader);function hm(a,e,i=Date.now()){return new Promise(r=>{const l=a.split(","),u=l[0].match(/:(.*?);/)[1],h=globalThis.atob(l[1]);let m=h.length;const g=new Uint8Array(m);for(;m--;)g[m]=h.charCodeAt(m);const _=new Blob([g],{type:u});_.name=e,_.lastModified=i,r(_)})}function cv(a){return new Promise((e,i)=>{const r=new uv;r.onload=()=>e(r.result),r.onerror=l=>i(l),r.readAsDataURL(a)})}function fv(a){return new Promise((e,i)=>{const r=new Image;r.onload=()=>e(r),r.onerror=l=>i(l),r.src=a})}function Us(){if(Us.cachedResult!==void 0)return Us.cachedResult;let a=Ln.ETC;const{userAgent:e}=navigator;return/Chrom(e|ium)/i.test(e)?a=Ln.CHROME:/iP(ad|od|hone)/i.test(e)&&/WebKit/i.test(e)?a=Ln.IOS:/Safari/i.test(e)?a=Ln.DESKTOP_SAFARI:/Firefox/i.test(e)?a=Ln.FIREFOX:(/MSIE/i.test(e)||document.documentMode)&&(a=Ln.IE),Us.cachedResult=a,Us.cachedResult}function hv(a,e){const i=Us(),r=gw[i];let l=a,u=e,h=l*u;const m=l>u?u/l:l/u;for(;h>r*r;){const g=(r+l)/2,_=(r+u)/2;g<_?(u=_,l=_*m):(u=g*m,l=g),h=l*u}return{width:l,height:u}}function jc(a,e){let i,r;try{if(i=new OffscreenCanvas(a,e),r=i.getContext("2d"),r===null)throw new Error("getContext of OffscreenCanvas returns null")}catch{i=document.createElement("canvas"),r=i.getContext("2d")}return i.width=a,i.height=e,[i,r]}function dv(a,e){const{width:i,height:r}=hv(a.width,a.height),[l,u]=jc(i,r);return e&&/jpe?g/.test(e)&&(u.fillStyle="white",u.fillRect(0,0,l.width,l.height)),u.drawImage(a,0,0,l.width,l.height),l}function uc(){return uc.cachedResult!==void 0||(uc.cachedResult=["iPad Simulator","iPhone Simulator","iPod Simulator","iPad","iPhone","iPod"].includes(navigator.platform)||navigator.userAgent.includes("Mac")&&typeof document<"u"&&"ontouchend"in document),uc.cachedResult}function Dc(a,e={}){return new Promise(function(i,r){let l,u;var h=function(){try{return u=dv(l,e.fileType||a.type),i([l,u])}catch(g){return r(g)}},m=function(g){try{var _=function(p){try{throw p}catch(E){return r(E)}};try{let p;return cv(a).then(function(E){try{return p=E,fv(p).then(function(v){try{return l=v,function(){try{return h()}catch(R){return r(R)}}()}catch(R){return _(R)}},_)}catch(v){return _(v)}},_)}catch(p){_(p)}}catch(p){return r(p)}};try{if(uc()||[Ln.DESKTOP_SAFARI,Ln.MOBILE_SAFARI].includes(Us()))throw new Error("Skip createImageBitmap on IOS and Safari");return createImageBitmap(a).then(function(g){try{return l=g,h()}catch{return m()}},m)}catch{m()}})}function Ic(a,e,i,r,l=1){return new Promise(function(u,h){let m;if(e==="image/png"){let E,v,R;return E=a.getContext("2d"),{data:v}=E.getImageData(0,0,a.width,a.height),R=gi.encode([v.buffer],a.width,a.height,4096*l),m=new Blob([R],{type:e}),m.name=i,m.lastModified=r,g.call(this)}{let E=function(){return g.call(this)};var _=E;if(e==="image/bmp")return new Promise(v=>lv.toBlob(a,v)).then((function(v){try{return m=v,m.name=i,m.lastModified=r,E.call(this)}catch(R){return h(R)}}).bind(this),h);{let v=function(){return E.call(this)};var p=v;if(typeof OffscreenCanvas=="function"&&a instanceof OffscreenCanvas)return a.convertToBlob({type:e,quality:l}).then((function(R){try{return m=R,m.name=i,m.lastModified=r,v.call(this)}catch(U){return h(U)}}).bind(this),h);{let R;return R=a.toDataURL(e,l),hm(R,i,r).then((function(U){try{return m=U,v.call(this)}catch(B){return h(B)}}).bind(this),h)}}}function g(){return u(m)}})}function Ui(a){a.width=0,a.height=0}function za(){return new Promise(function(a,e){let i,r,l,u;return za.cachedResult!==void 0?a(za.cachedResult):hm("data:image/jpeg;base64,/9j/4QAiRXhpZgAATU0AKgAAAAgAAQESAAMAAAABAAYAAAAAAAD/2wCEAAEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAf/AABEIAAEAAgMBEQACEQEDEQH/xABKAAEAAAAAAAAAAAAAAAAAAAALEAEAAAAAAAAAAAAAAAAAAAAAAQEAAAAAAAAAAAAAAAAAAAAAEQEAAAAAAAAAAAAAAAAAAAAA/9oADAMBAAIRAxEAPwA/8H//2Q==","test.jpg",Date.now()).then(function(h){try{return i=h,Dc(i).then(function(m){try{return r=m[1],Ic(r,i.type,i.name,i.lastModified).then(function(g){try{return l=g,Ui(r),Dc(l).then(function(_){try{return u=_[0],za.cachedResult=u.width===1&&u.height===2,a(za.cachedResult)}catch(p){return e(p)}},e)}catch(_){return e(_)}},e)}catch(g){return e(g)}},e)}catch(m){return e(m)}},e)})}function mv(a){return new Promise((e,i)=>{const r=new uv;r.onload=l=>{const u=new DataView(l.target.result);if(u.getUint16(0,!1)!=65496)return e(-2);const h=u.byteLength;let m=2;for(;m<h;){if(u.getUint16(m+2,!1)<=8)return e(-1);const g=u.getUint16(m,!1);if(m+=2,g==65505){if(u.getUint32(m+=2,!1)!=1165519206)return e(-1);const _=u.getUint16(m+=6,!1)==18761;m+=u.getUint32(m+4,_);const p=u.getUint16(m,_);m+=2;for(let E=0;E<p;E++)if(u.getUint16(m+12*E,_)==274)return e(u.getUint16(m+12*E+8,_))}else{if((65280&g)!=65280)break;m+=u.getUint16(m,!1)}}return e(-1)},r.onerror=l=>i(l),r.readAsArrayBuffer(a)})}function gv(a,e){const{width:i}=a,{height:r}=a,{maxWidthOrHeight:l}=e;let u,h=a;return isFinite(l)&&(i>l||r>l)&&([h,u]=jc(i,r),i>r?(h.width=l,h.height=r/i*l):(h.width=i/r*l,h.height=l),u.drawImage(a,0,0,h.width,h.height),Ui(a)),h}function pv(a,e){const{width:i}=a,{height:r}=a,[l,u]=jc(i,r);switch(e>4&&e<9?(l.width=r,l.height=i):(l.width=i,l.height=r),e){case 2:u.transform(-1,0,0,1,i,0);break;case 3:u.transform(-1,0,0,-1,i,r);break;case 4:u.transform(1,0,0,-1,0,r);break;case 5:u.transform(0,1,1,0,0,0);break;case 6:u.transform(0,1,-1,0,r,0);break;case 7:u.transform(0,-1,-1,0,r,i);break;case 8:u.transform(0,-1,1,0,0,i)}return u.drawImage(a,0,0,i,r),Ui(a),l}function X_(a,e,i=0){return new Promise(function(r,l){let u,h,m,g,_,p,E,v,R,U,B,k,P,$,F,G,st,q,L,T;function A(O=5){if(e.signal&&e.signal.aborted)throw e.signal.reason;u+=O,e.onProgress(Math.min(u,100))}function D(O){if(e.signal&&e.signal.aborted)throw e.signal.reason;u=Math.min(Math.max(O,u),100),e.onProgress(u)}return u=i,h=e.maxIteration||10,m=1024*e.maxSizeMB*1024,A(),Dc(a,e).then((function(O){try{return[,g]=O,A(),_=gv(g,e),A(),new Promise(function(N,w){var j;if(!(j=e.exifOrientation))return mv(a).then((function(C){try{return j=C,K.call(this)}catch(I){return w(I)}}).bind(this),w);function K(){return N(j)}return K.call(this)}).then((function(N){try{return p=N,A(),za().then((function(w){try{return E=w?_:pv(_,p),A(),v=e.initialQuality||1,R=e.fileType||a.type,Ic(E,R,a.name,a.lastModified,v).then((function(j){try{{let nt=function(){if(h--&&(F>m||F>P)){let M,J;return M=T?.95*L.width:L.width,J=T?.95*L.height:L.height,[st,q]=jc(M,J),q.drawImage(L,0,0,M,J),v*=R==="image/png"?.85:.95,Ic(st,R,a.name,a.lastModified,v).then(function(tt){try{return G=tt,Ui(L),L=st,F=G.size,D(Math.min(99,Math.floor(($-F)/($-m)*100))),nt}catch(it){return l(it)}},l)}return[1]},Y=function(){return Ui(L),Ui(st),Ui(_),Ui(E),Ui(g),D(100),r(G)};var C=nt,I=Y;if(U=j,A(),B=U.size>m,k=U.size>a.size,!B&&!k)return D(100),r(U);var K;return P=a.size,$=U.size,F=$,L=E,T=!e.alwaysKeepResolution&&B,(K=(function(M){for(;M;){if(M.then)return void M.then(K,l);try{if(M.pop){if(M.length)return M.pop()?Y.call(this):M;M=nt}else M=M.call(this)}catch(J){return l(J)}}}).bind(this))(nt)}}catch(nt){return l(nt)}}).bind(this),l)}catch(j){return l(j)}}).bind(this),l)}catch(w){return l(w)}}).bind(this),l)}catch(N){return l(N)}}).bind(this),l)})}const yw=`
let scriptImported = false
self.addEventListener('message', async (e) => {
  const { file, id, imageCompressionLibUrl, options } = e.data
  options.onProgress = (progress) => self.postMessage({ progress, id })
  try {
    if (!scriptImported) {
      // console.log('[worker] importScripts', imageCompressionLibUrl)
      self.importScripts(imageCompressionLibUrl)
      scriptImported = true
    }
    // console.log('[worker] self', self)
    const compressedFile = await imageCompression(file, options)
    self.postMessage({ file: compressedFile, id })
  } catch (e) {
    // console.error('[worker] error', e)
    self.postMessage({ error: e.message + '\\n' + e.stack, id })
  }
})
`;let sd;function _w(a,e){return new Promise((i,r)=>{sd||(sd=function(h){const m=[];return m.push(h),URL.createObjectURL(new Blob(m))}(yw));const l=new Worker(sd);l.addEventListener("message",function(h){if(e.signal&&e.signal.aborted)l.terminate();else if(h.data.progress===void 0){if(h.data.error)return r(new Error(h.data.error)),void l.terminate();i(h.data.file),l.terminate()}else e.onProgress(h.data.progress)}),l.addEventListener("error",r),e.signal&&e.signal.addEventListener("abort",()=>{r(e.signal.reason),l.terminate()}),l.postMessage({file:a,imageCompressionLibUrl:e.libURL,options:{...e,onProgress:void 0,signal:void 0}})})}function En(a,e){return new Promise(function(i,r){let l,u,h,m,g,_;if(l={...e},h=0,{onProgress:m}=l,l.maxSizeMB=l.maxSizeMB||Number.POSITIVE_INFINITY,g=typeof l.useWebWorker!="boolean"||l.useWebWorker,delete l.useWebWorker,l.onProgress=R=>{h=R,typeof m=="function"&&m(h)},!(a instanceof Blob||a instanceof pw))return r(new Error("The file given is not an instance of Blob or File"));if(!/^image/.test(a.type))return r(new Error("The file given is not an image"));if(_=typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope,!g||typeof Worker!="function"||_)return X_(a,l).then((function(R){try{return u=R,v.call(this)}catch(U){return r(U)}}).bind(this),r);var p=(function(){try{return v.call(this)}catch(R){return r(R)}}).bind(this),E=function(R){try{return X_(a,l).then(function(U){try{return u=U,p()}catch(B){return r(B)}},r)}catch(U){return r(U)}};try{return l.libURL=l.libURL||"https://cdn.jsdelivr.net/npm/browser-image-compression@2.0.2/dist/browser-image-compression.js",_w(a,l).then(function(R){try{return u=R,p()}catch{return E()}},E)}catch{E()}function v(){try{u.name=a.name,u.lastModified=a.lastModified}catch{}try{l.preserveExif&&a.type==="image/jpeg"&&(!l.fileType||l.fileType&&l.fileType===a.type)&&(u=av(a,u))}catch{}return i(u)}})}En.getDataUrlFromFile=cv,En.getFilefromDataUrl=hm,En.loadImage=fv,En.drawImageInCanvas=dv,En.drawFileInCanvas=Dc,En.canvasToFile=Ic,En.getExifOrientation=mv,En.handleMaxWidthOrHeight=gv,En.followExifOrientation=pv,En.cleanupCanvasMemory=Ui,En.isAutoOrientationInBrowser=za,En.approximateBelowMaximumCanvasSizeOfBrowser=hv,En.copyExifWithoutOrientation=av,En.getBrowserName=Us,En.version="2.0.2";const K_="main";function vw(){const[a,e]=pi.useState(!1),[i,r]=pi.useState([]),[l,u]=pi.useState(0),[h,m]=pi.useState(!0);pi.useEffect(()=>QS(P_(Y_,"tomes",K_),E=>{E.exists()?r(E.data().entries||[]):r([]),m(!1)}),[]),pi.useEffect(()=>{h||GS(P_(Y_,"tomes",K_),{entries:i},{merge:!0})},[i,h]);async function g(p,E){const v=await En(p,{maxWidthOrHeight:800,maxSizeMB:.3}),R=rw(cw,`tome-images/${p.name}-${Date.now()}`);await nw(R,v);const U=await iw(R);r(B=>{const k=[...B];return k[E]={...k[E],image:U},k})}const _={background:"url(/Tome-of-Enlighten-Mint/Skins/Minty/leafy_frame.png) no-repeat center center",backgroundSize:"cover",position:"absolute",width:1150,height:805,left:0,top:0,zIndex:1,pointerEvents:"none",userSelect:"none",display:a?"block":"none"};return h?wt.jsx("div",{children:"Loading the Tome of Enlighten-Mint..."}):wt.jsxs("div",{className:"App",style:{position:"relative",minHeight:"100vh"},children:[wt.jsx("h1",{id:"tomeHeading",children:"The mysterious tome sits before you, the faint smell of mint hangs in the air. Do you dare to open the tome?"}),wt.jsxs("div",{id:"book-container",style:{position:"relative",width:1150,height:805},children:[!a&&wt.jsx("div",{id:"closed-book",onClick:()=>e(!0),style:{background:"url(/Tome-of-Enlighten-Mint/Skins/Minty/closed_book.png) no-repeat center center",backgroundSize:"cover",width:640,height:640,cursor:"pointer",position:"absolute",left:"50%",top:"50%",transform:"translate(-50%, -50%)",zIndex:2},title:"Open the Tome"}),a&&wt.jsxs(wt.Fragment,{children:[wt.jsx("div",{id:"leafy-frame",style:_}),wt.jsx("div",{id:"page-frame",style:{background:"url(/Tome-of-Enlighten-Mint/Skins/Minty/open_book.png) no-repeat center center",backgroundSize:"contain",width:1e3,height:632,position:"absolute",left:"50%",top:"50%",transform:"translate(-50%, -50%)",display:"flex",gap:20,padding:40,boxSizing:"border-box",zIndex:2},children:wt.jsx($E,{entry:i[l],entries:i,setEntries:r,currentPage:l,handleImageUpload:g})})]})]}),a&&wt.jsx(JE,{entries:i,setEntries:r,currentPage:l,setCurrentPage:u})]})}ZE.createRoot(document.getElementById("root")).render(wt.jsx(pi.StrictMode,{children:wt.jsx(vw,{})}));
